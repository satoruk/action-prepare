require('./sourcemap-register.js');module.exports=function(e,r){"use strict";var n={};function __webpack_require__(r){if(n[r]){return n[r].exports}var t=n[r]={i:r,l:false,exports:{}};var i=true;try{e[r].call(t.exports,t,t.exports,__webpack_require__);i=false}finally{if(i)delete n[r]}t.l=true;return t.exports}__webpack_require__.ab=__dirname+"/";function startup(){return __webpack_require__(144)}r(__webpack_require__);return startup()}([,,,,function(e,r,n){"use strict";var t;try{var i=require;t=i("esprima")}catch(e){if(typeof window!=="undefined")t=window.esprima}var a=n(967);function resolveJavascriptFunction(e){if(e===null)return false;try{var r="("+e+")",n=t.parse(r,{range:true});if(n.type!=="Program"||n.body.length!==1||n.body[0].type!=="ExpressionStatement"||n.body[0].expression.type!=="ArrowFunctionExpression"&&n.body[0].expression.type!=="FunctionExpression"){return false}return true}catch(e){return false}}function constructJavascriptFunction(e){var r="("+e+")",n=t.parse(r,{range:true}),i=[],a;if(n.type!=="Program"||n.body.length!==1||n.body[0].type!=="ExpressionStatement"||n.body[0].expression.type!=="ArrowFunctionExpression"&&n.body[0].expression.type!=="FunctionExpression"){throw new Error("Failed to resolve function")}n.body[0].expression.params.forEach(function(e){i.push(e.name)});a=n.body[0].expression.body.range;if(n.body[0].expression.body.type==="BlockStatement"){return new Function(i,r.slice(a[0]+1,a[1]-1))}return new Function(i,"return "+r.slice(a[0],a[1]))}function representJavascriptFunction(e){return e.toString()}function isFunction(e){return Object.prototype.toString.call(e)==="[object Function]"}e.exports=new a("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:resolveJavascriptFunction,construct:constructJavascriptFunction,predicate:isFunction,represent:representJavascriptFunction})},,,,,function(e,r,n){var t=n(951),i=n(802),a=n(645);function getAllKeys(e){return t(e,a,i)}e.exports=getAllKeys},function(e){var r=Object.prototype;function isPrototype(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||r;return e===t}e.exports=isPrototype},,,,,function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:false}},,function(e,r,n){var t=n(799),i=n(530);function isArrayLike(e){return e!=null&&i(e.length)&&!t(e)}e.exports=isArrayLike},,,function(e,r){(function(e,n){true?n(r):undefined})(this,function(e){"use strict";function merge(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++){r[n]=arguments[n]}if(r.length>1){r[0]=r[0].slice(0,-1);var t=r.length-1;for(var i=1;i<t;++i){r[i]=r[i].slice(1,-1)}r[t]=r[t].slice(1);return r.join("")}else{return r[0]}}function subexp(e){return"(?:"+e+")"}function typeOf(e){return e===undefined?"undefined":e===null?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function toUpperCase(e){return e.toUpperCase()}function toArray(e){return e!==undefined&&e!==null?e instanceof Array?e:typeof e.length!=="number"||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function assign(e,r){var n=e;if(r){for(var t in r){n[t]=r[t]}}return n}function buildExps(e){var r="[A-Za-z]",n="[\\x0D]",t="[0-9]",i="[\\x22]",a=merge(t,"[A-Fa-f]"),s="[\\x0A]",f="[\\x20]",c=subexp(subexp("%[EFef]"+a+"%"+a+a+"%"+a+a)+"|"+subexp("%[89A-Fa-f]"+a+"%"+a+a)+"|"+subexp("%"+a+a)),l="[\\:\\/\\?\\#\\[\\]\\@]",d="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",o=merge(l,d),u=e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",h=e?"[\\uE000-\\uF8FF]":"[]",p=merge(r,t,"[\\-\\.\\_\\~]",u),v=subexp(r+merge(r,t,"[\\+\\-\\.]")+"*"),b=subexp(subexp(c+"|"+merge(p,d,"[\\:]"))+"*"),y=subexp(subexp("25[0-5]")+"|"+subexp("2[0-4]"+t)+"|"+subexp("1"+t+t)+"|"+subexp("[1-9]"+t)+"|"+t),g=subexp(subexp("25[0-5]")+"|"+subexp("2[0-4]"+t)+"|"+subexp("1"+t+t)+"|"+subexp("0?[1-9]"+t)+"|0?0?"+t),w=subexp(g+"\\."+g+"\\."+g+"\\."+g),m=subexp(a+"{1,4}"),A=subexp(subexp(m+"\\:"+m)+"|"+w),E=subexp(subexp(m+"\\:")+"{6}"+A),S=subexp("\\:\\:"+subexp(m+"\\:")+"{5}"+A),k=subexp(subexp(m)+"?\\:\\:"+subexp(m+"\\:")+"{4}"+A),R=subexp(subexp(subexp(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+subexp(m+"\\:")+"{3}"+A),M=subexp(subexp(subexp(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+subexp(m+"\\:")+"{2}"+A),C=subexp(subexp(subexp(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+A),D=subexp(subexp(subexp(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+A),_=subexp(subexp(subexp(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),j=subexp(subexp(subexp(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),B=subexp([E,S,k,R,M,C,D,_,j].join("|")),q=subexp(subexp(p+"|"+c)+"+"),U=subexp(B+"\\%25"+q),x=subexp(B+subexp("\\%25|\\%(?!"+a+"{2})")+q),I=subexp("[vV]"+a+"+\\."+merge(p,d,"[\\:]")+"+"),K=subexp("\\["+subexp(x+"|"+B+"|"+I)+"\\]"),O=subexp(subexp(c+"|"+merge(p,d))+"*"),F=subexp(K+"|"+w+"(?!"+O+")"+"|"+O),P=subexp(t+"*"),T=subexp(subexp(b+"@")+"?"+F+subexp("\\:"+P)+"?"),N=subexp(c+"|"+merge(p,d,"[\\:\\@]")),z=subexp(N+"*"),L=subexp(N+"+"),W=subexp(subexp(c+"|"+merge(p,d,"[\\@]"))+"+"),H=subexp(subexp("\\/"+z)+"*"),G=subexp("\\/"+subexp(L+H)+"?"),J=subexp(W+H),Y=subexp(L+H),Q="(?!"+N+")",Z=subexp(H+"|"+G+"|"+J+"|"+Y+"|"+Q),X=subexp(subexp(N+"|"+merge("[\\/\\?]",h))+"*"),V=subexp(subexp(N+"|[\\/\\?]")+"*"),$=subexp(subexp("\\/\\/"+T+H)+"|"+G+"|"+Y+"|"+Q),ee=subexp(v+"\\:"+$+subexp("\\?"+X)+"?"+subexp("\\#"+V)+"?"),re=subexp(subexp("\\/\\/"+T+H)+"|"+G+"|"+J+"|"+Q),ne=subexp(re+subexp("\\?"+X)+"?"+subexp("\\#"+V)+"?"),te=subexp(ee+"|"+ne),ie=subexp(v+"\\:"+$+subexp("\\?"+X)+"?"),ae="^("+v+")\\:"+subexp(subexp("\\/\\/("+subexp("("+b+")@")+"?("+F+")"+subexp("\\:("+P+")")+"?)")+"?("+H+"|"+G+"|"+Y+"|"+Q+")")+subexp("\\?("+X+")")+"?"+subexp("\\#("+V+")")+"?$",se="^(){0}"+subexp(subexp("\\/\\/("+subexp("("+b+")@")+"?("+F+")"+subexp("\\:("+P+")")+"?)")+"?("+H+"|"+G+"|"+J+"|"+Q+")")+subexp("\\?("+X+")")+"?"+subexp("\\#("+V+")")+"?$",fe="^("+v+")\\:"+subexp(subexp("\\/\\/("+subexp("("+b+")@")+"?("+F+")"+subexp("\\:("+P+")")+"?)")+"?("+H+"|"+G+"|"+Y+"|"+Q+")")+subexp("\\?("+X+")")+"?$",ce="^"+subexp("\\#("+V+")")+"?$",le="^"+subexp("("+b+")@")+"?("+F+")"+subexp("\\:("+P+")")+"?$";return{NOT_SCHEME:new RegExp(merge("[^]",r,t,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(merge("[^\\%\\:]",p,d),"g"),NOT_HOST:new RegExp(merge("[^\\%\\[\\]\\:]",p,d),"g"),NOT_PATH:new RegExp(merge("[^\\%\\/\\:\\@]",p,d),"g"),NOT_PATH_NOSCHEME:new RegExp(merge("[^\\%\\/\\@]",p,d),"g"),NOT_QUERY:new RegExp(merge("[^\\%]",p,d,"[\\:\\@\\/\\?]",h),"g"),NOT_FRAGMENT:new RegExp(merge("[^\\%]",p,d,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(merge("[^]",p,d),"g"),UNRESERVED:new RegExp(p,"g"),OTHER_CHARS:new RegExp(merge("[^\\%]",p,o),"g"),PCT_ENCODED:new RegExp(c,"g"),IPV4ADDRESS:new RegExp("^("+w+")$"),IPV6ADDRESS:new RegExp("^\\[?("+B+")"+subexp(subexp("\\%25|\\%(?!"+a+"{2})")+"("+q+")")+"?\\]?$")}}var r=buildExps(false);var n=buildExps(true);var t=function(){function sliceIterator(e,r){var n=[];var t=true;var i=false;var a=undefined;try{for(var s=e[Symbol.iterator](),f;!(t=(f=s.next()).done);t=true){n.push(f.value);if(r&&n.length===r)break}}catch(e){i=true;a=e}finally{try{if(!t&&s["return"])s["return"]()}finally{if(i)throw a}}return n}return function(e,r){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return sliceIterator(e,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var i=function(e){if(Array.isArray(e)){for(var r=0,n=Array(e.length);r<e.length;r++)n[r]=e[r];return n}else{return Array.from(e)}};var a=2147483647;var s=36;var f=1;var c=26;var l=38;var d=700;var o=72;var u=128;var h="-";var p=/^xn--/;var v=/[^\0-\x7E]/;var b=/[\x2E\u3002\uFF0E\uFF61]/g;var y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"};var g=s-f;var w=Math.floor;var m=String.fromCharCode;function error$1(e){throw new RangeError(y[e])}function map(e,r){var n=[];var t=e.length;while(t--){n[t]=r(e[t])}return n}function mapDomain(e,r){var n=e.split("@");var t="";if(n.length>1){t=n[0]+"@";e=n[1]}e=e.replace(b,".");var i=e.split(".");var a=map(i,r).join(".");return t+a}function ucs2decode(e){var r=[];var n=0;var t=e.length;while(n<t){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<t){var a=e.charCodeAt(n++);if((a&64512)==56320){r.push(((i&1023)<<10)+(a&1023)+65536)}else{r.push(i);n--}}else{r.push(i)}}return r}var A=function ucs2encode(e){return String.fromCodePoint.apply(String,i(e))};var E=function basicToDigit(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return s};var S=function digitToBasic(e,r){return e+22+75*(e<26)-((r!=0)<<5)};var k=function adapt(e,r,n){var t=0;e=n?w(e/d):e>>1;e+=w(e/r);for(;e>g*c>>1;t+=s){e=w(e/g)}return w(t+(g+1)*e/(e+l))};var R=function decode(e){var r=[];var n=e.length;var t=0;var i=u;var l=o;var d=e.lastIndexOf(h);if(d<0){d=0}for(var p=0;p<d;++p){if(e.charCodeAt(p)>=128){error$1("not-basic")}r.push(e.charCodeAt(p))}for(var v=d>0?d+1:0;v<n;){var b=t;for(var y=1,g=s;;g+=s){if(v>=n){error$1("invalid-input")}var m=E(e.charCodeAt(v++));if(m>=s||m>w((a-t)/y)){error$1("overflow")}t+=m*y;var A=g<=l?f:g>=l+c?c:g-l;if(m<A){break}var S=s-A;if(y>w(a/S)){error$1("overflow")}y*=S}var R=r.length+1;l=k(t-b,R,b==0);if(w(t/R)>a-i){error$1("overflow")}i+=w(t/R);t%=R;r.splice(t++,0,i)}return String.fromCodePoint.apply(String,r)};var M=function encode(e){var r=[];e=ucs2decode(e);var n=e.length;var t=u;var i=0;var l=o;var d=true;var p=false;var v=undefined;try{for(var b=e[Symbol.iterator](),y;!(d=(y=b.next()).done);d=true){var g=y.value;if(g<128){r.push(m(g))}}}catch(e){p=true;v=e}finally{try{if(!d&&b.return){b.return()}}finally{if(p){throw v}}}var A=r.length;var E=A;if(A){r.push(h)}while(E<n){var R=a;var M=true;var C=false;var D=undefined;try{for(var _=e[Symbol.iterator](),j;!(M=(j=_.next()).done);M=true){var B=j.value;if(B>=t&&B<R){R=B}}}catch(e){C=true;D=e}finally{try{if(!M&&_.return){_.return()}}finally{if(C){throw D}}}var q=E+1;if(R-t>w((a-i)/q)){error$1("overflow")}i+=(R-t)*q;t=R;var U=true;var x=false;var I=undefined;try{for(var K=e[Symbol.iterator](),O;!(U=(O=K.next()).done);U=true){var F=O.value;if(F<t&&++i>a){error$1("overflow")}if(F==t){var P=i;for(var T=s;;T+=s){var N=T<=l?f:T>=l+c?c:T-l;if(P<N){break}var z=P-N;var L=s-N;r.push(m(S(N+z%L,0)));P=w(z/L)}r.push(m(S(P,0)));l=k(i,q,E==A);i=0;++E}}}catch(e){x=true;I=e}finally{try{if(!U&&K.return){K.return()}}finally{if(x){throw I}}}++i;++t}return r.join("")};var C=function toUnicode(e){return mapDomain(e,function(e){return p.test(e)?R(e.slice(4).toLowerCase()):e})};var D=function toASCII(e){return mapDomain(e,function(e){return v.test(e)?"xn--"+M(e):e})};var _={version:"2.1.0",ucs2:{decode:ucs2decode,encode:A},decode:R,encode:M,toASCII:D,toUnicode:C};var j={};function pctEncChar(e){var r=e.charCodeAt(0);var n=void 0;if(r<16)n="%0"+r.toString(16).toUpperCase();else if(r<128)n="%"+r.toString(16).toUpperCase();else if(r<2048)n="%"+(r>>6|192).toString(16).toUpperCase()+"%"+(r&63|128).toString(16).toUpperCase();else n="%"+(r>>12|224).toString(16).toUpperCase()+"%"+(r>>6&63|128).toString(16).toUpperCase()+"%"+(r&63|128).toString(16).toUpperCase();return n}function pctDecChars(e){var r="";var n=0;var t=e.length;while(n<t){var i=parseInt(e.substr(n+1,2),16);if(i<128){r+=String.fromCharCode(i);n+=3}else if(i>=194&&i<224){if(t-n>=6){var a=parseInt(e.substr(n+4,2),16);r+=String.fromCharCode((i&31)<<6|a&63)}else{r+=e.substr(n,6)}n+=6}else if(i>=224){if(t-n>=9){var s=parseInt(e.substr(n+4,2),16);var f=parseInt(e.substr(n+7,2),16);r+=String.fromCharCode((i&15)<<12|(s&63)<<6|f&63)}else{r+=e.substr(n,9)}n+=9}else{r+=e.substr(n,3);n+=3}}return r}function _normalizeComponentEncoding(e,r){function decodeUnreserved(e){var n=pctDecChars(e);return!n.match(r.UNRESERVED)?e:n}if(e.scheme)e.scheme=String(e.scheme).replace(r.PCT_ENCODED,decodeUnreserved).toLowerCase().replace(r.NOT_SCHEME,"");if(e.userinfo!==undefined)e.userinfo=String(e.userinfo).replace(r.PCT_ENCODED,decodeUnreserved).replace(r.NOT_USERINFO,pctEncChar).replace(r.PCT_ENCODED,toUpperCase);if(e.host!==undefined)e.host=String(e.host).replace(r.PCT_ENCODED,decodeUnreserved).toLowerCase().replace(r.NOT_HOST,pctEncChar).replace(r.PCT_ENCODED,toUpperCase);if(e.path!==undefined)e.path=String(e.path).replace(r.PCT_ENCODED,decodeUnreserved).replace(e.scheme?r.NOT_PATH:r.NOT_PATH_NOSCHEME,pctEncChar).replace(r.PCT_ENCODED,toUpperCase);if(e.query!==undefined)e.query=String(e.query).replace(r.PCT_ENCODED,decodeUnreserved).replace(r.NOT_QUERY,pctEncChar).replace(r.PCT_ENCODED,toUpperCase);if(e.fragment!==undefined)e.fragment=String(e.fragment).replace(r.PCT_ENCODED,decodeUnreserved).replace(r.NOT_FRAGMENT,pctEncChar).replace(r.PCT_ENCODED,toUpperCase);return e}function _stripLeadingZeros(e){return e.replace(/^0*(.*)/,"$1")||"0"}function _normalizeIPv4(e,r){var n=e.match(r.IPV4ADDRESS)||[];var i=t(n,2),a=i[1];if(a){return a.split(".").map(_stripLeadingZeros).join(".")}else{return e}}function _normalizeIPv6(e,r){var n=e.match(r.IPV6ADDRESS)||[];var i=t(n,3),a=i[1],s=i[2];if(a){var f=a.toLowerCase().split("::").reverse(),c=t(f,2),l=c[0],d=c[1];var o=d?d.split(":").map(_stripLeadingZeros):[];var u=l.split(":").map(_stripLeadingZeros);var h=r.IPV4ADDRESS.test(u[u.length-1]);var p=h?7:8;var v=u.length-p;var b=Array(p);for(var y=0;y<p;++y){b[y]=o[y]||u[v+y]||""}if(h){b[p-1]=_normalizeIPv4(b[p-1],r)}var g=b.reduce(function(e,r,n){if(!r||r==="0"){var t=e[e.length-1];if(t&&t.index+t.length===n){t.length++}else{e.push({index:n,length:1})}}return e},[]);var w=g.sort(function(e,r){return r.length-e.length})[0];var m=void 0;if(w&&w.length>1){var A=b.slice(0,w.index);var E=b.slice(w.index+w.length);m=A.join(":")+"::"+E.join(":")}else{m=b.join(":")}if(s){m+="%"+s}return m}else{return e}}var B=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i;var q="".match(/(){0}/)[1]===undefined;function parse(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i={};var a=t.iri!==false?n:r;if(t.reference==="suffix")e=(t.scheme?t.scheme+":":"")+"//"+e;var s=e.match(B);if(s){if(q){i.scheme=s[1];i.userinfo=s[3];i.host=s[4];i.port=parseInt(s[5],10);i.path=s[6]||"";i.query=s[7];i.fragment=s[8];if(isNaN(i.port)){i.port=s[5]}}else{i.scheme=s[1]||undefined;i.userinfo=e.indexOf("@")!==-1?s[3]:undefined;i.host=e.indexOf("//")!==-1?s[4]:undefined;i.port=parseInt(s[5],10);i.path=s[6]||"";i.query=e.indexOf("?")!==-1?s[7]:undefined;i.fragment=e.indexOf("#")!==-1?s[8]:undefined;if(isNaN(i.port)){i.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?s[4]:undefined}}if(i.host){i.host=_normalizeIPv6(_normalizeIPv4(i.host,a),a)}if(i.scheme===undefined&&i.userinfo===undefined&&i.host===undefined&&i.port===undefined&&!i.path&&i.query===undefined){i.reference="same-document"}else if(i.scheme===undefined){i.reference="relative"}else if(i.fragment===undefined){i.reference="absolute"}else{i.reference="uri"}if(t.reference&&t.reference!=="suffix"&&t.reference!==i.reference){i.error=i.error||"URI is not a "+t.reference+" reference."}var f=j[(t.scheme||i.scheme||"").toLowerCase()];if(!t.unicodeSupport&&(!f||!f.unicodeSupport)){if(i.host&&(t.domainHost||f&&f.domainHost)){try{i.host=_.toASCII(i.host.replace(a.PCT_ENCODED,pctDecChars).toLowerCase())}catch(e){i.error=i.error||"Host's domain name can not be converted to ASCII via punycode: "+e}}_normalizeComponentEncoding(i,r)}else{_normalizeComponentEncoding(i,a)}if(f&&f.parse){f.parse(i,t)}}else{i.error=i.error||"URI can not be parsed."}return i}function _recomposeAuthority(e,t){var i=t.iri!==false?n:r;var a=[];if(e.userinfo!==undefined){a.push(e.userinfo);a.push("@")}if(e.host!==undefined){a.push(_normalizeIPv6(_normalizeIPv4(String(e.host),i),i).replace(i.IPV6ADDRESS,function(e,r,n){return"["+r+(n?"%25"+n:"")+"]"}))}if(typeof e.port==="number"){a.push(":");a.push(e.port.toString(10))}return a.length?a.join(""):undefined}var U=/^\.\.?\//;var x=/^\/\.(\/|$)/;var I=/^\/\.\.(\/|$)/;var K=/^\/?(?:.|\n)*?(?=\/|$)/;function removeDotSegments(e){var r=[];while(e.length){if(e.match(U)){e=e.replace(U,"")}else if(e.match(x)){e=e.replace(x,"/")}else if(e.match(I)){e=e.replace(I,"/");r.pop()}else if(e==="."||e===".."){e=""}else{var n=e.match(K);if(n){var t=n[0];e=e.slice(t.length);r.push(t)}else{throw new Error("Unexpected dot segment condition")}}}return r.join("")}function serialize(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=t.iri?n:r;var a=[];var s=j[(t.scheme||e.scheme||"").toLowerCase()];if(s&&s.serialize)s.serialize(e,t);if(e.host){if(i.IPV6ADDRESS.test(e.host)){}else if(t.domainHost||s&&s.domainHost){try{e.host=!t.iri?_.toASCII(e.host.replace(i.PCT_ENCODED,pctDecChars).toLowerCase()):_.toUnicode(e.host)}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(!t.iri?"ASCII":"Unicode")+" via punycode: "+r}}}_normalizeComponentEncoding(e,i);if(t.reference!=="suffix"&&e.scheme){a.push(e.scheme);a.push(":")}var f=_recomposeAuthority(e,t);if(f!==undefined){if(t.reference!=="suffix"){a.push("//")}a.push(f);if(e.path&&e.path.charAt(0)!=="/"){a.push("/")}}if(e.path!==undefined){var c=e.path;if(!t.absolutePath&&(!s||!s.absolutePath)){c=removeDotSegments(c)}if(f===undefined){c=c.replace(/^\/\//,"/%2F")}a.push(c)}if(e.query!==undefined){a.push("?");a.push(e.query)}if(e.fragment!==undefined){a.push("#");a.push(e.fragment)}return a.join("")}function resolveComponents(e,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var t=arguments[3];var i={};if(!t){e=parse(serialize(e,n),n);r=parse(serialize(r,n),n)}n=n||{};if(!n.tolerant&&r.scheme){i.scheme=r.scheme;i.userinfo=r.userinfo;i.host=r.host;i.port=r.port;i.path=removeDotSegments(r.path||"");i.query=r.query}else{if(r.userinfo!==undefined||r.host!==undefined||r.port!==undefined){i.userinfo=r.userinfo;i.host=r.host;i.port=r.port;i.path=removeDotSegments(r.path||"");i.query=r.query}else{if(!r.path){i.path=e.path;if(r.query!==undefined){i.query=r.query}else{i.query=e.query}}else{if(r.path.charAt(0)==="/"){i.path=removeDotSegments(r.path)}else{if((e.userinfo!==undefined||e.host!==undefined||e.port!==undefined)&&!e.path){i.path="/"+r.path}else if(!e.path){i.path=r.path}else{i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+r.path}i.path=removeDotSegments(i.path)}i.query=r.query}i.userinfo=e.userinfo;i.host=e.host;i.port=e.port}i.scheme=e.scheme}i.fragment=r.fragment;return i}function resolve(e,r,n){var t=assign({scheme:"null"},n);return serialize(resolveComponents(parse(e,t),parse(r,t),t,true),t)}function normalize(e,r){if(typeof e==="string"){e=serialize(parse(e,r),r)}else if(typeOf(e)==="object"){e=parse(serialize(e,r),r)}return e}function equal(e,r,n){if(typeof e==="string"){e=serialize(parse(e,n),n)}else if(typeOf(e)==="object"){e=serialize(e,n)}if(typeof r==="string"){r=serialize(parse(r,n),n)}else if(typeOf(r)==="object"){r=serialize(r,n)}return e===r}function escapeComponent(e,t){return e&&e.toString().replace(!t||!t.iri?r.ESCAPE:n.ESCAPE,pctEncChar)}function unescapeComponent(e,t){return e&&e.toString().replace(!t||!t.iri?r.PCT_ENCODED:n.PCT_ENCODED,pctDecChars)}var O={scheme:"http",domainHost:true,parse:function parse(e,r){if(!e.host){e.error=e.error||"HTTP URIs must have a host."}return e},serialize:function serialize(e,r){if(e.port===(String(e.scheme).toLowerCase()!=="https"?80:443)||e.port===""){e.port=undefined}if(!e.path){e.path="/"}return e}};var F={scheme:"https",domainHost:O.domainHost,parse:O.parse,serialize:O.serialize};var P={};var T=true;var N="[A-Za-z0-9\\-\\.\\_\\~"+(T?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]";var z="[0-9A-Fa-f]";var L=subexp(subexp("%[EFef]"+z+"%"+z+z+"%"+z+z)+"|"+subexp("%[89A-Fa-f]"+z+"%"+z+z)+"|"+subexp("%"+z+z));var W="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]";var H="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]";var G=merge(H,'[\\"\\\\]');var J="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]";var Y=new RegExp(N,"g");var Q=new RegExp(L,"g");var Z=new RegExp(merge("[^]",W,"[\\.]",'[\\"]',G),"g");var X=new RegExp(merge("[^]",N,J),"g");var V=X;function decodeUnreserved(e){var r=pctDecChars(e);return!r.match(Y)?e:r}var $={scheme:"mailto",parse:function parse$$1(e,r){var n=e;var t=n.to=n.path?n.path.split(","):[];n.path=undefined;if(n.query){var i=false;var a={};var s=n.query.split("&");for(var f=0,c=s.length;f<c;++f){var l=s[f].split("=");switch(l[0]){case"to":var d=l[1].split(",");for(var o=0,u=d.length;o<u;++o){t.push(d[o])}break;case"subject":n.subject=unescapeComponent(l[1],r);break;case"body":n.body=unescapeComponent(l[1],r);break;default:i=true;a[unescapeComponent(l[0],r)]=unescapeComponent(l[1],r);break}}if(i)n.headers=a}n.query=undefined;for(var h=0,p=t.length;h<p;++h){var v=t[h].split("@");v[0]=unescapeComponent(v[0]);if(!r.unicodeSupport){try{v[1]=_.toASCII(unescapeComponent(v[1],r).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}}else{v[1]=unescapeComponent(v[1],r).toLowerCase()}t[h]=v.join("@")}return n},serialize:function serialize$$1(e,r){var n=e;var t=toArray(e.to);if(t){for(var i=0,a=t.length;i<a;++i){var s=String(t[i]);var f=s.lastIndexOf("@");var c=s.slice(0,f).replace(Q,decodeUnreserved).replace(Q,toUpperCase).replace(Z,pctEncChar);var l=s.slice(f+1);try{l=!r.iri?_.toASCII(unescapeComponent(l,r).toLowerCase()):_.toUnicode(l)}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(!r.iri?"ASCII":"Unicode")+" via punycode: "+e}t[i]=c+"@"+l}n.path=t.join(",")}var d=e.headers=e.headers||{};if(e.subject)d["subject"]=e.subject;if(e.body)d["body"]=e.body;var o=[];for(var u in d){if(d[u]!==P[u]){o.push(u.replace(Q,decodeUnreserved).replace(Q,toUpperCase).replace(X,pctEncChar)+"="+d[u].replace(Q,decodeUnreserved).replace(Q,toUpperCase).replace(V,pctEncChar))}}if(o.length){n.query=o.join("&")}return n}};var ee=/^([^\:]+)\:(.*)/;var re={scheme:"urn",parse:function parse$$1(e,r){var n=e.path&&e.path.match(ee);var t=e;if(n){var i=r.scheme||t.scheme||"urn";var a=n[1].toLowerCase();var s=n[2];var f=i+":"+(r.nid||a);var c=j[f];t.nid=a;t.nss=s;t.path=undefined;if(c){t=c.parse(t,r)}}else{t.error=t.error||"URN can not be parsed."}return t},serialize:function serialize$$1(e,r){var n=r.scheme||e.scheme||"urn";var t=e.nid;var i=n+":"+(r.nid||t);var a=j[i];if(a){e=a.serialize(e,r)}var s=e;var f=e.nss;s.path=(t||r.nid)+":"+f;return s}};var ne=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/;var te={scheme:"urn:uuid",parse:function parse(e,r){var n=e;n.uuid=n.nss;n.nss=undefined;if(!r.tolerant&&(!n.uuid||!n.uuid.match(ne))){n.error=n.error||"UUID is not valid."}return n},serialize:function serialize(e,r){var n=e;n.nss=(e.uuid||"").toLowerCase();return n}};j[O.scheme]=O;j[F.scheme]=F;j[$.scheme]=$;j[re.scheme]=re;j[te.scheme]=te;e.SCHEMES=j;e.pctEncChar=pctEncChar;e.pctDecChars=pctDecChars;e.parse=parse;e.removeDotSegments=removeDotSegments;e.serialize=serialize;e.resolveComponents=resolveComponents;e.resolve=resolve;e.normalize=normalize;e.equal=equal;e.escapeComponent=escapeComponent;e.unescapeComponent=unescapeComponent;Object.defineProperty(e,"__esModule",{value:true})})},function(e){function stackGet(e){return this.__data__.get(e)}e.exports=stackGet},,,,,,,,,,,,,function(e,r,n){"use strict";var t=n(136);var i=n(199);var a=n(874);var s=n(949);var f=Object.prototype.toString;var c=Object.prototype.hasOwnProperty;var l=9;var d=10;var o=13;var u=32;var h=33;var p=34;var v=35;var b=37;var y=38;var g=39;var w=42;var m=44;var A=45;var E=58;var S=61;var k=62;var R=63;var M=64;var C=91;var D=93;var _=96;var j=123;var B=124;var q=125;var U={};U[0]="\\0";U[7]="\\a";U[8]="\\b";U[9]="\\t";U[10]="\\n";U[11]="\\v";U[12]="\\f";U[13]="\\r";U[27]="\\e";U[34]='\\"';U[92]="\\\\";U[133]="\\N";U[160]="\\_";U[8232]="\\L";U[8233]="\\P";var x=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function compileStyleMap(e,r){var n,t,i,a,s,f,l;if(r===null)return{};n={};t=Object.keys(r);for(i=0,a=t.length;i<a;i+=1){s=t[i];f=String(r[s]);if(s.slice(0,2)==="!!"){s="tag:yaml.org,2002:"+s.slice(2)}l=e.compiledTypeMap["fallback"][s];if(l&&c.call(l.styleAliases,f)){f=l.styleAliases[f]}n[s]=f}return n}function encodeHex(e){var r,n,a;r=e.toString(16).toUpperCase();if(e<=255){n="x";a=2}else if(e<=65535){n="u";a=4}else if(e<=4294967295){n="U";a=8}else{throw new i("code point within a string may not be greater than 0xFFFFFFFF")}return"\\"+n+t.repeat("0",a-r.length)+r}function State(e){this.schema=e["schema"]||a;this.indent=Math.max(1,e["indent"]||2);this.noArrayIndent=e["noArrayIndent"]||false;this.skipInvalid=e["skipInvalid"]||false;this.flowLevel=t.isNothing(e["flowLevel"])?-1:e["flowLevel"];this.styleMap=compileStyleMap(this.schema,e["styles"]||null);this.sortKeys=e["sortKeys"]||false;this.lineWidth=e["lineWidth"]||80;this.noRefs=e["noRefs"]||false;this.noCompatMode=e["noCompatMode"]||false;this.condenseFlow=e["condenseFlow"]||false;this.implicitTypes=this.schema.compiledImplicit;this.explicitTypes=this.schema.compiledExplicit;this.tag=null;this.result="";this.duplicates=[];this.usedDuplicates=null}function indentString(e,r){var n=t.repeat(" ",r),i=0,a=-1,s="",f,c=e.length;while(i<c){a=e.indexOf("\n",i);if(a===-1){f=e.slice(i);i=c}else{f=e.slice(i,a+1);i=a+1}if(f.length&&f!=="\n")s+=n;s+=f}return s}function generateNextLine(e,r){return"\n"+t.repeat(" ",e.indent*r)}function testImplicitResolving(e,r){var n,t,i;for(n=0,t=e.implicitTypes.length;n<t;n+=1){i=e.implicitTypes[n];if(i.resolve(r)){return true}}return false}function isWhitespace(e){return e===u||e===l}function isPrintable(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==65279||65536<=e&&e<=1114111}function isNsChar(e){return isPrintable(e)&&!isWhitespace(e)&&e!==65279&&e!==o&&e!==d}function isPlainSafe(e,r){return isPrintable(e)&&e!==65279&&e!==m&&e!==C&&e!==D&&e!==j&&e!==q&&e!==E&&(e!==v||r&&isNsChar(r))}function isPlainSafeFirst(e){return isPrintable(e)&&e!==65279&&!isWhitespace(e)&&e!==A&&e!==R&&e!==E&&e!==m&&e!==C&&e!==D&&e!==j&&e!==q&&e!==v&&e!==y&&e!==w&&e!==h&&e!==B&&e!==S&&e!==k&&e!==g&&e!==p&&e!==b&&e!==M&&e!==_}function needIndentIndicator(e){var r=/^\n* /;return r.test(e)}var I=1,K=2,O=3,F=4,P=5;function chooseScalarStyle(e,r,n,t,i){var a;var s,f;var c=false;var l=false;var o=t!==-1;var u=-1;var h=isPlainSafeFirst(e.charCodeAt(0))&&!isWhitespace(e.charCodeAt(e.length-1));if(r){for(a=0;a<e.length;a++){s=e.charCodeAt(a);if(!isPrintable(s)){return P}f=a>0?e.charCodeAt(a-1):null;h=h&&isPlainSafe(s,f)}}else{for(a=0;a<e.length;a++){s=e.charCodeAt(a);if(s===d){c=true;if(o){l=l||a-u-1>t&&e[u+1]!==" ";u=a}}else if(!isPrintable(s)){return P}f=a>0?e.charCodeAt(a-1):null;h=h&&isPlainSafe(s,f)}l=l||o&&(a-u-1>t&&e[u+1]!==" ")}if(!c&&!l){return h&&!i(e)?I:K}if(n>9&&needIndentIndicator(e)){return P}return l?F:O}function writeScalar(e,r,n,t){e.dump=function(){if(r.length===0){return"''"}if(!e.noCompatMode&&x.indexOf(r)!==-1){return"'"+r+"'"}var a=e.indent*Math.max(1,n);var s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a);var f=t||e.flowLevel>-1&&n>=e.flowLevel;function testAmbiguity(r){return testImplicitResolving(e,r)}switch(chooseScalarStyle(r,f,e.indent,s,testAmbiguity)){case I:return r;case K:return"'"+r.replace(/'/g,"''")+"'";case O:return"|"+blockHeader(r,e.indent)+dropEndingNewline(indentString(r,a));case F:return">"+blockHeader(r,e.indent)+dropEndingNewline(indentString(foldString(r,s),a));case P:return'"'+escapeString(r,s)+'"';default:throw new i("impossible error: invalid scalar style")}}()}function blockHeader(e,r){var n=needIndentIndicator(e)?String(r):"";var t=e[e.length-1]==="\n";var i=t&&(e[e.length-2]==="\n"||e==="\n");var a=i?"+":t?"":"-";return n+a+"\n"}function dropEndingNewline(e){return e[e.length-1]==="\n"?e.slice(0,-1):e}function foldString(e,r){var n=/(\n+)([^\n]*)/g;var t=function(){var t=e.indexOf("\n");t=t!==-1?t:e.length;n.lastIndex=t;return foldLine(e.slice(0,t),r)}();var i=e[0]==="\n"||e[0]===" ";var a;var s;while(s=n.exec(e)){var f=s[1],c=s[2];a=c[0]===" ";t+=f+(!i&&!a&&c!==""?"\n":"")+foldLine(c,r);i=a}return t}function foldLine(e,r){if(e===""||e[0]===" ")return e;var n=/ [^ ]/g;var t;var i=0,a,s=0,f=0;var c="";while(t=n.exec(e)){f=t.index;if(f-i>r){a=s>i?s:f;c+="\n"+e.slice(i,a);i=a+1}s=f}c+="\n";if(e.length-i>r&&s>i){c+=e.slice(i,s)+"\n"+e.slice(s+1)}else{c+=e.slice(i)}return c.slice(1)}function escapeString(e){var r="";var n,t;var i;for(var a=0;a<e.length;a++){n=e.charCodeAt(a);if(n>=55296&&n<=56319){t=e.charCodeAt(a+1);if(t>=56320&&t<=57343){r+=encodeHex((n-55296)*1024+t-56320+65536);a++;continue}}i=U[n];r+=!i&&isPrintable(n)?e[a]:i||encodeHex(n)}return r}function writeFlowSequence(e,r,n){var t="",i=e.tag,a,s;for(a=0,s=n.length;a<s;a+=1){if(writeNode(e,r,n[a],false,false)){if(a!==0)t+=","+(!e.condenseFlow?" ":"");t+=e.dump}}e.tag=i;e.dump="["+t+"]"}function writeBlockSequence(e,r,n,t){var i="",a=e.tag,s,f;for(s=0,f=n.length;s<f;s+=1){if(writeNode(e,r+1,n[s],true,true)){if(!t||s!==0){i+=generateNextLine(e,r)}if(e.dump&&d===e.dump.charCodeAt(0)){i+="-"}else{i+="- "}i+=e.dump}}e.tag=a;e.dump=i||"[]"}function writeFlowMapping(e,r,n){var t="",i=e.tag,a=Object.keys(n),s,f,c,l,d;for(s=0,f=a.length;s<f;s+=1){d="";if(s!==0)d+=", ";if(e.condenseFlow)d+='"';c=a[s];l=n[c];if(!writeNode(e,r,c,false,false)){continue}if(e.dump.length>1024)d+="? ";d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" ");if(!writeNode(e,r,l,false,false)){continue}d+=e.dump;t+=d}e.tag=i;e.dump="{"+t+"}"}function writeBlockMapping(e,r,n,t){var a="",s=e.tag,f=Object.keys(n),c,l,o,u,h,p;if(e.sortKeys===true){f.sort()}else if(typeof e.sortKeys==="function"){f.sort(e.sortKeys)}else if(e.sortKeys){throw new i("sortKeys must be a boolean or a function")}for(c=0,l=f.length;c<l;c+=1){p="";if(!t||c!==0){p+=generateNextLine(e,r)}o=f[c];u=n[o];if(!writeNode(e,r+1,o,true,true,true)){continue}h=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024;if(h){if(e.dump&&d===e.dump.charCodeAt(0)){p+="?"}else{p+="? "}}p+=e.dump;if(h){p+=generateNextLine(e,r)}if(!writeNode(e,r+1,u,true,h)){continue}if(e.dump&&d===e.dump.charCodeAt(0)){p+=":"}else{p+=": "}p+=e.dump;a+=p}e.tag=s;e.dump=a||"{}"}function detectType(e,r,n){var t,a,s,l,d,o;a=n?e.explicitTypes:e.implicitTypes;for(s=0,l=a.length;s<l;s+=1){d=a[s];if((d.instanceOf||d.predicate)&&(!d.instanceOf||typeof r==="object"&&r instanceof d.instanceOf)&&(!d.predicate||d.predicate(r))){e.tag=n?d.tag:"?";if(d.represent){o=e.styleMap[d.tag]||d.defaultStyle;if(f.call(d.represent)==="[object Function]"){t=d.represent(r,o)}else if(c.call(d.represent,o)){t=d.represent[o](r,o)}else{throw new i("!<"+d.tag+'> tag resolver accepts not "'+o+'" style')}e.dump=t}return true}}return false}function writeNode(e,r,n,t,a,s){e.tag=null;e.dump=n;if(!detectType(e,n,false)){detectType(e,n,true)}var c=f.call(e.dump);if(t){t=e.flowLevel<0||e.flowLevel>r}var l=c==="[object Object]"||c==="[object Array]",d,o;if(l){d=e.duplicates.indexOf(n);o=d!==-1}if(e.tag!==null&&e.tag!=="?"||o||e.indent!==2&&r>0){a=false}if(o&&e.usedDuplicates[d]){e.dump="*ref_"+d}else{if(l&&o&&!e.usedDuplicates[d]){e.usedDuplicates[d]=true}if(c==="[object Object]"){if(t&&Object.keys(e.dump).length!==0){writeBlockMapping(e,r,e.dump,a);if(o){e.dump="&ref_"+d+e.dump}}else{writeFlowMapping(e,r,e.dump);if(o){e.dump="&ref_"+d+" "+e.dump}}}else if(c==="[object Array]"){var u=e.noArrayIndent&&r>0?r-1:r;if(t&&e.dump.length!==0){writeBlockSequence(e,u,e.dump,a);if(o){e.dump="&ref_"+d+e.dump}}else{writeFlowSequence(e,u,e.dump);if(o){e.dump="&ref_"+d+" "+e.dump}}}else if(c==="[object String]"){if(e.tag!=="?"){writeScalar(e,e.dump,r,s)}}else{if(e.skipInvalid)return false;throw new i("unacceptable kind of an object to dump "+c)}if(e.tag!==null&&e.tag!=="?"){e.dump="!<"+e.tag+"> "+e.dump}}return true}function getDuplicateReferences(e,r){var n=[],t=[],i,a;inspectNode(e,n,t);for(i=0,a=t.length;i<a;i+=1){r.duplicates.push(n[t[i]])}r.usedDuplicates=new Array(a)}function inspectNode(e,r,n){var t,i,a;if(e!==null&&typeof e==="object"){i=r.indexOf(e);if(i!==-1){if(n.indexOf(i)===-1){n.push(i)}}else{r.push(e);if(Array.isArray(e)){for(i=0,a=e.length;i<a;i+=1){inspectNode(e[i],r,n)}}else{t=Object.keys(e);for(i=0,a=t.length;i<a;i+=1){inspectNode(e[t[i]],r,n)}}}}}function dump(e,r){r=r||{};var n=new State(r);if(!n.noRefs)getDuplicateReferences(e,n);if(writeNode(n,0,e,true,true))return n.dump+"\n";return""}function safeDump(e,r){return dump(e,t.extend({schema:s},r))}e.exports.dump=dump;e.exports.safeDump=safeDump},,function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.replaceEnvVer=void 0;const n=/\$\{\s*([a-zA-Z_]+[a-zA-Z0-9_]*)\s*\}/g;function replaceEnvVer(e){return e.replace(n,(e,r)=>process.env[r]||"")}r.replaceEnvVer=replaceEnvVer},function(e,r,n){"use strict";var t=n(514);e.exports=new t({explicit:[n(672),n(490),n(346)]})},,function(e,r,n){"use strict";var t=n(967);var i=Object.prototype.toString;function resolveYamlPairs(e){if(e===null)return true;var r,n,t,a,s,f=e;s=new Array(f.length);for(r=0,n=f.length;r<n;r+=1){t=f[r];if(i.call(t)!=="[object Object]")return false;a=Object.keys(t);if(a.length!==1)return false;s[r]=[a[0],t[a[0]]]}return true}function constructYamlPairs(e){if(e===null)return[];var r,n,t,i,a,s=e;a=new Array(s.length);for(r=0,n=s.length;r<n;r+=1){t=s[r];i=Object.keys(t);a[r]=[i[0],t[i[0]]]}return a}e.exports=new t("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs})},,function(e,r,n){var t=n(479);var i=t(Object,"create");e.exports=i},,,,,,,,,,,,,,,,,function(e,r,n){var t=n(380);var i=function(){var e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked(e){return!!i&&i in e}e.exports=isMasked},,,,,function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.loadInputs=void 0;const t=n(186);function getRequiredInput(e){return t.getInput(e,{required:true})}function getOptionalInput(e){const r=t.getInput(e);if(r==""){return}return r}async function loadInputs(){const e=getRequiredInput("config_file");let r={configFile:e};const n=getOptionalInput("gpg_passphrase");if(n){r={...r,gpgPassphrase:n}}return r}r.loadInputs=loadInputs},,,,,,,,function(e,r,n){var t=n(403);var i=1/0;function toKey(e){if(typeof e=="string"||t(e)){return e}var r=e+"";return r=="0"&&1/e==-i?"-0":r}e.exports=toKey},,,,,,,function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema",type:"object",properties:{env:{type:"object",patternProperties:{"^[a-zA-Z_]+[a-zA-Z0-9_]*$":{anyOf:[{type:"string"},{type:"object",required:["value"],properties:{value:{type:"string"},secret:{type:"boolean",default:true}}}]}},additionalProperties:false},file:{type:"object",patternProperties:{"^(.+)/([^/]+)$":{type:"string"}}},mask:{type:"array",items:{type:"string"}}}}},,,,function(e){function arrayPush(e,r){var n=-1,t=r.length,i=e.length;while(++n<t){e[i+n]=r[n]}return e}e.exports=arrayPush},,function(e,r,n){var t=n(869),i=n(403);var a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function isKey(e,r){if(t(e)){return false}var n=typeof e;if(n=="number"||n=="symbol"||n=="boolean"||e==null||i(e)){return true}return s.test(e)||!a.test(e)||r!=null&&e in Object(r)}e.exports=isKey},function(e){var r=typeof global=="object"&&global&&global.Object===Object&&global;e.exports=r},,function(e){e.exports=require("os")},,,,,,function(e){"use strict";e.exports=function generate_anyOf(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d="data"+(a||"");var o="valid"+i;var u="errs__"+i;var h=e.util.copy(e);var p="";h.level++;var v="valid"+h.level;var b=s.every(function(r){return e.opts.strictKeywords?typeof r=="object"&&Object.keys(r).length>0:e.util.schemaHasRules(r,e.RULES.all)});if(b){var y=h.baseId;t+=" var "+u+" = errors; var "+o+" = false;  ";var g=e.compositeRule;e.compositeRule=h.compositeRule=true;var w=s;if(w){var m,A=-1,E=w.length-1;while(A<E){m=w[A+=1];h.schema=m;h.schemaPath=f+"["+A+"]";h.errSchemaPath=c+"/"+A;t+="  "+e.validate(h)+" ";h.baseId=y;t+=" "+o+" = "+o+" || "+v+"; if (!"+o+") { ";p+="}"}}e.compositeRule=h.compositeRule=g;t+=" "+p+" if (!"+o+") {   var err =   ";if(e.createErrors!==false){t+=" { keyword: '"+"anyOf"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ";if(e.opts.messages!==false){t+=" , message: 'should match some schema in anyOf' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(vErrors); "}else{t+=" validate.errors = vErrors; return false; "}}t+=" } else {  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; } ";if(e.opts.allErrors){t+=" } "}}else{if(l){t+=" if (true) { "}}return t}},function(e,r,n){var t=n(446),i=n(739);var a=i(t);e.exports=a},,,,,,function(e,r,n){"use strict";var t=n(967);function resolveYamlBoolean(e){if(e===null)return false;var r=e.length;return r===4&&(e==="true"||e==="True"||e==="TRUE")||r===5&&(e==="false"||e==="False"||e==="FALSE")}function constructYamlBoolean(e){return e==="true"||e==="True"||e==="TRUE"}function isBoolean(e){return Object.prototype.toString.call(e)==="[object Boolean]"}e.exports=new t("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},function(e,r,n){var t=n(9);var i=1;var a=Object.prototype;var s=a.hasOwnProperty;function equalObjects(e,r,n,a,f,c){var l=n&i,d=t(e),o=d.length,u=t(r),h=u.length;if(o!=h&&!l){return false}var p=o;while(p--){var v=d[p];if(!(l?v in r:s.call(r,v))){return false}}var b=c.get(e);var y=c.get(r);if(b&&y){return b==r&&y==e}var g=true;c.set(e,r);c.set(r,e);var w=l;while(++p<o){v=d[p];var m=e[v],A=r[v];if(a){var E=l?a(A,m,v,r,e,c):a(m,A,v,e,r,c)}if(!(E===undefined?m===A||f(m,A,n,a,c):E)){g=false;break}w||(w=v=="constructor")}if(g&&!w){var S=e.constructor,k=r.constructor;if(S!=k&&("constructor"in e&&"constructor"in r)&&!(typeof S=="function"&&S instanceof S&&typeof k=="function"&&k instanceof k)){g=false}}c["delete"](e);c["delete"](r);return g}e.exports=equalObjects},,,,,function(e){"use strict";e.exports=function generate_oneOf(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d="data"+(a||"");var o="valid"+i;var u="errs__"+i;var h=e.util.copy(e);var p="";h.level++;var v="valid"+h.level;var b=h.baseId,y="prevValid"+i,g="passingSchemas"+i;t+="var "+u+" = errors , "+y+" = false , "+o+" = false , "+g+" = null; ";var w=e.compositeRule;e.compositeRule=h.compositeRule=true;var m=s;if(m){var A,E=-1,S=m.length-1;while(E<S){A=m[E+=1];if(e.opts.strictKeywords?typeof A=="object"&&Object.keys(A).length>0:e.util.schemaHasRules(A,e.RULES.all)){h.schema=A;h.schemaPath=f+"["+E+"]";h.errSchemaPath=c+"/"+E;t+="  "+e.validate(h)+" ";h.baseId=b}else{t+=" var "+v+" = true; "}if(E){t+=" if ("+v+" && "+y+") { "+o+" = false; "+g+" = ["+g+", "+E+"]; } else { ";p+="}"}t+=" if ("+v+") { "+o+" = "+y+" = true; "+g+" = "+E+"; }"}}e.compositeRule=h.compositeRule=w;t+=""+p+"if (!"+o+") {   var err =   ";if(e.createErrors!==false){t+=" { keyword: '"+"oneOf"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { passingSchemas: "+g+" } ";if(e.opts.messages!==false){t+=" , message: 'should match exactly one schema in oneOf' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(vErrors); "}else{t+=" validate.errors = vErrors; return false; "}}t+="} else {  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; }";if(e.opts.allErrors){t+=" } "}return t}},,,,,,,,function(e){"use strict";e.exports=function generate__limitLength(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d;var o="data"+(a||"");var u=e.opts.$data&&s&&s.$data,h;if(u){t+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ";h="schema"+i}else{h=s}if(!(u||typeof s=="number")){throw new Error(r+" must be number")}var p=r=="maxLength"?">":"<";t+="if ( ";if(u){t+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "}if(e.opts.unicode===false){t+=" "+o+".length "}else{t+=" ucs2length("+o+") "}t+=" "+p+" "+h+") { ";var d=r;var v=v||[];v.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+(d||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+h+" } ";if(e.opts.messages!==false){t+=" , message: 'should NOT be ";if(r=="maxLength"){t+="longer"}else{t+="shorter"}t+=" than ";if(u){t+="' + "+h+" + '"}else{t+=""+s}t+=" characters' "}if(e.opts.verbose){t+=" , schema:  ";if(u){t+="validate.schema"+f}else{t+=""+s}t+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+o+" "}t+=" } "}else{t+=" {} "}var b=t;t=v.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+b+"]); "}else{t+=" validate.errors = ["+b+"]; return false; "}}else{t+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+="} ";if(l){t+=" else { "}return t}},,,,,,,,,,function(e,r,n){var t=n(323),i=n(494);var a=1,s=2;function baseIsMatch(e,r,n,f){var c=n.length,l=c,d=!f;if(e==null){return!l}e=Object(e);while(c--){var o=n[c];if(d&&o[2]?o[1]!==e[o[0]]:!(o[0]in e)){return false}}while(++c<l){o=n[c];var u=o[0],h=e[u],p=o[1];if(d&&o[2]){if(h===undefined&&!(u in e)){return false}}else{var v=new t;if(f){var b=f(h,p,u,e,r,v)}if(!(b===undefined?i(p,h,a|s,f,v):b)){return false}}}return true}e.exports=baseIsMatch},,,,function(e,r,n){"use strict";var t=n(967);var i=Object.prototype.hasOwnProperty;function resolveYamlSet(e){if(e===null)return true;var r,n=e;for(r in n){if(i.call(n,r)){if(n[r]!==null)return false}}return true}function constructYamlSet(e){return e!==null?e:{}}e.exports=new t("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet})},function(e){function baseHasIn(e,r){return e!=null&&r in Object(e)}e.exports=baseHasIn},,,,,function(e){"use strict";e.exports=function generate_comment(e,r,n){var t=" ";var i=e.schema[r];var a=e.errSchemaPath+"/"+r;var s=!e.opts.allErrors;var f=e.util.toQuotedString(i);if(e.opts.$comment===true){t+=" console.log("+f+");"}else if(typeof e.opts.$comment=="function"){t+=" self._opts.$comment("+f+", "+e.util.toQuotedString(a)+", validate.root.schema);"}return t}},,function(e){"use strict";function isNothing(e){return typeof e==="undefined"||e===null}function isObject(e){return typeof e==="object"&&e!==null}function toArray(e){if(Array.isArray(e))return e;else if(isNothing(e))return[];return[e]}function extend(e,r){var n,t,i,a;if(r){a=Object.keys(r);for(n=0,t=a.length;n<t;n+=1){i=a[n];e[i]=r[i]}}return e}function repeat(e,r){var n="",t;for(t=0;t<r;t+=1){n+=e}return n}function isNegativeZero(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}e.exports.isNothing=isNothing;e.exports.isObject=isObject;e.exports.toArray=toArray;e.exports.repeat=repeat;e.exports.isNegativeZero=isNegativeZero;e.exports.extend=extend},,,,,,function(e){"use strict";e.exports=function generate__limitProperties(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d;var o="data"+(a||"");var u=e.opts.$data&&s&&s.$data,h;if(u){t+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ";h="schema"+i}else{h=s}if(!(u||typeof s=="number")){throw new Error(r+" must be number")}var p=r=="maxProperties"?">":"<";t+="if ( ";if(u){t+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "}t+=" Object.keys("+o+").length "+p+" "+h+") { ";var d=r;var v=v||[];v.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+h+" } ";if(e.opts.messages!==false){t+=" , message: 'should NOT have ";if(r=="maxProperties"){t+="more"}else{t+="fewer"}t+=" than ";if(u){t+="' + "+h+" + '"}else{t+=""+s}t+=" properties' "}if(e.opts.verbose){t+=" , schema:  ";if(u){t+="validate.schema"+f}else{t+=""+s}t+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+o+" "}t+=" } "}else{t+=" {} "}var b=t;t=v.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+b+"]); "}else{t+=" validate.errors = ["+b+"]; return false; "}}else{t+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+="} ";if(l){t+=" else { "}return t}},,function(__unusedmodule,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.run=void 0;const core_1=__webpack_require__(186);const config_1=__webpack_require__(373);const inputs_1=__webpack_require__(63);const prepare_1=__webpack_require__(294);async function run(e){try{const r=await inputs_1.loadInputs();const n=await config_1.loadConfig(e,r);core_1.startGroup("Setting mask values");await prepare_1.prepareMask(n);core_1.endGroup();core_1.startGroup("Exporting environment variables");await prepare_1.prepareEnv(n);core_1.endGroup();core_1.startGroup("Saving defined files");await prepare_1.prepareFile(e,n);core_1.endGroup()}catch(e){core_1.setFailed(e)}}exports.run=run;if(require.main===require.cache[eval("__filename")]){const e=process.cwd();run(e)}},,,,function(e,r,n){"use strict";var t=n(967);function resolveYamlMerge(e){return e==="<<"||e===null}e.exports=new t("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge})},,,,,function(e,r,n){var t=n(647);var i=Math.max;function overRest(e,r,n){r=i(r===undefined?e.length-1:r,0);return function(){var a=arguments,s=-1,f=i(a.length-r,0),c=Array(f);while(++s<f){c[s]=a[r+s]}s=-1;var l=Array(r+1);while(++s<r){l[s]=a[s]}l[r]=n(c);return t(e,this,l)}}e.exports=overRest},,,,,function(e,r,n){var t=n(938),i=n(895),a=n(804);function SetCache(e){var r=-1,n=e==null?0:e.length;this.__data__=new t;while(++r<n){this.add(e[r])}}SetCache.prototype.add=SetCache.prototype.push=i;SetCache.prototype.has=a;e.exports=SetCache},,,,,function(e){"use strict";e.exports=function generate_enum(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d="data"+(a||"");var o="valid"+i;var u=e.opts.$data&&s&&s.$data,h;if(u){t+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ";h="schema"+i}else{h=s}var p="i"+i,v="schema"+i;if(!u){t+=" var "+v+" = validate.schema"+f+";"}t+="var "+o+";";if(u){t+=" if (schema"+i+" === undefined) "+o+" = true; else if (!Array.isArray(schema"+i+")) "+o+" = false; else {"}t+=""+o+" = false;for (var "+p+"=0; "+p+"<"+v+".length; "+p+"++) if (equal("+d+", "+v+"["+p+"])) { "+o+" = true; break; }";if(u){t+="  }  "}t+=" if (!"+o+") {   ";var b=b||[];b.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+"enum"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValues: schema"+i+" } ";if(e.opts.messages!==false){t+=" , message: 'should be equal to one of the allowed values' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}var y=t;t=b.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+y+"]); "}else{t+=" validate.errors = ["+y+"]; return false; "}}else{t+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+=" }";if(l){t+=" else { "}return t}},function(e,r,n){var t=n(10),i=n(778);var a=Object.prototype;var s=a.hasOwnProperty;function baseKeys(e){if(!t(e)){return i(e)}var r=[];for(var n in Object(e)){if(s.call(e,n)&&n!="constructor"){r.push(n)}}return r}e.exports=baseKeys},,,,,,,,,function(e){function arrayAggregator(e,r,n,t){var i=-1,a=e==null?0:e.length;while(++i<a){var s=e[i];r(t,s,n(s),e)}return t}e.exports=arrayAggregator},,,,function(e,r,n){var t=n(497),i=n(926);var a="[object Arguments]";function baseIsArguments(e){return i(e)&&t(e)==a}e.exports=baseIsArguments},,,,,,function(e,r,n){"use strict";var t=n(514);e.exports=new t({include:[n(571)]})},,function(e,r,n){"use strict";var t=n(967);function resolveYamlNull(e){if(e===null)return true;var r=e.length;return r===1&&e==="~"||r===4&&(e==="null"||e==="Null"||e==="NULL")}function constructYamlNull(){return null}function isNull(e){return e===null}e.exports=new t("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(e,r,n){"use strict";var t=this&&this.__awaiter||function(e,r,n,t){function adopt(e){return e instanceof n?e:new n(function(r){r(e)})}return new(n||(n=Promise))(function(n,i){function fulfilled(e){try{step(t.next(e))}catch(e){i(e)}}function rejected(e){try{step(t["throw"](e))}catch(e){i(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((t=t.apply(e,r||[])).next())})};var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)if(Object.hasOwnProperty.call(e,n))r[n]=e[n];r["default"]=e;return r};Object.defineProperty(r,"__esModule",{value:true});const a=n(351);const s=i(n(87));const f=i(n(622));var c;(function(e){e[e["Success"]=0]="Success";e[e["Failure"]=1]="Failure"})(c=r.ExitCode||(r.ExitCode={}));function exportVariable(e,r){const n=a.toCommandValue(r);process.env[e]=n;a.issueCommand("set-env",{name:e},n)}r.exportVariable=exportVariable;function setSecret(e){a.issueCommand("add-mask",{},e)}r.setSecret=setSecret;function addPath(e){a.issueCommand("add-path",{},e);process.env["PATH"]=`${e}${f.delimiter}${process.env["PATH"]}`}r.addPath=addPath;function getInput(e,r){const n=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(r&&r.required&&!n){throw new Error(`Input required and not supplied: ${e}`)}return n.trim()}r.getInput=getInput;function setOutput(e,r){a.issueCommand("set-output",{name:e},r)}r.setOutput=setOutput;function setCommandEcho(e){a.issue("echo",e?"on":"off")}r.setCommandEcho=setCommandEcho;function setFailed(e){process.exitCode=c.Failure;error(e)}r.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}r.isDebug=isDebug;function debug(e){a.issueCommand("debug",{},e)}r.debug=debug;function error(e){a.issue("error",e instanceof Error?e.toString():e)}r.error=error;function warning(e){a.issue("warning",e instanceof Error?e.toString():e)}r.warning=warning;function info(e){process.stdout.write(e+s.EOL)}r.info=info;function startGroup(e){a.issue("group",e)}r.startGroup=startGroup;function endGroup(){a.issue("endgroup")}r.endGroup=endGroup;function group(e,r){return t(this,void 0,void 0,function*(){startGroup(e);let n;try{n=yield r()}finally{endGroup()}return n})}r.group=group;function saveState(e,r){a.issueCommand("save-state",{name:e},r)}r.saveState=saveState;function getState(e){return process.env[`STATE_${e}`]||""}r.getState=getState},function(e,r,n){"use strict";var t=n(136);var i=n(199);var a=n(426);var s=n(949);var f=n(874);var c=Object.prototype.hasOwnProperty;var l=1;var d=2;var o=3;var u=4;var h=1;var p=2;var v=3;var b=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;var y=/[\x85\u2028\u2029]/;var g=/[,\[\]\{\}]/;var w=/^(?:!|!!|![a-z\-]+!)$/i;var m=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(e){return Object.prototype.toString.call(e)}function is_EOL(e){return e===10||e===13}function is_WHITE_SPACE(e){return e===9||e===32}function is_WS_OR_EOL(e){return e===9||e===32||e===10||e===13}function is_FLOW_INDICATOR(e){return e===44||e===91||e===93||e===123||e===125}function fromHexCode(e){var r;if(48<=e&&e<=57){return e-48}r=e|32;if(97<=r&&r<=102){return r-97+10}return-1}function escapedHexLen(e){if(e===120){return 2}if(e===117){return 4}if(e===85){return 8}return 0}function fromDecimalCode(e){if(48<=e&&e<=57){return e-48}return-1}function simpleEscapeSequence(e){return e===48?"\0":e===97?"":e===98?"\b":e===116?"\t":e===9?"\t":e===110?"\n":e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function charFromCodepoint(e){if(e<=65535){return String.fromCharCode(e)}return String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var A=new Array(256);var E=new Array(256);for(var S=0;S<256;S++){A[S]=simpleEscapeSequence(S)?1:0;E[S]=simpleEscapeSequence(S)}function State(e,r){this.input=e;this.filename=r["filename"]||null;this.schema=r["schema"]||f;this.onWarning=r["onWarning"]||null;this.legacy=r["legacy"]||false;this.json=r["json"]||false;this.listener=r["listener"]||null;this.implicitTypes=this.schema.compiledImplicit;this.typeMap=this.schema.compiledTypeMap;this.length=e.length;this.position=0;this.line=0;this.lineStart=0;this.lineIndent=0;this.documents=[]}function generateError(e,r){return new i(r,new a(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function throwError(e,r){throw generateError(e,r)}function throwWarning(e,r){if(e.onWarning){e.onWarning.call(null,generateError(e,r))}}var k={YAML:function handleYamlDirective(e,r,n){var t,i,a;if(e.version!==null){throwError(e,"duplication of %YAML directive")}if(n.length!==1){throwError(e,"YAML directive accepts exactly one argument")}t=/^([0-9]+)\.([0-9]+)$/.exec(n[0]);if(t===null){throwError(e,"ill-formed argument of the YAML directive")}i=parseInt(t[1],10);a=parseInt(t[2],10);if(i!==1){throwError(e,"unacceptable YAML version of the document")}e.version=n[0];e.checkLineBreaks=a<2;if(a!==1&&a!==2){throwWarning(e,"unsupported YAML version of the document")}},TAG:function handleTagDirective(e,r,n){var t,i;if(n.length!==2){throwError(e,"TAG directive accepts exactly two arguments")}t=n[0];i=n[1];if(!w.test(t)){throwError(e,"ill-formed tag handle (first argument) of the TAG directive")}if(c.call(e.tagMap,t)){throwError(e,'there is a previously declared suffix for "'+t+'" tag handle')}if(!m.test(i)){throwError(e,"ill-formed tag prefix (second argument) of the TAG directive")}e.tagMap[t]=i}};function captureSegment(e,r,n,t){var i,a,s,f;if(r<n){f=e.input.slice(r,n);if(t){for(i=0,a=f.length;i<a;i+=1){s=f.charCodeAt(i);if(!(s===9||32<=s&&s<=1114111)){throwError(e,"expected valid JSON character")}}}else if(b.test(f)){throwError(e,"the stream contains non-printable characters")}e.result+=f}}function mergeMappings(e,r,n,i){var a,s,f,l;if(!t.isObject(n)){throwError(e,"cannot merge mappings; the provided source object is unacceptable")}a=Object.keys(n);for(f=0,l=a.length;f<l;f+=1){s=a[f];if(!c.call(r,s)){r[s]=n[s];i[s]=true}}}function storeMappingPair(e,r,n,t,i,a,s,f){var l,d;if(Array.isArray(i)){i=Array.prototype.slice.call(i);for(l=0,d=i.length;l<d;l+=1){if(Array.isArray(i[l])){throwError(e,"nested arrays are not supported inside keys")}if(typeof i==="object"&&_class(i[l])==="[object Object]"){i[l]="[object Object]"}}}if(typeof i==="object"&&_class(i)==="[object Object]"){i="[object Object]"}i=String(i);if(r===null){r={}}if(t==="tag:yaml.org,2002:merge"){if(Array.isArray(a)){for(l=0,d=a.length;l<d;l+=1){mergeMappings(e,r,a[l],n)}}else{mergeMappings(e,r,a,n)}}else{if(!e.json&&!c.call(n,i)&&c.call(r,i)){e.line=s||e.line;e.position=f||e.position;throwError(e,"duplicated mapping key")}r[i]=a;delete n[i]}return r}function readLineBreak(e){var r;r=e.input.charCodeAt(e.position);if(r===10){e.position++}else if(r===13){e.position++;if(e.input.charCodeAt(e.position)===10){e.position++}}else{throwError(e,"a line break is expected")}e.line+=1;e.lineStart=e.position}function skipSeparationSpace(e,r,n){var t=0,i=e.input.charCodeAt(e.position);while(i!==0){while(is_WHITE_SPACE(i)){i=e.input.charCodeAt(++e.position)}if(r&&i===35){do{i=e.input.charCodeAt(++e.position)}while(i!==10&&i!==13&&i!==0)}if(is_EOL(i)){readLineBreak(e);i=e.input.charCodeAt(e.position);t++;e.lineIndent=0;while(i===32){e.lineIndent++;i=e.input.charCodeAt(++e.position)}}else{break}}if(n!==-1&&t!==0&&e.lineIndent<n){throwWarning(e,"deficient indentation")}return t}function testDocumentSeparator(e){var r=e.position,n;n=e.input.charCodeAt(r);if((n===45||n===46)&&n===e.input.charCodeAt(r+1)&&n===e.input.charCodeAt(r+2)){r+=3;n=e.input.charCodeAt(r);if(n===0||is_WS_OR_EOL(n)){return true}}return false}function writeFoldedLines(e,r){if(r===1){e.result+=" "}else if(r>1){e.result+=t.repeat("\n",r-1)}}function readPlainScalar(e,r,n){var t,i,a,s,f,c,l,d,o=e.kind,u=e.result,h;h=e.input.charCodeAt(e.position);if(is_WS_OR_EOL(h)||is_FLOW_INDICATOR(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96){return false}if(h===63||h===45){i=e.input.charCodeAt(e.position+1);if(is_WS_OR_EOL(i)||n&&is_FLOW_INDICATOR(i)){return false}}e.kind="scalar";e.result="";a=s=e.position;f=false;while(h!==0){if(h===58){i=e.input.charCodeAt(e.position+1);if(is_WS_OR_EOL(i)||n&&is_FLOW_INDICATOR(i)){break}}else if(h===35){t=e.input.charCodeAt(e.position-1);if(is_WS_OR_EOL(t)){break}}else if(e.position===e.lineStart&&testDocumentSeparator(e)||n&&is_FLOW_INDICATOR(h)){break}else if(is_EOL(h)){c=e.line;l=e.lineStart;d=e.lineIndent;skipSeparationSpace(e,false,-1);if(e.lineIndent>=r){f=true;h=e.input.charCodeAt(e.position);continue}else{e.position=s;e.line=c;e.lineStart=l;e.lineIndent=d;break}}if(f){captureSegment(e,a,s,false);writeFoldedLines(e,e.line-c);a=s=e.position;f=false}if(!is_WHITE_SPACE(h)){s=e.position+1}h=e.input.charCodeAt(++e.position)}captureSegment(e,a,s,false);if(e.result){return true}e.kind=o;e.result=u;return false}function readSingleQuotedScalar(e,r){var n,t,i;n=e.input.charCodeAt(e.position);if(n!==39){return false}e.kind="scalar";e.result="";e.position++;t=i=e.position;while((n=e.input.charCodeAt(e.position))!==0){if(n===39){captureSegment(e,t,e.position,true);n=e.input.charCodeAt(++e.position);if(n===39){t=e.position;e.position++;i=e.position}else{return true}}else if(is_EOL(n)){captureSegment(e,t,i,true);writeFoldedLines(e,skipSeparationSpace(e,false,r));t=i=e.position}else if(e.position===e.lineStart&&testDocumentSeparator(e)){throwError(e,"unexpected end of the document within a single quoted scalar")}else{e.position++;i=e.position}}throwError(e,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(e,r){var n,t,i,a,s,f;f=e.input.charCodeAt(e.position);if(f!==34){return false}e.kind="scalar";e.result="";e.position++;n=t=e.position;while((f=e.input.charCodeAt(e.position))!==0){if(f===34){captureSegment(e,n,e.position,true);e.position++;return true}else if(f===92){captureSegment(e,n,e.position,true);f=e.input.charCodeAt(++e.position);if(is_EOL(f)){skipSeparationSpace(e,false,r)}else if(f<256&&A[f]){e.result+=E[f];e.position++}else if((s=escapedHexLen(f))>0){i=s;a=0;for(;i>0;i--){f=e.input.charCodeAt(++e.position);if((s=fromHexCode(f))>=0){a=(a<<4)+s}else{throwError(e,"expected hexadecimal character")}}e.result+=charFromCodepoint(a);e.position++}else{throwError(e,"unknown escape sequence")}n=t=e.position}else if(is_EOL(f)){captureSegment(e,n,t,true);writeFoldedLines(e,skipSeparationSpace(e,false,r));n=t=e.position}else if(e.position===e.lineStart&&testDocumentSeparator(e)){throwError(e,"unexpected end of the document within a double quoted scalar")}else{e.position++;t=e.position}}throwError(e,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(e,r){var n=true,t,i=e.tag,a,s=e.anchor,f,c,d,o,u,h={},p,v,b,y;y=e.input.charCodeAt(e.position);if(y===91){c=93;u=false;a=[]}else if(y===123){c=125;u=true;a={}}else{return false}if(e.anchor!==null){e.anchorMap[e.anchor]=a}y=e.input.charCodeAt(++e.position);while(y!==0){skipSeparationSpace(e,true,r);y=e.input.charCodeAt(e.position);if(y===c){e.position++;e.tag=i;e.anchor=s;e.kind=u?"mapping":"sequence";e.result=a;return true}else if(!n){throwError(e,"missed comma between flow collection entries")}v=p=b=null;d=o=false;if(y===63){f=e.input.charCodeAt(e.position+1);if(is_WS_OR_EOL(f)){d=o=true;e.position++;skipSeparationSpace(e,true,r)}}t=e.line;composeNode(e,r,l,false,true);v=e.tag;p=e.result;skipSeparationSpace(e,true,r);y=e.input.charCodeAt(e.position);if((o||e.line===t)&&y===58){d=true;y=e.input.charCodeAt(++e.position);skipSeparationSpace(e,true,r);composeNode(e,r,l,false,true);b=e.result}if(u){storeMappingPair(e,a,h,v,p,b)}else if(d){a.push(storeMappingPair(e,null,h,v,p,b))}else{a.push(p)}skipSeparationSpace(e,true,r);y=e.input.charCodeAt(e.position);if(y===44){n=true;y=e.input.charCodeAt(++e.position)}else{n=false}}throwError(e,"unexpected end of the stream within a flow collection")}function readBlockScalar(e,r){var n,i,a=h,s=false,f=false,c=r,l=0,d=false,o,u;u=e.input.charCodeAt(e.position);if(u===124){i=false}else if(u===62){i=true}else{return false}e.kind="scalar";e.result="";while(u!==0){u=e.input.charCodeAt(++e.position);if(u===43||u===45){if(h===a){a=u===43?v:p}else{throwError(e,"repeat of a chomping mode identifier")}}else if((o=fromDecimalCode(u))>=0){if(o===0){throwError(e,"bad explicit indentation width of a block scalar; it cannot be less than one")}else if(!f){c=r+o-1;f=true}else{throwError(e,"repeat of an indentation width identifier")}}else{break}}if(is_WHITE_SPACE(u)){do{u=e.input.charCodeAt(++e.position)}while(is_WHITE_SPACE(u));if(u===35){do{u=e.input.charCodeAt(++e.position)}while(!is_EOL(u)&&u!==0)}}while(u!==0){readLineBreak(e);e.lineIndent=0;u=e.input.charCodeAt(e.position);while((!f||e.lineIndent<c)&&u===32){e.lineIndent++;u=e.input.charCodeAt(++e.position)}if(!f&&e.lineIndent>c){c=e.lineIndent}if(is_EOL(u)){l++;continue}if(e.lineIndent<c){if(a===v){e.result+=t.repeat("\n",s?1+l:l)}else if(a===h){if(s){e.result+="\n"}}break}if(i){if(is_WHITE_SPACE(u)){d=true;e.result+=t.repeat("\n",s?1+l:l)}else if(d){d=false;e.result+=t.repeat("\n",l+1)}else if(l===0){if(s){e.result+=" "}}else{e.result+=t.repeat("\n",l)}}else{e.result+=t.repeat("\n",s?1+l:l)}s=true;f=true;l=0;n=e.position;while(!is_EOL(u)&&u!==0){u=e.input.charCodeAt(++e.position)}captureSegment(e,n,e.position,false)}return true}function readBlockSequence(e,r){var n,t=e.tag,i=e.anchor,a=[],s,f=false,c;if(e.anchor!==null){e.anchorMap[e.anchor]=a}c=e.input.charCodeAt(e.position);while(c!==0){if(c!==45){break}s=e.input.charCodeAt(e.position+1);if(!is_WS_OR_EOL(s)){break}f=true;e.position++;if(skipSeparationSpace(e,true,-1)){if(e.lineIndent<=r){a.push(null);c=e.input.charCodeAt(e.position);continue}}n=e.line;composeNode(e,r,o,false,true);a.push(e.result);skipSeparationSpace(e,true,-1);c=e.input.charCodeAt(e.position);if((e.line===n||e.lineIndent>r)&&c!==0){throwError(e,"bad indentation of a sequence entry")}else if(e.lineIndent<r){break}}if(f){e.tag=t;e.anchor=i;e.kind="sequence";e.result=a;return true}return false}function readBlockMapping(e,r,n){var t,i,a,s,f=e.tag,c=e.anchor,l={},o={},h=null,p=null,v=null,b=false,y=false,g;if(e.anchor!==null){e.anchorMap[e.anchor]=l}g=e.input.charCodeAt(e.position);while(g!==0){t=e.input.charCodeAt(e.position+1);a=e.line;s=e.position;if((g===63||g===58)&&is_WS_OR_EOL(t)){if(g===63){if(b){storeMappingPair(e,l,o,h,p,null);h=p=v=null}y=true;b=true;i=true}else if(b){b=false;i=true}else{throwError(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line")}e.position+=1;g=t}else if(composeNode(e,n,d,false,true)){if(e.line===a){g=e.input.charCodeAt(e.position);while(is_WHITE_SPACE(g)){g=e.input.charCodeAt(++e.position)}if(g===58){g=e.input.charCodeAt(++e.position);if(!is_WS_OR_EOL(g)){throwError(e,"a whitespace character is expected after the key-value separator within a block mapping")}if(b){storeMappingPair(e,l,o,h,p,null);h=p=v=null}y=true;b=false;i=false;h=e.tag;p=e.result}else if(y){throwError(e,"can not read an implicit mapping pair; a colon is missed")}else{e.tag=f;e.anchor=c;return true}}else if(y){throwError(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}else{e.tag=f;e.anchor=c;return true}}else{break}if(e.line===a||e.lineIndent>r){if(composeNode(e,r,u,true,i)){if(b){p=e.result}else{v=e.result}}if(!b){storeMappingPair(e,l,o,h,p,v,a,s);h=p=v=null}skipSeparationSpace(e,true,-1);g=e.input.charCodeAt(e.position)}if(e.lineIndent>r&&g!==0){throwError(e,"bad indentation of a mapping entry")}else if(e.lineIndent<r){break}}if(b){storeMappingPair(e,l,o,h,p,null)}if(y){e.tag=f;e.anchor=c;e.kind="mapping";e.result=l}return y}function readTagProperty(e){var r,n=false,t=false,i,a,s;s=e.input.charCodeAt(e.position);if(s!==33)return false;if(e.tag!==null){throwError(e,"duplication of a tag property")}s=e.input.charCodeAt(++e.position);if(s===60){n=true;s=e.input.charCodeAt(++e.position)}else if(s===33){t=true;i="!!";s=e.input.charCodeAt(++e.position)}else{i="!"}r=e.position;if(n){do{s=e.input.charCodeAt(++e.position)}while(s!==0&&s!==62);if(e.position<e.length){a=e.input.slice(r,e.position);s=e.input.charCodeAt(++e.position)}else{throwError(e,"unexpected end of the stream within a verbatim tag")}}else{while(s!==0&&!is_WS_OR_EOL(s)){if(s===33){if(!t){i=e.input.slice(r-1,e.position+1);if(!w.test(i)){throwError(e,"named tag handle cannot contain such characters")}t=true;r=e.position+1}else{throwError(e,"tag suffix cannot contain exclamation marks")}}s=e.input.charCodeAt(++e.position)}a=e.input.slice(r,e.position);if(g.test(a)){throwError(e,"tag suffix cannot contain flow indicator characters")}}if(a&&!m.test(a)){throwError(e,"tag name cannot contain such characters: "+a)}if(n){e.tag=a}else if(c.call(e.tagMap,i)){e.tag=e.tagMap[i]+a}else if(i==="!"){e.tag="!"+a}else if(i==="!!"){e.tag="tag:yaml.org,2002:"+a}else{throwError(e,'undeclared tag handle "'+i+'"')}return true}function readAnchorProperty(e){var r,n;n=e.input.charCodeAt(e.position);if(n!==38)return false;if(e.anchor!==null){throwError(e,"duplication of an anchor property")}n=e.input.charCodeAt(++e.position);r=e.position;while(n!==0&&!is_WS_OR_EOL(n)&&!is_FLOW_INDICATOR(n)){n=e.input.charCodeAt(++e.position)}if(e.position===r){throwError(e,"name of an anchor node must contain at least one character")}e.anchor=e.input.slice(r,e.position);return true}function readAlias(e){var r,n,t;t=e.input.charCodeAt(e.position);if(t!==42)return false;t=e.input.charCodeAt(++e.position);r=e.position;while(t!==0&&!is_WS_OR_EOL(t)&&!is_FLOW_INDICATOR(t)){t=e.input.charCodeAt(++e.position)}if(e.position===r){throwError(e,"name of an alias node must contain at least one character")}n=e.input.slice(r,e.position);if(!e.anchorMap.hasOwnProperty(n)){throwError(e,'unidentified alias "'+n+'"')}e.result=e.anchorMap[n];skipSeparationSpace(e,true,-1);return true}function composeNode(e,r,n,t,i){var a,s,f,h=1,p=false,v=false,b,y,g,w,m;if(e.listener!==null){e.listener("open",e)}e.tag=null;e.anchor=null;e.kind=null;e.result=null;a=s=f=u===n||o===n;if(t){if(skipSeparationSpace(e,true,-1)){p=true;if(e.lineIndent>r){h=1}else if(e.lineIndent===r){h=0}else if(e.lineIndent<r){h=-1}}}if(h===1){while(readTagProperty(e)||readAnchorProperty(e)){if(skipSeparationSpace(e,true,-1)){p=true;f=a;if(e.lineIndent>r){h=1}else if(e.lineIndent===r){h=0}else if(e.lineIndent<r){h=-1}}else{f=false}}}if(f){f=p||i}if(h===1||u===n){if(l===n||d===n){w=r}else{w=r+1}m=e.position-e.lineStart;if(h===1){if(f&&(readBlockSequence(e,m)||readBlockMapping(e,m,w))||readFlowCollection(e,w)){v=true}else{if(s&&readBlockScalar(e,w)||readSingleQuotedScalar(e,w)||readDoubleQuotedScalar(e,w)){v=true}else if(readAlias(e)){v=true;if(e.tag!==null||e.anchor!==null){throwError(e,"alias node should not have any properties")}}else if(readPlainScalar(e,w,l===n)){v=true;if(e.tag===null){e.tag="?"}}if(e.anchor!==null){e.anchorMap[e.anchor]=e.result}}}else if(h===0){v=f&&readBlockSequence(e,m)}}if(e.tag!==null&&e.tag!=="!"){if(e.tag==="?"){if(e.result!==null&&e.kind!=="scalar"){throwError(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"')}for(b=0,y=e.implicitTypes.length;b<y;b+=1){g=e.implicitTypes[b];if(g.resolve(e.result)){e.result=g.construct(e.result);e.tag=g.tag;if(e.anchor!==null){e.anchorMap[e.anchor]=e.result}break}}}else if(c.call(e.typeMap[e.kind||"fallback"],e.tag)){g=e.typeMap[e.kind||"fallback"][e.tag];if(e.result!==null&&g.kind!==e.kind){throwError(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"')}if(!g.resolve(e.result)){throwError(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}else{e.result=g.construct(e.result);if(e.anchor!==null){e.anchorMap[e.anchor]=e.result}}}else{throwError(e,"unknown tag !<"+e.tag+">")}}if(e.listener!==null){e.listener("close",e)}return e.tag!==null||e.anchor!==null||v}function readDocument(e){var r=e.position,n,t,i,a=false,s;e.version=null;e.checkLineBreaks=e.legacy;e.tagMap={};e.anchorMap={};while((s=e.input.charCodeAt(e.position))!==0){skipSeparationSpace(e,true,-1);s=e.input.charCodeAt(e.position);if(e.lineIndent>0||s!==37){break}a=true;s=e.input.charCodeAt(++e.position);n=e.position;while(s!==0&&!is_WS_OR_EOL(s)){s=e.input.charCodeAt(++e.position)}t=e.input.slice(n,e.position);i=[];if(t.length<1){throwError(e,"directive name must not be less than one character in length")}while(s!==0){while(is_WHITE_SPACE(s)){s=e.input.charCodeAt(++e.position)}if(s===35){do{s=e.input.charCodeAt(++e.position)}while(s!==0&&!is_EOL(s));break}if(is_EOL(s))break;n=e.position;while(s!==0&&!is_WS_OR_EOL(s)){s=e.input.charCodeAt(++e.position)}i.push(e.input.slice(n,e.position))}if(s!==0)readLineBreak(e);if(c.call(k,t)){k[t](e,t,i)}else{throwWarning(e,'unknown document directive "'+t+'"')}}skipSeparationSpace(e,true,-1);if(e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45){e.position+=3;skipSeparationSpace(e,true,-1)}else if(a){throwError(e,"directives end mark is expected")}composeNode(e,e.lineIndent-1,u,false,true);skipSeparationSpace(e,true,-1);if(e.checkLineBreaks&&y.test(e.input.slice(r,e.position))){throwWarning(e,"non-ASCII line breaks are interpreted as content")}e.documents.push(e.result);if(e.position===e.lineStart&&testDocumentSeparator(e)){if(e.input.charCodeAt(e.position)===46){e.position+=3;skipSeparationSpace(e,true,-1)}return}if(e.position<e.length-1){throwError(e,"end of the stream or a document separator is expected")}else{return}}function loadDocuments(e,r){e=String(e);r=r||{};if(e.length!==0){if(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13){e+="\n"}if(e.charCodeAt(0)===65279){e=e.slice(1)}}var n=new State(e,r);var t=e.indexOf("\0");if(t!==-1){n.position=t;throwError(n,"null byte is not allowed in input")}n.input+="\0";while(n.input.charCodeAt(n.position)===32){n.lineIndent+=1;n.position+=1}while(n.position<n.length-1){readDocument(n)}return n.documents}function loadAll(e,r,n){if(r!==null&&typeof r==="object"&&typeof n==="undefined"){n=r;r=null}var t=loadDocuments(e,n);if(typeof r!=="function"){return t}for(var i=0,a=t.length;i<a;i+=1){r(t[i])}}function load(e,r){var n=loadDocuments(e,r);if(n.length===0){return undefined}else if(n.length===1){return n[0]}throw new i("expected a single document in the stream, but found more")}function safeLoadAll(e,r,n){if(typeof r==="object"&&r!==null&&typeof n==="undefined"){n=r;r=null}return loadAll(e,r,t.extend({schema:s},n))}function safeLoad(e,r){return load(e,t.extend({schema:s},r))}e.exports.loadAll=loadAll;e.exports.load=load;e.exports.safeLoadAll=safeLoadAll;e.exports.safeLoad=safeLoad},,,function(e,r,n){e=n.nmd(e);var t=n(882),i=n(744);var a=true&&r&&!r.nodeType&&r;var s=a&&"object"=="object"&&e&&!e.nodeType&&e;var f=s&&s.exports===a;var c=f?t.Buffer:undefined;var l=c?c.isBuffer:undefined;var d=l||i;e.exports=d},,function(e,r,n){var t=n(236),i=n(17);function baseMap(e,r){var n=-1,a=i(e)?Array(e.length):[];t(e,function(e,t,i){a[++n]=r(e,t,i)});return a}e.exports=baseMap},,,function(e){"use strict";e.exports=function generate_propertyNames(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d="data"+(a||"");var o="errs__"+i;var u=e.util.copy(e);var h="";u.level++;var p="valid"+u.level;t+="var "+o+" = errors;";if(e.opts.strictKeywords?typeof s=="object"&&Object.keys(s).length>0:e.util.schemaHasRules(s,e.RULES.all)){u.schema=s;u.schemaPath=f;u.errSchemaPath=c;var v="key"+i,b="idx"+i,y="i"+i,g="' + "+v+" + '",w=u.dataLevel=e.dataLevel+1,m="data"+w,A="dataProperties"+i,E=e.opts.ownProperties,S=e.baseId;if(E){t+=" var "+A+" = undefined; "}if(E){t+=" "+A+" = "+A+" || Object.keys("+d+"); for (var "+b+"=0; "+b+"<"+A+".length; "+b+"++) { var "+v+" = "+A+"["+b+"]; "}else{t+=" for (var "+v+" in "+d+") { "}t+=" var startErrs"+i+" = errors; ";var k=v;var R=e.compositeRule;e.compositeRule=u.compositeRule=true;var M=e.validate(u);u.baseId=S;if(e.util.varOccurences(M,m)<2){t+=" "+e.util.varReplace(M,m,k)+" "}else{t+=" var "+m+" = "+k+"; "+M+" "}e.compositeRule=u.compositeRule=R;t+=" if (!"+p+") { for (var "+y+"=startErrs"+i+"; "+y+"<errors; "+y+"++) { vErrors["+y+"].propertyName = "+v+"; }   var err =   ";if(e.createErrors!==false){t+=" { keyword: '"+"propertyNames"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+g+"' } ";if(e.opts.messages!==false){t+=" , message: 'property name \\'"+g+"\\' is invalid' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(vErrors); "}else{t+=" validate.errors = vErrors; return false; "}}if(l){t+=" break; "}t+=" } }"}if(l){t+=" "+h+" if ("+o+" == errors) {"}return t}},,,,function(e){"use strict";function YAMLException(e,r){Error.call(this);this.name="YAMLException";this.reason=e;this.mark=r;this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():"");if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{this.stack=(new Error).stack||""}}YAMLException.prototype=Object.create(Error.prototype);YAMLException.prototype.constructor=YAMLException;YAMLException.prototype.toString=function toString(e){var r=this.name+": ";r+=this.reason||"(unknown reason)";if(!e&&this.mark){r+=" "+this.mark.toString()}return r};e.exports=YAMLException},function(e){var r=Object.prototype;var n=r.toString;function objectToString(e){return n.call(e)}e.exports=objectToString},function(e,r,n){var t=n(403);function compareAscending(e,r){if(e!==r){var n=e!==undefined,i=e===null,a=e===e,s=t(e);var f=r!==undefined,c=r===null,l=r===r,d=t(r);if(!c&&!d&&!s&&e>r||s&&f&&l&&!c&&!d||i&&f&&l||!n&&l||!a){return 1}if(!i&&!s&&!d&&e<r||d&&n&&a&&!i&&!s||c&&n&&a||!f&&a||!l){return-1}}return 0}e.exports=compareAscending},,,,,function(e){"use strict";e.exports=function equal(e,r){if(e===r)return true;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return false;var n,t,i;if(Array.isArray(e)){n=e.length;if(n!=r.length)return false;for(t=n;t--!==0;)if(!equal(e[t],r[t]))return false;return true}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();i=Object.keys(e);n=i.length;if(n!==Object.keys(r).length)return false;for(t=n;t--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[t]))return false;for(t=n;t--!==0;){var a=i[t];if(!equal(e[a],r[a]))return false}return true}return e!==e&&r!==r}},,,,,,,function(e,r,n){var t=n(882);var i=t.Symbol;e.exports=i},,,,,,,,function(module){(function(e){if(true){module.exports=e()}else{var r}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(a,s){if(!n[a]){if(!e[a]){var f=require;if(!s&&f)return f(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(r){var n=e[a][1][r];return o(n||r)},l,l.exports,r,e,n,t)}return n[a].exports}for(var i=require,a=0;a<t.length;a++)o(t[a]);return o}return r}()({1:[function(e,r,n){(function(e){"use strict";!function(e,t){"object"==typeof n&&"undefined"!=typeof r?t(n):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).WebStreamsPolyfill={})}(undefined,function(t){"use strict";const o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;const R="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:void 0,P=Number.isNaN||function(e){return e!=e};function n(e){return"object"==typeof e&&null!==e||"function"==typeof e}function i(e,r,n){Object.defineProperty(e,r,{value:n,writable:!0,enumerable:!0,configurable:!0})}function a(e){return e.slice()}function s(e,r,n,t,i){new Uint8Array(e).set(new Uint8Array(n,t,i),r)}function l(e){return!1!==function(e){if("number"!=typeof e)return!1;if(P(e))return!1;if(e<0)return!1;return!0}(e)&&e!==1/0}function c(e,r,n){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,r,n)}function u(e,r,n,t){const i=e[r];if(void 0!==i){if("function"!=typeof i)throw new TypeError(`${i} is not a method`);switch(n){case 0:return()=>f(i,e,t);case 1:return r=>{const n=[r].concat(t);return f(i,e,n)}}}return()=>Promise.resolve()}function d(e,r,n){const t=e[r];if(void 0!==t)return c(t,e,n)}function f(e,r,n){try{return Promise.resolve(c(e,r,n))}catch(e){return Promise.reject(e)}}function _(e){return e}function h(e){if(e=Number(e),P(e)||e<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return e}function b(e){if(void 0===e)return()=>1;if("function"!=typeof e)throw new TypeError("size property of a queuing strategy must be a function");return r=>e(r)}function m(e,r,n){return Promise.prototype.then.call(e,r,n)}function y(e,r,n){let t,i;const a=new Promise((e,r)=>{t=e,i=r});void 0===n&&(n=(e=>{throw e}));return function(e,r,n){let t=!1;const i=e=>{!1===t&&(t=!0,n(e))};let a=0,s=0;const f=e.length,c=new Array(f);for(const n of e){const e=a;m(n,n=>{c[e]=n,++s===f&&r(c)},i),++a}}(e,e=>{try{const n=r(e);t(n)}catch(e){i(e)}},e=>{try{const r=n(e);t(r)}catch(e){i(e)}}),a}function p(e){}function w(e){e&&e instanceof p.AssertionError&&setTimeout(()=>{throw e},0)}function g(e){const r=e._queue.shift();return e._queueTotalSize-=r.size,e._queueTotalSize<0&&(e._queueTotalSize=0),r.value}function S(e,r,n){if(!l(n=Number(n)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:r,size:n}),e._queueTotalSize+=n}function v(e){e._queue=[],e._queueTotalSize=0}p.AssertionError=function(){};const se=o("[[AbortSteps]]"),ce=o("[[ErrorSteps]]");class WritableStream{constructor(e={},r={}){q(this);const n=r.size;let t=r.highWaterMark;if(void 0!==e.type)throw new RangeError("Invalid type is specified");const i=b(n);void 0===t&&(t=1),function(e,r,n,t){const i=Object.create(WritableStreamDefaultController.prototype);const a=u(r,"write",1,[i]),s=u(r,"close",0,[]),f=u(r,"abort",1,[]);$(e,i,function(){return d(r,"start",[i])},a,s,f,n,t)}(this,e,t=h(t),i)}get locked(){if(!1===E(this))throw G("locked");return C(this)}abort(e){return!1===E(this)?Promise.reject(G("abort")):!0===C(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):j(this,e)}getWriter(){if(!1===E(this))throw G("getWriter");return T(this)}}function T(e){return new WritableStreamDefaultWriter(e)}function q(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=[],e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function E(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function C(e){return void 0!==e._writer}function j(e,r){const n=e._state;if("closed"===n||"errored"===n)return Promise.resolve(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let t=!1;"erroring"===n&&(t=!0,r=void 0);const i=new Promise((n,i)=>{e._pendingAbortRequest={_promise:void 0,_resolve:n,_reject:i,_reason:r,_wasAlreadyErroring:t}});return e._pendingAbortRequest._promise=i,!1===t&&W(e,r),i}function A(e,r){"writable"!==e._state?B(e):W(e,r)}function W(e,r){const n=e._writableStreamController;e._state="erroring",e._storedError=r;const t=e._writer;void 0!==t&&D(t,r),!1===function(e){if(void 0===e._inFlightWriteRequest&&void 0===e._inFlightCloseRequest)return!1;return!0}(e)&&!0===n._started&&B(e)}function B(e){e._state="errored",e._writableStreamController[ce]();const r=e._storedError;for(const n of e._writeRequests)n._reject(r);if(e._writeRequests=[],void 0===e._pendingAbortRequest)return void z(e);const n=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,!0===n._wasAlreadyErroring)return n._reject(r),void z(e);e._writableStreamController[se](n._reason).then(()=>{n._resolve(),z(e)},r=>{n._reject(r),z(e)})}function O(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function z(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const r=e._writer;void 0!==r&&ee(r,e._storedError)}function k(e,r){const n=e._writer;void 0!==n&&r!==e._backpressure&&(!0===r?function(e){re(e)}(n):ae(n)),e._backpressure=r}class WritableStreamDefaultWriter{constructor(e){if(!1===E(e))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===C(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const r=e._state;if("writable"===r)!1===O(e)&&!0===e._backpressure?re(this):ne(this),X(this);else if("erroring"===r)oe(this,e._storedError),X(this);else if("closed"===r)ne(this),function(e){X(e),te(e)}(this);else{const r=e._storedError;oe(this,r),Z(this,r)}}get closed(){return!1===F(this)?Promise.reject(J("closed")):this._closedPromise}get desiredSize(){if(!1===F(this))throw J("desiredSize");if(void 0===this._ownerWritableStream)throw K("desiredSize");return function(e){const r=e._ownerWritableStream,n=r._state;if("errored"===n||"erroring"===n)return null;if("closed"===n)return 0;return Q(r._writableStreamController)}(this)}get ready(){return!1===F(this)?Promise.reject(J("ready")):this._readyPromise}abort(e){return!1===F(this)?Promise.reject(J("abort")):void 0===this._ownerWritableStream?Promise.reject(K("abort")):function(e,r){return j(e._ownerWritableStream,r)}(this,e)}close(){if(!1===F(this))return Promise.reject(J("close"));const e=this._ownerWritableStream;return void 0===e?Promise.reject(K("close")):!0===O(e)?Promise.reject(new TypeError("cannot close an already-closing stream")):L(this)}releaseLock(){if(!1===F(this))throw J("releaseLock");void 0!==this._ownerWritableStream&&M(this)}write(e){return!1===F(this)?Promise.reject(J("write")):void 0===this._ownerWritableStream?Promise.reject(K("write to")):Y(this,e)}}function F(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function L(e){const r=e._ownerWritableStream,n=r._state;if("closed"===n||"errored"===n)return Promise.reject(new TypeError(`The stream (in ${n} state) is not in the writable state and cannot be closed`));const t=new Promise((e,n)=>{const t={_resolve:e,_reject:n};r._closeRequest=t});return!0===r._backpressure&&"writable"===n&&ae(e),function(e){S(e,"close",0),x(e)}(r._writableStreamController),t}function I(e,r){"pending"===e._closedPromiseState?ee(e,r):function(e,r){Z(e,r)}(e,r)}function D(e,r){"pending"===e._readyPromiseState?ie(e,r):function(e,r){oe(e,r)}(e,r)}function M(e){const r=e._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");D(e,n),I(e,n),r._writer=void 0,e._ownerWritableStream=void 0}function Y(e,r){const n=e._ownerWritableStream,t=n._writableStreamController,i=function(e,r){try{return e._strategySizeAlgorithm(r)}catch(r){return H(e,r),1}}(t,r);if(n!==e._ownerWritableStream)return Promise.reject(K("write to"));const a=n._state;if("errored"===a)return Promise.reject(n._storedError);if(!0===O(n)||"closed"===a)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===a)return Promise.reject(n._storedError);const s=function(e){return new Promise((r,n)=>{const t={_resolve:r,_reject:n};e._writeRequests.push(t)})}(n);return function(e,r,n){const t={chunk:r};try{S(e,t,n)}catch(r){return void H(e,r)}const i=e._controlledWritableStream;if(!1===O(i)&&"writable"===i._state){const r=U(e);k(i,r)}x(e)}(t,r,i),s}class WritableStreamDefaultController{constructor(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}error(e){if(!1===function(e){if(!n(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream"))return!1;return!0}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&V(this,e)}[se](e){const r=this._abortAlgorithm(e);return N(this),r}[ce](){v(this)}}function $(e,r,n,t,i,a,s,f){r._controlledWritableStream=e,e._writableStreamController=r,r._queue=void 0,r._queueTotalSize=void 0,v(r),r._started=!1,r._strategySizeAlgorithm=f,r._strategyHWM=s,r._writeAlgorithm=t,r._closeAlgorithm=i,r._abortAlgorithm=a;const c=U(r);k(e,c);const l=n();Promise.resolve(l).then(()=>{r._started=!0,x(r)},n=>{r._started=!0,A(e,n)}).catch(w)}function N(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Q(e){return e._strategyHWM-e._queueTotalSize}function x(e){const r=e._controlledWritableStream;if(!1===e._started)return;if(void 0!==r._inFlightWriteRequest)return;const n=r._state;if("closed"===n||"errored"===n)return;if("erroring"===n)return void B(r);if(0===e._queue.length)return;const t=function(e){return e._queue[0].value}(e);"close"===t?function(e){const r=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(r),g(e);const n=e._closeAlgorithm();N(e),n.then(()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const r=e._writer;void 0!==r&&te(r)}(r)},e=>{!function(e,r){e._inFlightCloseRequest._reject(r),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(r),e._pendingAbortRequest=void 0),A(e,r)}(r,e)}).catch(w)}(e):function(e,r){const n=e._controlledWritableStream;(function(e){e._inFlightWriteRequest=e._writeRequests.shift()})(n),e._writeAlgorithm(r).then(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(n);const r=n._state;if(g(e),!1===O(n)&&"writable"===r){const r=U(e);k(n,r)}x(e)},r=>{"writable"===n._state&&N(e),function(e,r){e._inFlightWriteRequest._reject(r),e._inFlightWriteRequest=void 0,A(e,r)}(n,r)}).catch(w)}(e,t.chunk)}function H(e,r){"writable"===e._controlledWritableStream._state&&V(e,r)}function U(e){return Q(e)<=0}function V(e,r){const n=e._controlledWritableStream;N(e),W(n,r)}function G(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function J(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function K(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function X(e){e._closedPromise=new Promise((r,n)=>{e._closedPromise_resolve=r,e._closedPromise_reject=n,e._closedPromiseState="pending"})}function Z(e,r){X(e),ee(e,r)}function ee(e,r){e._closedPromise.catch(()=>{}),e._closedPromise_reject(r),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function te(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}function re(e){e._readyPromise=new Promise((r,n)=>{e._readyPromise_resolve=r,e._readyPromise_reject=n}),e._readyPromiseState="pending"}function oe(e,r){re(e),ie(e,r)}function ne(e){re(e),ae(e)}function ie(e,r){e._readyPromise.catch(()=>{}),e._readyPromise_reject(r),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function ae(e){e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}const le=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},er=o("[[CancelSteps]]"),rr=o("[[PullSteps]]");class ReadableStream{constructor(e={},r={}){fe(this);const n=r.size;let t=r.highWaterMark;const i=e.type;if("bytes"===String(i)){if(void 0!==n)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===t&&(t=0),function(e,r,n){const t=Object.create(ReadableByteStreamController.prototype);const i=u(r,"pull",0,[t]),a=u(r,"cancel",1,[]);let s=r.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===le(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(e,r,n,t,i,a,s){r._controlledReadableByteStream=e,r._pullAgain=!1,r._pulling=!1,He(r),r._queue=r._queueTotalSize=void 0,v(r),r._closeRequested=!1,r._started=!1,r._strategyHWM=h(a),r._pullAlgorithm=t,r._cancelAlgorithm=i,r._autoAllocateChunkSize=s,r._pendingPullIntos=[],e._readableStreamController=r;const f=n();Promise.resolve(f).then(()=>{r._started=!0,xe(r)},e=>{nt(r,e)}).catch(w)}(e,t,function(){return d(r,"start",[t])},i,a,n,s)}(this,e,t=h(t))}else{if(void 0!==i)throw new RangeError("Invalid type is specified");{const r=b(n);void 0===t&&(t=1),function(e,r,n,t){const i=Object.create(ReadableStreamDefaultController.prototype);const a=u(r,"pull",0,[i]),s=u(r,"cancel",1,[]);$e(e,i,function(){return d(r,"start",[i])},a,s,n,t)}(this,e,t=h(t),r)}}}get locked(){if(!1===_e(this))throw st("locked");return he(this)}cancel(e){return!1===_e(this)?Promise.reject(st("cancel")):!0===he(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):pe(this,e)}getReader({mode:e}={}){if(!1===_e(this))throw st("getReader");if(void 0===e)return ue(this);if("byob"===(e=String(e)))return function(e){return new ReadableStreamBYOBReader(e)}(this);throw new RangeError("Invalid mode is specified")}pipeThrough({writable:e,readable:r},{preventClose:n,preventAbort:t,preventCancel:i,signal:a}={}){if(!1===_e(this))throw st("pipeThrough");if(!1===E(e))throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(!1===_e(r))throw new TypeError("readable argument to pipeThrough must be a ReadableStream");if(n=Boolean(n),t=Boolean(t),i=Boolean(i),void 0!==a&&!at(a))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===he(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===C(e))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return be(this,e,n,t,i,a).catch(()=>{}),r}pipeTo(e,{preventClose:r,preventAbort:n,preventCancel:t,signal:i}={}){return!1===_e(this)?Promise.reject(st("pipeTo")):!1===E(e)?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),n=Boolean(n),t=Boolean(t),void 0===i||at(i)?!0===he(this)?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===C(e)?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):be(this,e,r,n,t,i):Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))}tee(){if(!1===_e(this))throw st("tee");const e=function(e,r){const n=ue(e);let t,i,s,f,c,l=!1,d=!1,o=!1;const u=new Promise(e=>{c=e});function _(){return Be(n).then(e=>{const r=e.value,n=e.done;if(!0===n&&!1===l&&(!1===d&&Le(s._readableStreamController),!1===o&&Le(f._readableStreamController),l=!0),!0===l)return;const t=r,i=r;!1===d&&Ie(s._readableStreamController,t),!1===o&&Ie(f._readableStreamController,i)})}function h(){}return s=de(h,_,function(r){if(d=!0,t=r,!0===o){const r=a([t,i]),n=pe(e,r);c(n)}return u}),f=de(h,_,function(r){if(o=!0,i=r,!0===d){const r=a([t,i]),n=pe(e,r);c(n)}return u}),n._closedPromise.catch(e=>{!0!==l&&(De(s._readableStreamController,e),De(f._readableStreamController,e),l=!0)}),[s,f]}(this);return a(e)}}function ue(e){return new ReadableStreamDefaultReader(e)}function de(e,r,n,t=1,i=(()=>1)){const a=Object.create(ReadableStream.prototype);return fe(a),$e(a,Object.create(ReadableStreamDefaultController.prototype),e,r,n,t,i),a}function fe(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function _e(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function he(e){return void 0!==e._reader}function be(e,t,i,a,s,f){const c=ue(e),l=T(t);let d=!1,o=Promise.resolve();return new Promise((r,u)=>{let v;if(void 0!==f){if(v=(()=>{const r=new DOMException("Aborted","AbortError"),n=[];!1===a&&n.push(()=>"writable"===t._state?j(t,r):Promise.resolve()),!1===s&&n.push(()=>"readable"===e._state?pe(e,r):Promise.resolve()),b(()=>y(n.map(e=>e()),e=>e),!0,r)}),!0===f.aborted)return void v();f.addEventListener("abort",v)}if(h(e,c._closedPromise,e=>{!1===a?b(()=>j(t,e),!0,e):m(!0,e)}),h(t,l._closedPromise,r=>{!1===s?b(()=>pe(e,r),!0,r):m(!0,r)}),function(e,r,n){"closed"===e._state?n():r.then(n).catch(w)}(e,c._closedPromise,()=>{!1===i?b(()=>(function(e){const r=e._ownerWritableStream,n=r._state;return!0===O(r)||"closed"===n?Promise.resolve():"errored"===n?Promise.reject(r._storedError):L(e)})(l)):m()}),!0===O(t)||"closed"===t._state){const r=new TypeError("the destination writable stream closed before all data could be piped to it");!1===s?b(()=>pe(e,r),!0,r):m(!0,r)}function _(){const e=o;return o.then(()=>e!==o?_():void 0)}function h(e,r,n){"errored"===e._state?n(e._storedError):r.catch(n).catch(w)}function b(e,r,i){function n(){e().then(()=>p(r,i),e=>p(!0,e)).catch(w)}!0!==d&&(d=!0,"writable"===t._state&&!1===O(t)?_().then(n):n())}function m(e,r){!0!==d&&(d=!0,"writable"===t._state&&!1===O(t)?_().then(()=>p(e,r)).catch(w):p(e,r))}function p(e,n){M(l),We(c),void 0!==f&&f.removeEventListener("abort",v),e?u(n):r(void 0)}new Promise((e,n)=>{!function r(t){t?e():(!0===d?Promise.resolve(!0):l._readyPromise.then(()=>Be(c).then(({value:e,done:r})=>!0===r||(o=Y(l,e).catch(()=>{}),!1)))).then(r,n)}(!1)}).catch(e=>{o=Promise.resolve(),w(e)})})}function me(e,r){return new Promise((n,t)=>{const i={_resolve:n,_reject:t,_forAuthorCode:r};e._reader._readIntoRequests.push(i)})}function ye(e,r){return new Promise((n,t)=>{const i={_resolve:n,_reject:t,_forAuthorCode:r};e._reader._readRequests.push(i)})}function pe(e,r){if(e._disturbed=!0,"closed"===e._state)return Promise.resolve(void 0);if("errored"===e._state)return Promise.reject(e._storedError);return we(e),e._readableStreamController[er](r).then(()=>void 0)}function we(e){e._state="closed";const r=e._reader;if(void 0!==r){if(Ce(r)){for(const e of r._readRequests){const r=e._resolve;const n=e._forAuthorCode;r(ge(void 0,!0,n))}r._readRequests=[]}_t(r)}}function ge(e,r,n){let t=null;!0===n&&(t=Object.prototype);const i=Object.create(t);return Object.defineProperty(i,"value",{value:e,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(i,"done",{value:r,enumerable:!0,writable:!0,configurable:!0}),i}function Se(e,r){e._state="errored",e._storedError=r;const n=e._reader;if(void 0!==n){if(Ce(n)){for(const e of n._readRequests)e._reject(r);n._readRequests=[]}else{for(const e of n._readIntoRequests)e._reject(r);n._readIntoRequests=[]}ft(n,r)}}function ve(e,r,n){const t=e._reader._readRequests.shift();t._resolve(ge(r,n,t._forAuthorCode))}function Re(e){return e._reader._readIntoRequests.length}function Pe(e){return e._reader._readRequests.length}function Te(e){const r=e._reader;return void 0!==r&&!!Ee(r)}function qe(e){const r=e._reader;return void 0!==r&&!!Ce(r)}class ReadableStreamDefaultReader{constructor(e){if(!1===_e(e))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===he(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");je(this,e),this._readRequests=[]}get closed(){return Ce(this)?this._closedPromise:Promise.reject(ct("closed"))}cancel(e){return Ce(this)?void 0===this._ownerReadableStream?Promise.reject(lt("cancel")):Ae(this,e):Promise.reject(ct("cancel"))}read(){return Ce(this)?void 0===this._ownerReadableStream?Promise.reject(lt("read from")):Be(this,!0):Promise.reject(ct("read"))}releaseLock(){if(!Ce(this))throw ct("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");We(this)}}}class ReadableStreamBYOBReader{constructor(e){if(!_e(e))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Ne(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(he(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");je(this,e),this._readIntoRequests=[]}get closed(){return Ee(this)?this._closedPromise:Promise.reject(ht("closed"))}cancel(e){return Ee(this)?void 0===this._ownerReadableStream?Promise.reject(lt("cancel")):Ae(this,e):Promise.reject(ht("cancel"))}read(e){return Ee(this)?void 0===this._ownerReadableStream?Promise.reject(lt("read from")):ArrayBuffer.isView(e)?(e.buffer,0===e.byteLength?Promise.reject(new TypeError("view must have non-zero byteLength")):function(e,r,n=!1){const t=e._ownerReadableStream;if(t._disturbed=!0,"errored"===t._state)return Promise.reject(t._storedError);return function(e,r,n){const t=e._controlledReadableByteStream;let i=1;r.constructor!==DataView&&(i=r.constructor.BYTES_PER_ELEMENT);const a=r.constructor,s={buffer:_(r.buffer),byteOffset:r.byteOffset,byteLength:r.byteLength,bytesFilled:0,elementSize:i,ctor:a,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(s),me(t,n);if("closed"===t._state){const e=new a(s.buffer,s.byteOffset,0);return Promise.resolve(ge(e,!0,n))}if(e._queueTotalSize>0){if(!0===Je(e,s)){const r=Ve(s);return Xe(e),Promise.resolve(ge(r,!1,n))}if(!0===e._closeRequested){const r=new TypeError("Insufficient bytes to fill elements in the given buffer");return nt(e,r),Promise.reject(r)}}e._pendingPullIntos.push(s);const f=me(t,n);return xe(e),f}(t._readableStreamController,r,n)}(this,e,!0)):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(ht("read"))}releaseLock(){if(!Ee(this))throw ht("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");We(this)}}}function Ee(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function Ce(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function je(e,r){e._ownerReadableStream=r,r._reader=e,"readable"===r._state?ut(e):"closed"===r._state?function(e){ut(e),_t(e)}(e):dt(e,r._storedError)}function Ae(e,r){return pe(e._ownerReadableStream,r)}function We(e){"readable"===e._ownerReadableStream._state?ft(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,r){dt(e,r)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function Be(e,r=!1){const n=e._ownerReadableStream;return n._disturbed=!0,"closed"===n._state?Promise.resolve(ge(void 0,!0,r)):"errored"===n._state?Promise.reject(n._storedError):n._readableStreamController[rr](r)}class ReadableStreamDefaultController{constructor(){throw new TypeError}get desiredSize(){if(!1===Oe(this))throw bt("desiredSize");return Me(this)}close(){if(!1===Oe(this))throw bt("close");if(!1===Ye(this))throw new TypeError("The stream is not in a state that permits close");Le(this)}enqueue(e){if(!1===Oe(this))throw bt("enqueue");if(!1===Ye(this))throw new TypeError("The stream is not in a state that permits enqueue");return Ie(this,e)}error(e){if(!1===Oe(this))throw bt("error");De(this,e)}[er](e){v(this);const r=this._cancelAlgorithm(e);return Fe(this),r}[rr](e){const r=this._controlledReadableStream;if(this._queue.length>0){const n=g(this);return!0===this._closeRequested&&0===this._queue.length?(Fe(this),we(r)):ze(this),Promise.resolve(ge(n,!1,e))}const n=ye(r,e);return ze(this),n}}function Oe(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function ze(e){!1!==ke(e)&&(!0!==e._pulling?(e._pulling=!0,e._pullAlgorithm().then(()=>{if(e._pulling=!1,!0===e._pullAgain)return e._pullAgain=!1,ze(e)},r=>{De(e,r)}).catch(w)):e._pullAgain=!0)}function ke(e){const r=e._controlledReadableStream;return!1!==Ye(e)&&!1!==e._started&&(!0===he(r)&&Pe(r)>0||Me(e)>0)}function Fe(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Le(e){const r=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(Fe(e),we(r))}function Ie(e,r){const n=e._controlledReadableStream;if(!0===he(n)&&Pe(n)>0)ve(n,r,!1);else{let n;try{n=e._strategySizeAlgorithm(r)}catch(r){throw De(e,r),r}try{S(e,r,n)}catch(r){throw De(e,r),r}}ze(e)}function De(e,r){const n=e._controlledReadableStream;"readable"===n._state&&(v(e),Fe(e),Se(n,r))}function Me(e){const r=e._controlledReadableStream._state;return"errored"===r?null:"closed"===r?0:e._strategyHWM-e._queueTotalSize}function Ye(e){const r=e._controlledReadableStream._state;return!1===e._closeRequested&&"readable"===r}function $e(e,r,n,t,i,a,s){r._controlledReadableStream=e,r._queue=void 0,r._queueTotalSize=void 0,v(r),r._started=!1,r._closeRequested=!1,r._pullAgain=!1,r._pulling=!1,r._strategySizeAlgorithm=s,r._strategyHWM=a,r._pullAlgorithm=t,r._cancelAlgorithm=i,e._readableStreamController=r;const f=n();Promise.resolve(f).then(()=>{r._started=!0,ze(r)},e=>{De(r,e)}).catch(w)}class ReadableStreamBYOBRequest{constructor(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}get view(){if(!1===Qe(this))throw mt("view");return this._view}respond(e){if(!1===Qe(this))throw mt("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(e,r){if(!1===l(r=Number(r)))throw new RangeError("bytesWritten must be a finite");tt(e,r)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!1===Qe(this))throw mt("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");e.buffer,function(e,r){const n=e._pendingPullIntos[0];if(n.byteOffset+n.bytesFilled!==r.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.byteLength!==r.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");n.buffer=r.buffer,tt(e,r.byteLength)}(this._associatedReadableByteStreamController,e)}}class ReadableByteStreamController{constructor(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}get byobRequest(){if(!1===Ne(this))throw yt("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){const e=this._pendingPullIntos[0],r=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),n=Object.create(ReadableStreamBYOBRequest.prototype);!function(e,r,n){e._associatedReadableByteStreamController=r,e._view=n}(n,this,r),this._byobRequest=n}return this._byobRequest}get desiredSize(){if(!1===Ne(this))throw yt("desiredSize");return it(this)}close(){if(!1===Ne(this))throw yt("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);!function(e){const r=e._controlledReadableByteStream;if(e._queueTotalSize>0)return void(e._closeRequested=!0);if(e._pendingPullIntos.length>0){const r=e._pendingPullIntos[0];if(r.bytesFilled>0){const r=new TypeError("Insufficient bytes to fill elements in the given buffer");throw nt(e,r),r}}ot(e),we(r)}(this)}enqueue(e){if(!1===Ne(this))throw yt("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");const r=this._controlledReadableByteStream._state;if("readable"!==r)throw new TypeError(`The stream (in ${r} state) is not in the readable state and cannot be enqueued to`);if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");e.buffer,function(e,r){const n=e._controlledReadableByteStream,t=r.buffer,i=r.byteOffset,a=r.byteLength,s=_(t);if(!0===qe(n)){if(0===Pe(n))Ge(e,s,i,a);else{const e=new Uint8Array(s,i,a);ve(n,e,!1)}}else!0===Te(n)?(Ge(e,s,i,a),et(e)):Ge(e,s,i,a);xe(e)}(this,e)}error(e){if(!1===Ne(this))throw yt("error");nt(this,e)}[er](e){if(this._pendingPullIntos.length>0){this._pendingPullIntos[0].bytesFilled=0}v(this);const r=this._cancelAlgorithm(e);return ot(this),r}[rr](e){const r=this._controlledReadableByteStream;if(this._queueTotalSize>0){const r=this._queue.shift();let n;this._queueTotalSize-=r.byteLength,Xe(this);try{n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(ge(n,!1,e))}const n=this._autoAllocateChunkSize;if(void 0!==n){let r;try{r=new ArrayBuffer(n)}catch(e){return Promise.reject(e)}const t={buffer:r,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(t)}const t=ye(r,e);return xe(this),t}}function Ne(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function Qe(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function xe(e){!1!==function(e){const r=e._controlledReadableByteStream;if("readable"!==r._state)return!1;if(!0===e._closeRequested)return!1;if(!1===e._started)return!1;if(!0===qe(r)&&Pe(r)>0)return!0;if(!0===Te(r)&&Re(r)>0)return!0;if(it(e)>0)return!0;return!1}(e)&&(!0!==e._pulling?(e._pulling=!0,e._pullAlgorithm().then(()=>{e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,xe(e))},r=>{nt(e,r)}).catch(w)):e._pullAgain=!0)}function He(e){Ze(e),e._pendingPullIntos=[]}function Ue(e,r){let n=!1;"closed"===e._state&&(n=!0);const t=Ve(r);"default"===r.readerType?ve(e,t,n):function(e,r,n){const t=e._reader._readIntoRequests.shift();t._resolve(ge(r,n,t._forAuthorCode))}(e,t,n)}function Ve(e){const r=e.bytesFilled,n=e.elementSize;return new e.ctor(e.buffer,e.byteOffset,r/n)}function Ge(e,r,n,t){e._queue.push({buffer:r,byteOffset:n,byteLength:t}),e._queueTotalSize+=t}function Je(e,r){const n=r.elementSize,t=r.bytesFilled-r.bytesFilled%n,i=Math.min(e._queueTotalSize,r.byteLength-r.bytesFilled),a=r.bytesFilled+i,f=a-a%n;let c=i,l=!1;f>t&&(c=f-r.bytesFilled,l=!0);const d=e._queue;for(;c>0;){const n=d[0],t=Math.min(c,n.byteLength),i=r.byteOffset+r.bytesFilled;s(r.buffer,i,n.buffer,n.byteOffset,t),n.byteLength===t?d.shift():(n.byteOffset+=t,n.byteLength-=t),e._queueTotalSize-=t,Ke(e,t,r),c-=t}return l}function Ke(e,r,n){Ze(e),n.bytesFilled+=r}function Xe(e){0===e._queueTotalSize&&!0===e._closeRequested?(ot(e),we(e._controlledReadableByteStream)):xe(e)}function Ze(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function et(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const r=e._pendingPullIntos[0];!0===Je(e,r)&&(rt(e),Ue(e._controlledReadableByteStream,r))}}function tt(e,r){const n=e._pendingPullIntos[0];if("closed"===e._controlledReadableByteStream._state){if(0!==r)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,r){r.buffer=_(r.buffer);const n=e._controlledReadableByteStream;if(!0===Te(n))for(;Re(n)>0;)Ue(n,rt(e))}(e,n)}else!function(e,r,n){if(n.bytesFilled+r>n.byteLength)throw new RangeError("bytesWritten out of range");if(Ke(e,r,n),n.bytesFilled<n.elementSize)return;rt(e);const t=n.bytesFilled%n.elementSize;if(t>0){const r=n.byteOffset+n.bytesFilled,i=n.buffer.slice(r-t,r);Ge(e,i,0,i.byteLength)}n.buffer=_(n.buffer),n.bytesFilled-=t,Ue(e._controlledReadableByteStream,n),et(e)}(e,r,n);xe(e)}function rt(e){const r=e._pendingPullIntos.shift();return Ze(e),r}function ot(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function nt(e,r){const n=e._controlledReadableByteStream;"readable"===n._state&&(He(e),v(e),ot(e),Se(n,r))}function it(e){const r=e._controlledReadableByteStream._state;return"errored"===r?null:"closed"===r?0:e._strategyHWM-e._queueTotalSize}function at(e){if("object"!=typeof e||null===e)return!1;const r=Object.getOwnPropertyDescriptor(AbortSignal.prototype,"aborted").get;try{return r.call(e),!0}catch(e){return!1}}function st(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function lt(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function ct(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}function ut(e){e._closedPromise=new Promise((r,n)=>{e._closedPromise_resolve=r,e._closedPromise_reject=n})}function dt(e,r){ut(e),ft(e,r)}function ft(e,r){e._closedPromise.catch(()=>{}),e._closedPromise_reject(r),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function _t(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function ht(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function bt(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function mt(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function yt(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}class ByteLengthQueuingStrategy{constructor({highWaterMark:e}){i(this,"highWaterMark",e)}size(e){return e.byteLength}}class CountQueuingStrategy{constructor({highWaterMark:e}){i(this,"highWaterMark",e)}size(){return 1}}class TransformStream{constructor(e={},r={},n={}){const t=r.size;let i=r.highWaterMark;const a=n.size;let s=n.highWaterMark;if(void 0!==e.writableType)throw new RangeError("Invalid writable type specified");const c=b(t);if(void 0===i&&(i=1),i=h(i),void 0!==e.readableType)throw new RangeError("Invalid readable type specified");const l=b(a);let o;void 0===s&&(s=0),s=h(s),function(e,r,n,t,i,s){function a(){return r}e._writable=function(e,r,n,t,i=1,a=(()=>1)){const s=Object.create(WritableStream.prototype);return q(s),$(s,Object.create(WritableStreamDefaultController.prototype),e,r,n,t,i,a),s}(a,function(r){return function(e,r){const n=e._transformStreamController;if(!0===e._backpressure){const t=e._backpressureChangePromise;return t.then(()=>{const t=e._writable,i=t._state;if("erroring"===i)throw t._storedError;return Tt(n,r)})}return Tt(n,r)}(e,r)},function(){return function(e){const r=e._readable,n=e._transformStreamController,t=n._flushAlgorithm();return Rt(n),t.then(()=>{if("errored"===r._state)throw r._storedError;const e=r._readableStreamController;!0===Ye(e)&&Le(e)}).catch(n=>{throw wt(e,n),r._storedError})}(e)},function(r){return function(e,r){return wt(e,r),Promise.resolve()}(e,r)},n,t),e._readable=de(a,function(){return function(e){return St(e,!1),e._backpressureChangePromise}(e)},function(r){return gt(e,r),Promise.resolve()},i,s),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,St(e,!0),e._transformStreamController=void 0}(this,new Promise(e=>{o=e}),i,c,s,l),function(e,r){const n=Object.create(TransformStreamDefaultController.prototype);let t=e=>{try{return Pt(n,e),Promise.resolve()}catch(e){return Promise.reject(e)}};const i=r.transform;if(void 0!==i){if("function"!=typeof i)throw new TypeError("transform is not a method");t=(e=>f(i,r,[e,n]))}const a=u(r,"flush",0,[n]);!function(e,r,n,t){r._controlledTransformStream=e,e._transformStreamController=r,r._transformAlgorithm=n,r._flushAlgorithm=t}(e,n,t,a)}(this,e);const p=d(e,"start",[this._transformStreamController]);o(p)}get readable(){if(!1===pt(this))throw Et("readable");return this._readable}get writable(){if(!1===pt(this))throw Et("writable");return this._writable}}function pt(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function wt(e,r){De(e._readable._readableStreamController,r),gt(e,r)}function gt(e,r){Rt(e._transformStreamController),H(e._writable._writableStreamController,r),!0===e._backpressure&&St(e,!1)}function St(e,r){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=new Promise(r=>{e._backpressureChangePromise_resolve=r}),e._backpressure=r}class TransformStreamDefaultController{constructor(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}get desiredSize(){if(!1===vt(this))throw qt("desiredSize");return Me(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!1===vt(this))throw qt("enqueue");Pt(this,e)}error(e){if(!1===vt(this))throw qt("error");!function(e,r){wt(e._controlledTransformStream,r)}(this,e)}terminate(){if(!1===vt(this))throw qt("terminate");!function(e){const r=e._controlledTransformStream,n=r._readable._readableStreamController;!0===Ye(n)&&Le(n);const t=new TypeError("TransformStream terminated");gt(r,t)}(this)}}function vt(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function Rt(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Pt(e,r){const n=e._controlledTransformStream,t=n._readable._readableStreamController;if(!1===Ye(t))throw new TypeError("Readable side is not in a state that permits enqueue");try{Ie(t,r)}catch(e){throw gt(n,e),n._readable._storedError}(function(e){return!0!==ke(e)})(t)!==n._backpressure&&St(n,!0)}function Tt(e,r){return e._transformAlgorithm(r).catch(r=>{throw wt(e._controlledTransformStream,r),r})}function qt(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Et(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}const nr={ReadableStream:ReadableStream,WritableStream:WritableStream,ByteLengthQueuingStrategy:ByteLengthQueuingStrategy,CountQueuingStrategy:CountQueuingStrategy,TransformStream:TransformStream};void 0!==R&&Object.assign(R,nr),t.ReadableStream=ReadableStream,t.WritableStream=WritableStream,t.ByteLengthQueuingStrategy=ByteLengthQueuingStrategy,t.CountQueuingStrategy=CountQueuingStrategy,t.TransformStream=TransformStream,Object.defineProperty(t,"__esModule",{value:!0})})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=n.AES_asm=function(){"use strict";var e=false;var r,n;function ginit(){r=[],n=[];var t=1,i,a;for(i=0;i<255;i++){r[i]=t;a=t&128,t<<=1,t&=255;if(a===128)t^=27;t^=r[i];n[r[i]]=i}r[255]=r[0];n[0]=0;e=true}function gmul(e,t){var i=r[(n[e]+n[t])%255];if(e===0||t===0)i=0;return i}function ginv(e){var t=r[255-n[e]];if(e===0)t=0;return t}var t=false;var i;var a;var s;var f;function aes_init(){if(!e)ginit();function _s(e){var r,n,t;n=t=ginv(e);for(r=0;r<4;r++){n=(n<<1|n>>>7)&255;t^=n}t^=99;return t}i=[],a=[],s=[[],[],[],[]],f=[[],[],[],[]];for(var r=0;r<256;r++){var n=_s(r);i[r]=n;a[n]=r;s[0][r]=gmul(2,n)<<24|n<<16|n<<8|gmul(3,n);f[0][n]=gmul(14,r)<<24|gmul(9,r)<<16|gmul(13,r)<<8|gmul(11,r);for(var c=1;c<4;c++){s[c][r]=s[c-1][r]>>>8|s[c-1][r]<<24;f[c][n]=f[c-1][n]>>>8|f[c-1][n]<<24}}t=true}var c=function wrapper(e,r){if(!t)aes_init();var n=new Uint32Array(r);n.set(i,2048>>2);n.set(a,3072>>2);for(var c=0;c<4;c++){n.set(s[c],4096+1024*c>>2);n.set(f[c],8192+1024*c>>2)}function set_key(e,r,t,a,s,c,l,o,u){var h=n.subarray(0,60),p=n.subarray(256,256+60);h.set([r,t,a,s,c,l,o,u]);for(var v=e,b=1;v<4*e+28;v++){var y=h[v-1];if(v%e===0||e===8&&v%e===4){y=i[y>>>24]<<24^i[y>>>16&255]<<16^i[y>>>8&255]<<8^i[y&255]}if(v%e===0){y=y<<8^y>>>24^b<<24;b=b<<1^(b&128?27:0)}h[v]=h[v-e]^y}for(var g=0;g<v;g+=4){for(var w=0;w<4;w++){var y=h[v-(4+g)+(4-w)%4];if(g<4||g>=v-4){p[g+w]=y}else{p[g+w]=f[0][i[y>>>24]]^f[1][i[y>>>16&255]]^f[2][i[y>>>8&255]]^f[3][i[y&255]]}}}d.set_rounds(e+5)}var l={Uint8Array:Uint8Array,Uint32Array:Uint32Array};var d=function(e,r,n){"use asm";var t=0,i=0,a=0,s=0,f=0,c=0,l=0,d=0,o=0,u=0,h=0,p=0,v=0,b=0,y=0,g=0,w=0,m=0,A=0,E=0,S=0;var k=new e.Uint32Array(n),R=new e.Uint8Array(n);function _core(e,r,n,f,c,l,d,o){e=e|0;r=r|0;n=n|0;f=f|0;c=c|0;l=l|0;d=d|0;o=o|0;var u=0,h=0,p=0,v=0,b=0,y=0,g=0,w=0;u=n|0x400,h=n|0x800,p=n|0xc00;c=c^k[(e|0)>>2],l=l^k[(e|4)>>2],d=d^k[(e|8)>>2],o=o^k[(e|12)>>2];for(w=16;(w|0)<=f<<4;w=w+16|0){v=k[(n|c>>22&1020)>>2]^k[(u|l>>14&1020)>>2]^k[(h|d>>6&1020)>>2]^k[(p|o<<2&1020)>>2]^k[(e|w|0)>>2],b=k[(n|l>>22&1020)>>2]^k[(u|d>>14&1020)>>2]^k[(h|o>>6&1020)>>2]^k[(p|c<<2&1020)>>2]^k[(e|w|4)>>2],y=k[(n|d>>22&1020)>>2]^k[(u|o>>14&1020)>>2]^k[(h|c>>6&1020)>>2]^k[(p|l<<2&1020)>>2]^k[(e|w|8)>>2],g=k[(n|o>>22&1020)>>2]^k[(u|c>>14&1020)>>2]^k[(h|l>>6&1020)>>2]^k[(p|d<<2&1020)>>2]^k[(e|w|12)>>2];c=v,l=b,d=y,o=g}t=k[(r|c>>22&1020)>>2]<<24^k[(r|l>>14&1020)>>2]<<16^k[(r|d>>6&1020)>>2]<<8^k[(r|o<<2&1020)>>2]^k[(e|w|0)>>2],i=k[(r|l>>22&1020)>>2]<<24^k[(r|d>>14&1020)>>2]<<16^k[(r|o>>6&1020)>>2]<<8^k[(r|c<<2&1020)>>2]^k[(e|w|4)>>2],a=k[(r|d>>22&1020)>>2]<<24^k[(r|o>>14&1020)>>2]<<16^k[(r|c>>6&1020)>>2]<<8^k[(r|l<<2&1020)>>2]^k[(e|w|8)>>2],s=k[(r|o>>22&1020)>>2]<<24^k[(r|c>>14&1020)>>2]<<16^k[(r|l>>6&1020)>>2]<<8^k[(r|d<<2&1020)>>2]^k[(e|w|12)>>2]}function _ecb_enc(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;_core(0x0000,0x0800,0x1000,S,e,r,n,t)}function _ecb_dec(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var a=0;_core(0x0400,0x0c00,0x2000,S,e,t,n,r);a=i,i=s,s=a}function _cbc_enc(e,r,n,o){e=e|0;r=r|0;n=n|0;o=o|0;_core(0x0000,0x0800,0x1000,S,f^e,c^r,l^n,d^o);f=t,c=i,l=a,d=s}function _cbc_dec(e,r,n,o){e=e|0;r=r|0;n=n|0;o=o|0;var u=0;_core(0x0400,0x0c00,0x2000,S,e,o,n,r);u=i,i=s,s=u;t=t^f,i=i^c,a=a^l,s=s^d;f=e,c=r,l=n,d=o}function _cfb_enc(e,r,n,o){e=e|0;r=r|0;n=n|0;o=o|0;_core(0x0000,0x0800,0x1000,S,f,c,l,d);f=t=t^e,c=i=i^r,l=a=a^n,d=s=s^o}function _cfb_dec(e,r,n,o){e=e|0;r=r|0;n=n|0;o=o|0;_core(0x0000,0x0800,0x1000,S,f,c,l,d);t=t^e,i=i^r,a=a^n,s=s^o;f=e,c=r,l=n,d=o}function _ofb(e,r,n,o){e=e|0;r=r|0;n=n|0;o=o|0;_core(0x0000,0x0800,0x1000,S,f,c,l,d);f=t,c=i,l=a,d=s;t=t^e,i=i^r,a=a^n,s=s^o}function _ctr(e,r,n,f){e=e|0;r=r|0;n=n|0;f=f|0;_core(0x0000,0x0800,0x1000,S,o,u,h,p);p=~g&p|g&p+1;h=~y&h|y&h+((p|0)==0);u=~b&u|b&u+((h|0)==0);o=~v&o|v&o+((u|0)==0);t=t^e;i=i^r;a=a^n;s=s^f}function _gcm_mac(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var i=0,a=0,s=0,o=0,u=0,h=0,p=0,v=0,b=0,y=0;e=e^f,r=r^c,n=n^l,t=t^d;i=w|0,a=m|0,s=A|0,o=E|0;for(;(b|0)<128;b=b+1|0){if(i>>>31){u=u^e,h=h^r,p=p^n,v=v^t}i=i<<1|a>>>31,a=a<<1|s>>>31,s=s<<1|o>>>31,o=o<<1;y=t&1;t=t>>>1|n<<31,n=n>>>1|r<<31,r=r>>>1|e<<31,e=e>>>1;if(y)e=e^0xe1000000}f=u,c=h,l=p,d=v}function set_rounds(e){e=e|0;S=e}function set_state(e,r,n,f){e=e|0;r=r|0;n=n|0;f=f|0;t=e,i=r,a=n,s=f}function set_iv(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;f=e,c=r,l=n,d=t}function set_nonce(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;o=e,u=r,h=n,p=t}function set_mask(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;v=e,b=r,y=n,g=t}function set_counter(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;p=~g&p|g&t,h=~y&h|y&n,u=~b&u|b&r,o=~v&o|v&e}function get_state(e){e=e|0;if(e&15)return-1;R[e|0]=t>>>24,R[e|1]=t>>>16&255,R[e|2]=t>>>8&255,R[e|3]=t&255,R[e|4]=i>>>24,R[e|5]=i>>>16&255,R[e|6]=i>>>8&255,R[e|7]=i&255,R[e|8]=a>>>24,R[e|9]=a>>>16&255,R[e|10]=a>>>8&255,R[e|11]=a&255,R[e|12]=s>>>24,R[e|13]=s>>>16&255,R[e|14]=s>>>8&255,R[e|15]=s&255;return 16}function get_iv(e){e=e|0;if(e&15)return-1;R[e|0]=f>>>24,R[e|1]=f>>>16&255,R[e|2]=f>>>8&255,R[e|3]=f&255,R[e|4]=c>>>24,R[e|5]=c>>>16&255,R[e|6]=c>>>8&255,R[e|7]=c&255,R[e|8]=l>>>24,R[e|9]=l>>>16&255,R[e|10]=l>>>8&255,R[e|11]=l&255,R[e|12]=d>>>24,R[e|13]=d>>>16&255,R[e|14]=d>>>8&255,R[e|15]=d&255;return 16}function gcm_init(){_ecb_enc(0,0,0,0);w=t,m=i,A=a,E=s}function cipher(e,r,n){e=e|0;r=r|0;n=n|0;var f=0;if(r&15)return-1;while((n|0)>=16){M[e&7](R[r|0]<<24|R[r|1]<<16|R[r|2]<<8|R[r|3],R[r|4]<<24|R[r|5]<<16|R[r|6]<<8|R[r|7],R[r|8]<<24|R[r|9]<<16|R[r|10]<<8|R[r|11],R[r|12]<<24|R[r|13]<<16|R[r|14]<<8|R[r|15]);R[r|0]=t>>>24,R[r|1]=t>>>16&255,R[r|2]=t>>>8&255,R[r|3]=t&255,R[r|4]=i>>>24,R[r|5]=i>>>16&255,R[r|6]=i>>>8&255,R[r|7]=i&255,R[r|8]=a>>>24,R[r|9]=a>>>16&255,R[r|10]=a>>>8&255,R[r|11]=a&255,R[r|12]=s>>>24,R[r|13]=s>>>16&255,R[r|14]=s>>>8&255,R[r|15]=s&255;f=f+16|0,r=r+16|0,n=n-16|0}return f|0}function mac(e,r,n){e=e|0;r=r|0;n=n|0;var t=0;if(r&15)return-1;while((n|0)>=16){C[e&1](R[r|0]<<24|R[r|1]<<16|R[r|2]<<8|R[r|3],R[r|4]<<24|R[r|5]<<16|R[r|6]<<8|R[r|7],R[r|8]<<24|R[r|9]<<16|R[r|10]<<8|R[r|11],R[r|12]<<24|R[r|13]<<16|R[r|14]<<8|R[r|15]);t=t+16|0,r=r+16|0,n=n-16|0}return t|0}var M=[_ecb_enc,_ecb_dec,_cbc_enc,_cbc_dec,_cfb_enc,_cfb_dec,_ofb,_ctr];var C=[_cbc_enc,_gcm_mac];return{set_rounds:set_rounds,set_state:set_state,set_iv:set_iv,set_nonce:set_nonce,set_mask:set_mask,set_counter:set_counter,get_state:get_state,get_iv:get_iv,gcm_init:gcm_init,cipher:cipher,mac:mac}}(l,e,r);d.set_key=set_key;return d};c.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},c.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},c.MAC={CBC:0,GCM:1};c.HEAP_DATA=16384;return c}()},{}],3:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.AES=undefined;var t=e("./aes.asm");var i=e("../other/utils");var a=e("../other/errors");var s=[];var f=[];var c=function(){function AES(e,r,n,t){if(n===void 0){n=true}this.pos=0;this.len=0;this.mode=t;this.pos=0;this.len=0;this.key=e;this.iv=r;this.padding=n;this.acquire_asm()}AES.prototype.acquire_asm=function(){if(this.heap===undefined&&this.asm===undefined){this.heap=s.pop()||(0,i._heap_init)().subarray(t.AES_asm.HEAP_DATA);this.asm=f.pop()||(0,t.AES_asm)(null,this.heap.buffer);this.reset(this.key,this.iv)}};AES.prototype.release_asm=function(){s.push(this.heap);f.push(this.asm);this.heap=undefined;this.asm=undefined};AES.prototype.reset=function(e,r){var n=e.length;if(n!==16&&n!==24&&n!==32)throw new a.IllegalArgumentError("illegal key size");var t=new DataView(e.buffer,e.byteOffset,e.byteLength);this.asm.set_key(n>>2,t.getUint32(0),t.getUint32(4),t.getUint32(8),t.getUint32(12),n>16?t.getUint32(16):0,n>16?t.getUint32(20):0,n>24?t.getUint32(24):0,n>24?t.getUint32(28):0);if(r!==undefined){if(r.length!==16)throw new a.IllegalArgumentError("illegal iv size");var i=new DataView(r.buffer,r.byteOffset,r.byteLength);this.asm.set_iv(i.getUint32(0),i.getUint32(4),i.getUint32(8),i.getUint32(12))}else{this.asm.set_iv(0,0,0,0)}};AES.prototype.AES_Encrypt_process=function(e){if(!(0,i.is_bytes)(e))throw new TypeError("data isn't of expected type");this.acquire_asm();var r=this.asm;var n=this.heap;var a=t.AES_asm.ENC[this.mode];var s=t.AES_asm.HEAP_DATA;var f=this.pos;var c=this.len;var l=0;var d=e.length||0;var o=0;var u=c+d&-16;var h=0;var p=new Uint8Array(u);while(d>0){h=(0,i._heap_write)(n,f+c,e,l,d);c+=h;l+=h;d-=h;h=r.cipher(a,s+f,c);if(h)p.set(n.subarray(f,f+h),o);o+=h;if(h<c){f+=h;c-=h}else{f=0;c=0}}this.pos=f;this.len=c;return p};AES.prototype.AES_Encrypt_finish=function(){this.acquire_asm();var e=this.asm;var r=this.heap;var n=t.AES_asm.ENC[this.mode];var i=t.AES_asm.HEAP_DATA;var s=this.pos;var f=this.len;var c=16-f%16;var l=f;if(this.hasOwnProperty("padding")){if(this.padding){for(var d=0;d<c;++d){r[s+f+d]=c}f+=c;l=f}else if(f%16){throw new a.IllegalArgumentError("data length must be a multiple of the block size")}}else{f+=c}var o=new Uint8Array(l);if(f)e.cipher(n,i+s,f);if(l)o.set(r.subarray(s,s+l));this.pos=0;this.len=0;this.release_asm();return o};AES.prototype.AES_Decrypt_process=function(e){if(!(0,i.is_bytes)(e))throw new TypeError("data isn't of expected type");this.acquire_asm();var r=this.asm;var n=this.heap;var a=t.AES_asm.DEC[this.mode];var s=t.AES_asm.HEAP_DATA;var f=this.pos;var c=this.len;var l=0;var d=e.length||0;var o=0;var u=c+d&-16;var h=0;var p=0;if(this.padding){h=c+d-u||16;u-=h}var v=new Uint8Array(u);while(d>0){p=(0,i._heap_write)(n,f+c,e,l,d);c+=p;l+=p;d-=p;p=r.cipher(a,s+f,c-(!d?h:0));if(p)v.set(n.subarray(f,f+p),o);o+=p;if(p<c){f+=p;c-=p}else{f=0;c=0}}this.pos=f;this.len=c;return v};AES.prototype.AES_Decrypt_finish=function(){this.acquire_asm();var e=this.asm;var r=this.heap;var n=t.AES_asm.DEC[this.mode];var i=t.AES_asm.HEAP_DATA;var s=this.pos;var f=this.len;var c=f;if(f>0){if(f%16){if(this.hasOwnProperty("padding")){throw new a.IllegalArgumentError("data length must be a multiple of the block size")}else{f+=16-f%16}}e.cipher(n,i+s,f);if(this.hasOwnProperty("padding")&&this.padding){var l=r[s+c-1];if(l<1||l>16||l>c)throw new a.SecurityError("bad padding");var d=0;for(var o=l;o>1;o--)d|=l^r[s+c-o];if(d)throw new a.SecurityError("bad padding");c-=l}}var u=new Uint8Array(c);if(c>0){u.set(r.subarray(s,s+c))}this.pos=0;this.len=0;this.release_asm();return u};return AES}();n.AES=c},{"../other/errors":14,"../other/utils":15,"./aes.asm":2}],4:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.AES_CBC=undefined;var t=e("./aes");var i=e("../other/utils");var a=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(r.hasOwnProperty(n))e[n]=r[n]};return function(r,n){e(r,n);function __(){this.constructor=r}r.prototype=n===null?Object.create(n):(__.prototype=n.prototype,new __)}}();var s=function(e){a(AES_CBC,e);function AES_CBC(r,n,t){if(t===void 0){t=true}return e.call(this,r,n,t,"CBC")||this}AES_CBC.encrypt=function(e,r,n,t){if(n===void 0){n=true}return new AES_CBC(r,t,n).encrypt(e)};AES_CBC.decrypt=function(e,r,n,t){if(n===void 0){n=true}return new AES_CBC(r,t,n).decrypt(e)};AES_CBC.prototype.encrypt=function(e){var r=this.AES_Encrypt_process(e);var n=this.AES_Encrypt_finish();return(0,i.joinBytes)(r,n)};AES_CBC.prototype.decrypt=function(e){var r=this.AES_Decrypt_process(e);var n=this.AES_Decrypt_finish();return(0,i.joinBytes)(r,n)};return AES_CBC}(t.AES);n.AES_CBC=s},{"../other/utils":15,"./aes":3}],5:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.AES_CFB=undefined;var t=e("./aes");var i=e("../other/utils");var a=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(r.hasOwnProperty(n))e[n]=r[n]};return function(r,n){e(r,n);function __(){this.constructor=r}r.prototype=n===null?Object.create(n):(__.prototype=n.prototype,new __)}}();var s=function(e){a(AES_CFB,e);function AES_CFB(r,n){var t=e.call(this,r,n,true,"CFB")||this;delete t.padding;return t}AES_CFB.encrypt=function(e,r,n){return new AES_CFB(r,n).encrypt(e)};AES_CFB.decrypt=function(e,r,n){return new AES_CFB(r,n).decrypt(e)};AES_CFB.prototype.encrypt=function(e){var r=this.AES_Encrypt_process(e);var n=this.AES_Encrypt_finish();return(0,i.joinBytes)(r,n)};AES_CFB.prototype.decrypt=function(e){var r=this.AES_Decrypt_process(e);var n=this.AES_Decrypt_finish();return(0,i.joinBytes)(r,n)};return AES_CFB}(t.AES);n.AES_CFB=s},{"../other/utils":15,"./aes":3}],6:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.AES_CTR=undefined;var t=e("./aes");var i=e("../other/errors");var a=e("../other/utils");var s=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(r.hasOwnProperty(n))e[n]=r[n]};return function(r,n){e(r,n);function __(){this.constructor=r}r.prototype=n===null?Object.create(n):(__.prototype=n.prototype,new __)}}();var f=function(e){s(AES_CTR,e);function AES_CTR(r,n){var t=e.call(this,r,undefined,false,"CTR")||this;delete t.padding;t.AES_CTR_set_options(n);return t}AES_CTR.encrypt=function(e,r,n){return new AES_CTR(r,n).encrypt(e)};AES_CTR.decrypt=function(e,r,n){return new AES_CTR(r,n).encrypt(e)};AES_CTR.prototype.encrypt=function(e){var r=this.AES_Encrypt_process(e);var n=this.AES_Encrypt_finish();return(0,a.joinBytes)(r,n)};AES_CTR.prototype.decrypt=function(e){var r=this.AES_Encrypt_process(e);var n=this.AES_Encrypt_finish();return(0,a.joinBytes)(r,n)};AES_CTR.prototype.AES_CTR_set_options=function(e,r,n){if(n!==undefined){if(n<8||n>48)throw new i.IllegalArgumentError("illegal counter size");var t=Math.pow(2,n)-1;this.asm.set_mask(0,0,t/4294967296|0,t|0)}else{n=48;this.asm.set_mask(0,0,65535,4294967295)}if(e!==undefined){var a=e.length;if(!a||a>16)throw new i.IllegalArgumentError("illegal nonce size");var s=new DataView(new ArrayBuffer(16));new Uint8Array(s.buffer).set(e);this.asm.set_nonce(s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12))}else{throw new Error("nonce is required")}if(r!==undefined){if(r<0||r>=Math.pow(2,n))throw new i.IllegalArgumentError("illegal counter value");this.asm.set_counter(0,0,r/4294967296|0,r|0)}};return AES_CTR}(t.AES);n.AES_CTR=f},{"../other/errors":14,"../other/utils":15,"./aes":3}],7:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.AES_ECB=undefined;var t=e("./aes");var i=e("../other/utils");var a=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(r.hasOwnProperty(n))e[n]=r[n]};return function(r,n){e(r,n);function __(){this.constructor=r}r.prototype=n===null?Object.create(n):(__.prototype=n.prototype,new __)}}();var s=function(e){a(AES_ECB,e);function AES_ECB(r,n){if(n===void 0){n=false}return e.call(this,r,undefined,n,"ECB")||this}AES_ECB.encrypt=function(e,r,n){if(n===void 0){n=false}return new AES_ECB(r,n).encrypt(e)};AES_ECB.decrypt=function(e,r,n){if(n===void 0){n=false}return new AES_ECB(r,n).decrypt(e)};AES_ECB.prototype.encrypt=function(e){var r=this.AES_Encrypt_process(e);var n=this.AES_Encrypt_finish();return(0,i.joinBytes)(r,n)};AES_ECB.prototype.decrypt=function(e){var r=this.AES_Decrypt_process(e);var n=this.AES_Decrypt_finish();return(0,i.joinBytes)(r,n)};return AES_ECB}(t.AES);n.AES_ECB=s},{"../other/utils":15,"./aes":3}],8:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.AES_GCM=undefined;var t=e("../other/errors");var i=e("../other/utils");var a=e("./aes");var s=e("./aes.asm");var f=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(r.hasOwnProperty(n))e[n]=r[n]};return function(r,n){e(r,n);function __(){this.constructor=r}r.prototype=n===null?Object.create(n):(__.prototype=n.prototype,new __)}}();var c=68719476704;var l=function(e){f(AES_GCM,e);function AES_GCM(r,n,i,a){if(a===void 0){a=16}var f=e.call(this,r,undefined,false,"CTR")||this;f.tagSize=a;f.gamma0=0;f.counter=1;f.asm.gcm_init();if(f.tagSize<4||f.tagSize>16)throw new t.IllegalArgumentError("illegal tagSize value");var l=n.length||0;var d=new Uint8Array(16);if(l!==12){f._gcm_mac_process(n);f.heap[0]=0;f.heap[1]=0;f.heap[2]=0;f.heap[3]=0;f.heap[4]=0;f.heap[5]=0;f.heap[6]=0;f.heap[7]=0;f.heap[8]=0;f.heap[9]=0;f.heap[10]=0;f.heap[11]=l>>>29;f.heap[12]=l>>>21&255;f.heap[13]=l>>>13&255;f.heap[14]=l>>>5&255;f.heap[15]=l<<3&255;f.asm.mac(s.AES_asm.MAC.GCM,s.AES_asm.HEAP_DATA,16);f.asm.get_iv(s.AES_asm.HEAP_DATA);f.asm.set_iv(0,0,0,0);d.set(f.heap.subarray(0,16))}else{d.set(n);d[15]=1}var o=new DataView(d.buffer);f.gamma0=o.getUint32(12);f.asm.set_nonce(o.getUint32(0),o.getUint32(4),o.getUint32(8),0);f.asm.set_mask(0,0,0,4294967295);if(i!==undefined){if(i.length>c)throw new t.IllegalArgumentError("illegal adata length");if(i.length){f.adata=i;f._gcm_mac_process(i)}else{f.adata=undefined}}else{f.adata=undefined}if(f.counter<1||f.counter>4294967295)throw new RangeError("counter must be a positive 32-bit integer");f.asm.set_counter(0,0,0,f.gamma0+f.counter|0);return f}AES_GCM.encrypt=function(e,r,n,t,i){return new AES_GCM(r,n,t,i).encrypt(e)};AES_GCM.decrypt=function(e,r,n,t,i){return new AES_GCM(r,n,t,i).decrypt(e)};AES_GCM.prototype.encrypt=function(e){return this.AES_GCM_encrypt(e)};AES_GCM.prototype.decrypt=function(e){return this.AES_GCM_decrypt(e)};AES_GCM.prototype.AES_GCM_Encrypt_process=function(e){var r=0;var n=e.length||0;var t=this.asm;var a=this.heap;var f=this.counter;var l=this.pos;var d=this.len;var o=0;var u=d+n&-16;var h=0;if((f-1<<4)+d+n>c)throw new RangeError("counter overflow");var p=new Uint8Array(u);while(n>0){h=(0,i._heap_write)(a,l+d,e,r,n);d+=h;r+=h;n-=h;h=t.cipher(s.AES_asm.ENC.CTR,s.AES_asm.HEAP_DATA+l,d);h=t.mac(s.AES_asm.MAC.GCM,s.AES_asm.HEAP_DATA+l,h);if(h)p.set(a.subarray(l,l+h),o);f+=h>>>4;o+=h;if(h<d){l+=h;d-=h}else{l=0;d=0}}this.counter=f;this.pos=l;this.len=d;return p};AES_GCM.prototype.AES_GCM_Encrypt_finish=function(){var e=this.asm;var r=this.heap;var n=this.counter;var t=this.tagSize;var i=this.adata;var a=this.pos;var f=this.len;var c=new Uint8Array(f+t);e.cipher(s.AES_asm.ENC.CTR,s.AES_asm.HEAP_DATA+a,f+15&-16);if(f)c.set(r.subarray(a,a+f));var l=f;for(;l&15;l++)r[a+l]=0;e.mac(s.AES_asm.MAC.GCM,s.AES_asm.HEAP_DATA+a,l);var d=i!==undefined?i.length:0;var o=(n-1<<4)+f;r[0]=0;r[1]=0;r[2]=0;r[3]=d>>>29;r[4]=d>>>21;r[5]=d>>>13&255;r[6]=d>>>5&255;r[7]=d<<3&255;r[8]=r[9]=r[10]=0;r[11]=o>>>29;r[12]=o>>>21&255;r[13]=o>>>13&255;r[14]=o>>>5&255;r[15]=o<<3&255;e.mac(s.AES_asm.MAC.GCM,s.AES_asm.HEAP_DATA,16);e.get_iv(s.AES_asm.HEAP_DATA);e.set_counter(0,0,0,this.gamma0);e.cipher(s.AES_asm.ENC.CTR,s.AES_asm.HEAP_DATA,16);c.set(r.subarray(0,t),f);this.counter=1;this.pos=0;this.len=0;return c};AES_GCM.prototype.AES_GCM_Decrypt_process=function(e){var r=0;var n=e.length||0;var t=this.asm;var a=this.heap;var f=this.counter;var l=this.tagSize;var d=this.pos;var o=this.len;var u=0;var h=o+n>l?o+n-l&-16:0;var p=o+n-h;var v=0;if((f-1<<4)+o+n>c)throw new RangeError("counter overflow");var b=new Uint8Array(h);while(n>p){v=(0,i._heap_write)(a,d+o,e,r,n-p);o+=v;r+=v;n-=v;v=t.mac(s.AES_asm.MAC.GCM,s.AES_asm.HEAP_DATA+d,v);v=t.cipher(s.AES_asm.DEC.CTR,s.AES_asm.HEAP_DATA+d,v);if(v)b.set(a.subarray(d,d+v),u);f+=v>>>4;u+=v;d=0;o=0}if(n>0){o+=(0,i._heap_write)(a,0,e,r,n)}this.counter=f;this.pos=d;this.len=o;return b};AES_GCM.prototype.AES_GCM_Decrypt_finish=function(){var e=this.asm;var r=this.heap;var n=this.tagSize;var i=this.adata;var a=this.counter;var f=this.pos;var c=this.len;var l=c-n;if(c<n)throw new t.IllegalStateError("authentication tag not found");var d=new Uint8Array(l);var o=new Uint8Array(r.subarray(f+l,f+c));var u=l;for(;u&15;u++)r[f+u]=0;e.mac(s.AES_asm.MAC.GCM,s.AES_asm.HEAP_DATA+f,u);e.cipher(s.AES_asm.DEC.CTR,s.AES_asm.HEAP_DATA+f,u);if(l)d.set(r.subarray(f,f+l));var h=i!==undefined?i.length:0;var p=(a-1<<4)+c-n;r[0]=0;r[1]=0;r[2]=0;r[3]=h>>>29;r[4]=h>>>21;r[5]=h>>>13&255;r[6]=h>>>5&255;r[7]=h<<3&255;r[8]=r[9]=r[10]=0;r[11]=p>>>29;r[12]=p>>>21&255;r[13]=p>>>13&255;r[14]=p>>>5&255;r[15]=p<<3&255;e.mac(s.AES_asm.MAC.GCM,s.AES_asm.HEAP_DATA,16);e.get_iv(s.AES_asm.HEAP_DATA);e.set_counter(0,0,0,this.gamma0);e.cipher(s.AES_asm.ENC.CTR,s.AES_asm.HEAP_DATA,16);var v=0;for(var b=0;b<n;++b)v|=o[b]^r[b];if(v)throw new t.SecurityError("data integrity check failed");this.counter=1;this.pos=0;this.len=0;return d};AES_GCM.prototype.AES_GCM_decrypt=function(e){var r=this.AES_GCM_Decrypt_process(e);var n=this.AES_GCM_Decrypt_finish();var t=new Uint8Array(r.length+n.length);if(r.length)t.set(r);if(n.length)t.set(n,r.length);return t};AES_GCM.prototype.AES_GCM_encrypt=function(e){var r=this.AES_GCM_Encrypt_process(e);var n=this.AES_GCM_Encrypt_finish();var t=new Uint8Array(r.length+n.length);if(r.length)t.set(r);if(n.length)t.set(n,r.length);return t};AES_GCM.prototype._gcm_mac_process=function(e){var r=this.heap;var n=this.asm;var t=0;var a=e.length||0;var f=0;while(a>0){f=(0,i._heap_write)(r,0,e,t,a);t+=f;a-=f;while(f&15)r[f++]=0;n.mac(s.AES_asm.MAC.GCM,s.AES_asm.HEAP_DATA,f)}};return AES_GCM}(a.AES);n.AES_GCM=l},{"../other/errors":14,"../other/utils":15,"./aes":3,"./aes.asm":2}],9:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.Hash=undefined;var t=e("../other/utils");var i=e("../other/errors");var a=function(){function Hash(){this.pos=0;this.len=0;this.acquire_asm()}Hash.prototype.acquire_asm=function(){if(this.heap===undefined&&this.asm===undefined){this.heap=this.constructor.heap_pool.pop()||(0,t._heap_init)();this.asm=this.constructor.asm_pool.pop()||this.constructor.asm_function({Uint8Array:Uint8Array},null,this.heap.buffer);this.reset()}};Hash.prototype.release_asm=function(){this.constructor.heap_pool.push(this.heap);this.constructor.asm_pool.push(this.asm);this.heap=undefined;this.asm=undefined};Hash.prototype.reset=function(){this.acquire_asm();this.result=null;this.pos=0;this.len=0;this.asm.reset();return this};Hash.prototype.process=function(e){if(this.result!==null)throw new i.IllegalStateError("state must be reset before processing new data");this.acquire_asm();var r=this.asm;var n=this.heap;var a=this.pos;var s=this.len;var f=0;var c=e.length;var l=0;while(c>0){l=(0,t._heap_write)(n,a+s,e,f,c);s+=l;f+=l;c-=l;l=r.process(a,s);a+=l;s-=l;if(!s)a=0}this.pos=a;this.len=s;return this};Hash.prototype.finish=function(){if(this.result!==null)throw new i.IllegalStateError("state must be reset before processing new data");this.acquire_asm();this.asm.finish(this.pos,this.len,0);this.result=new Uint8Array(this.HASH_SIZE);this.result.set(this.heap.subarray(0,this.HASH_SIZE));this.pos=0;this.len=0;this.release_asm();return this};return Hash}();n.Hash=a},{"../other/errors":14,"../other/utils":15}],10:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=n.sha1_asm=function sha1_asm(e,r,n){"use asm";var t=0,i=0,a=0,s=0,f=0,c=0,l=0;var d=0,o=0,u=0,h=0,p=0,v=0,b=0,y=0,g=0,w=0;var m=new e.Uint8Array(n);function _core(e,r,n,c,l,d,o,u,h,p,v,b,y,g,w,m){e=e|0;r=r|0;n=n|0;c=c|0;l=l|0;d=d|0;o=o|0;u=u|0;h=h|0;p=p|0;v=v|0;b=b|0;y=y|0;g=g|0;w=w|0;m=m|0;var A=0,E=0,S=0,k=0,R=0,M=0,C=0,D=0,_=0,j=0,B=0,q=0,U=0,x=0,I=0,K=0,O=0,F=0,P=0,T=0,N=0,z=0,L=0,W=0,H=0,G=0,J=0,Y=0,Q=0,Z=0,X=0,V=0,$=0,ee=0,re=0,ne=0,te=0,ie=0,ae=0,se=0,fe=0,ce=0,le=0,de=0,oe=0,ue=0,he=0,pe=0,ve=0,be=0,ye=0,ge=0,we=0,me=0,Ae=0,Ee=0,Se=0,ke=0,Re=0,Me=0,Ce=0,De=0,_e=0,je=0,Be=0,qe=0,Ue=0,xe=0,Ie=0,Ke=0,Oe=0;A=t;E=i;S=a;k=s;R=f;C=e+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;C=r+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;C=n+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;C=c+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;C=l+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;C=d+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;C=o+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;C=u+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;C=h+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;C=p+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;C=v+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;C=b+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;C=y+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;C=g+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;C=w+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;C=m+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=g^h^n^e;D=M<<1|M>>>31;C=D+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=w^p^c^r;_=M<<1|M>>>31;C=_+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=m^v^l^n;j=M<<1|M>>>31;C=j+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=D^b^d^c;B=M<<1|M>>>31;C=B+(A<<5|A>>>27)+R+(E&S|~E&k)+0x5a827999|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=_^y^o^l;q=M<<1|M>>>31;C=q+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=j^g^u^d;U=M<<1|M>>>31;C=U+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=B^w^h^o;x=M<<1|M>>>31;C=x+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=q^m^p^u;I=M<<1|M>>>31;C=I+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=U^D^v^h;K=M<<1|M>>>31;C=K+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=x^_^b^p;O=M<<1|M>>>31;C=O+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=I^j^y^v;F=M<<1|M>>>31;C=F+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=K^B^g^b;P=M<<1|M>>>31;C=P+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=O^q^w^y;T=M<<1|M>>>31;C=T+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=F^U^m^g;N=M<<1|M>>>31;C=N+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=P^x^D^w;z=M<<1|M>>>31;C=z+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=T^I^_^m;L=M<<1|M>>>31;C=L+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=N^K^j^D;W=M<<1|M>>>31;C=W+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=z^O^B^_;H=M<<1|M>>>31;C=H+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=L^F^q^j;G=M<<1|M>>>31;C=G+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=W^P^U^B;J=M<<1|M>>>31;C=J+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=H^T^x^q;Y=M<<1|M>>>31;C=Y+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=G^N^I^U;Q=M<<1|M>>>31;C=Q+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=J^z^K^x;Z=M<<1|M>>>31;C=Z+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=Y^L^O^I;X=M<<1|M>>>31;C=X+(A<<5|A>>>27)+R+(E^S^k)+0x6ed9eba1|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=Q^W^F^K;V=M<<1|M>>>31;C=V+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=Z^H^P^O;$=M<<1|M>>>31;C=$+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=X^G^T^F;ee=M<<1|M>>>31;C=ee+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=V^J^N^P;re=M<<1|M>>>31;C=re+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=$^Y^z^T;ne=M<<1|M>>>31;C=ne+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=ee^Q^L^N;te=M<<1|M>>>31;C=te+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=re^Z^W^z;ie=M<<1|M>>>31;C=ie+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=ne^X^H^L;ae=M<<1|M>>>31;C=ae+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=te^V^G^W;se=M<<1|M>>>31;C=se+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=ie^$^J^H;fe=M<<1|M>>>31;C=fe+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=ae^ee^Y^G;ce=M<<1|M>>>31;C=ce+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=se^re^Q^J;le=M<<1|M>>>31;C=le+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=fe^ne^Z^Y;de=M<<1|M>>>31;C=de+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=ce^te^X^Q;oe=M<<1|M>>>31;C=oe+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=le^ie^V^Z;ue=M<<1|M>>>31;C=ue+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=de^ae^$^X;he=M<<1|M>>>31;C=he+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=oe^se^ee^V;pe=M<<1|M>>>31;C=pe+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=ue^fe^re^$;ve=M<<1|M>>>31;C=ve+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=he^ce^ne^ee;be=M<<1|M>>>31;C=be+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=pe^le^te^re;ye=M<<1|M>>>31;C=ye+(A<<5|A>>>27)+R+(E&S|E&k|S&k)-0x70e44324|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=ve^de^ie^ne;ge=M<<1|M>>>31;C=ge+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=be^oe^ae^te;we=M<<1|M>>>31;C=we+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=ye^ue^se^ie;me=M<<1|M>>>31;C=me+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=ge^he^fe^ae;Ae=M<<1|M>>>31;C=Ae+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=we^pe^ce^se;Ee=M<<1|M>>>31;C=Ee+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=me^ve^le^fe;Se=M<<1|M>>>31;C=Se+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=Ae^be^de^ce;ke=M<<1|M>>>31;C=ke+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=Ee^ye^oe^le;Re=M<<1|M>>>31;C=Re+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=Se^ge^ue^de;Me=M<<1|M>>>31;C=Me+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=ke^we^he^oe;Ce=M<<1|M>>>31;C=Ce+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=Re^me^pe^ue;De=M<<1|M>>>31;C=De+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=Me^Ae^ve^he;_e=M<<1|M>>>31;C=_e+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=Ce^Ee^be^pe;je=M<<1|M>>>31;C=je+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=De^Se^ye^ve;Be=M<<1|M>>>31;C=Be+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=_e^ke^ge^be;qe=M<<1|M>>>31;C=qe+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=je^Re^we^ye;Ue=M<<1|M>>>31;C=Ue+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=Be^Me^me^ge;xe=M<<1|M>>>31;C=xe+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=qe^Ce^Ae^we;Ie=M<<1|M>>>31;C=Ie+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=Ue^De^Ee^me;Ke=M<<1|M>>>31;C=Ke+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;M=xe^_e^Se^Ae;Oe=M<<1|M>>>31;C=Oe+(A<<5|A>>>27)+R+(E^S^k)-0x359d3e2a|0;R=k;k=S;S=E<<30|E>>>2;E=A;A=C;t=t+A|0;i=i+E|0;a=a+S|0;s=s+k|0;f=f+R|0}function _core_heap(e){e=e|0;_core(m[e|0]<<24|m[e|1]<<16|m[e|2]<<8|m[e|3],m[e|4]<<24|m[e|5]<<16|m[e|6]<<8|m[e|7],m[e|8]<<24|m[e|9]<<16|m[e|10]<<8|m[e|11],m[e|12]<<24|m[e|13]<<16|m[e|14]<<8|m[e|15],m[e|16]<<24|m[e|17]<<16|m[e|18]<<8|m[e|19],m[e|20]<<24|m[e|21]<<16|m[e|22]<<8|m[e|23],m[e|24]<<24|m[e|25]<<16|m[e|26]<<8|m[e|27],m[e|28]<<24|m[e|29]<<16|m[e|30]<<8|m[e|31],m[e|32]<<24|m[e|33]<<16|m[e|34]<<8|m[e|35],m[e|36]<<24|m[e|37]<<16|m[e|38]<<8|m[e|39],m[e|40]<<24|m[e|41]<<16|m[e|42]<<8|m[e|43],m[e|44]<<24|m[e|45]<<16|m[e|46]<<8|m[e|47],m[e|48]<<24|m[e|49]<<16|m[e|50]<<8|m[e|51],m[e|52]<<24|m[e|53]<<16|m[e|54]<<8|m[e|55],m[e|56]<<24|m[e|57]<<16|m[e|58]<<8|m[e|59],m[e|60]<<24|m[e|61]<<16|m[e|62]<<8|m[e|63])}function _state_to_heap(e){e=e|0;m[e|0]=t>>>24;m[e|1]=t>>>16&255;m[e|2]=t>>>8&255;m[e|3]=t&255;m[e|4]=i>>>24;m[e|5]=i>>>16&255;m[e|6]=i>>>8&255;m[e|7]=i&255;m[e|8]=a>>>24;m[e|9]=a>>>16&255;m[e|10]=a>>>8&255;m[e|11]=a&255;m[e|12]=s>>>24;m[e|13]=s>>>16&255;m[e|14]=s>>>8&255;m[e|15]=s&255;m[e|16]=f>>>24;m[e|17]=f>>>16&255;m[e|18]=f>>>8&255;m[e|19]=f&255}function reset(){t=0x67452301;i=0xefcdab89;a=0x98badcfe;s=0x10325476;f=0xc3d2e1f0;c=l=0}function init(e,r,n,d,o,u,h){e=e|0;r=r|0;n=n|0;d=d|0;o=o|0;u=u|0;h=h|0;t=e;i=r;a=n;s=d;f=o;c=u;l=h}function process(e,r){e=e|0;r=r|0;var n=0;if(e&63)return-1;while((r|0)>=64){_core_heap(e);e=e+64|0;r=r-64|0;n=n+64|0}c=c+n|0;if(c>>>0<n>>>0)l=l+1|0;return n|0}function finish(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,i=0;if(e&63)return-1;if(~n)if(n&31)return-1;if((r|0)>=64){t=process(e,r)|0;if((t|0)==-1)return-1;e=e+t|0;r=r-t|0}t=t+r|0;c=c+r|0;if(c>>>0<r>>>0)l=l+1|0;m[e|r]=0x80;if((r|0)>=56){for(i=r+1|0;(i|0)<64;i=i+1|0)m[e|i]=0x00;_core_heap(e);r=0;m[e|0]=0}for(i=r+1|0;(i|0)<59;i=i+1|0)m[e|i]=0;m[e|56]=l>>>21&255;m[e|57]=l>>>13&255;m[e|58]=l>>>5&255;m[e|59]=l<<3&255|c>>>29;m[e|60]=c>>>21&255;m[e|61]=c>>>13&255;m[e|62]=c>>>5&255;m[e|63]=c<<3&255;_core_heap(e);if(~n)_state_to_heap(n);return t|0}function hmac_reset(){t=d;i=o;a=u;s=h;f=p;c=64;l=0}function _hmac_opad(){t=v;i=b;a=y;s=g;f=w;c=64;l=0}function hmac_init(e,r,n,m,A,E,S,k,R,M,C,D,_,j,B,q){e=e|0;r=r|0;n=n|0;m=m|0;A=A|0;E=E|0;S=S|0;k=k|0;R=R|0;M=M|0;C=C|0;D=D|0;_=_|0;j=j|0;B=B|0;q=q|0;reset();_core(e^0x5c5c5c5c,r^0x5c5c5c5c,n^0x5c5c5c5c,m^0x5c5c5c5c,A^0x5c5c5c5c,E^0x5c5c5c5c,S^0x5c5c5c5c,k^0x5c5c5c5c,R^0x5c5c5c5c,M^0x5c5c5c5c,C^0x5c5c5c5c,D^0x5c5c5c5c,_^0x5c5c5c5c,j^0x5c5c5c5c,B^0x5c5c5c5c,q^0x5c5c5c5c);v=t;b=i;y=a;g=s;w=f;reset();_core(e^0x36363636,r^0x36363636,n^0x36363636,m^0x36363636,A^0x36363636,E^0x36363636,S^0x36363636,k^0x36363636,R^0x36363636,M^0x36363636,C^0x36363636,D^0x36363636,_^0x36363636,j^0x36363636,B^0x36363636,q^0x36363636);d=t;o=i;u=a;h=s;p=f;c=64;l=0}function hmac_finish(e,r,n){e=e|0;r=r|0;n=n|0;var c=0,l=0,d=0,o=0,u=0,h=0;if(e&63)return-1;if(~n)if(n&31)return-1;h=finish(e,r,-1)|0;c=t,l=i,d=a,o=s,u=f;_hmac_opad();_core(c,l,d,o,u,0x80000000,0,0,0,0,0,0,0,0,0,672);if(~n)_state_to_heap(n);return h|0}function pbkdf2_generate_block(e,r,n,c,l){e=e|0;r=r|0;n=n|0;c=c|0;l=l|0;var d=0,o=0,u=0,h=0,p=0,v=0,b=0,y=0,g=0,w=0;if(e&63)return-1;if(~l)if(l&31)return-1;m[e+r|0]=n>>>24;m[e+r+1|0]=n>>>16&255;m[e+r+2|0]=n>>>8&255;m[e+r+3|0]=n&255;hmac_finish(e,r+4|0,-1)|0;d=v=t,o=b=i,u=y=a,h=g=s,p=w=f;c=c-1|0;while((c|0)>0){hmac_reset();_core(v,b,y,g,w,0x80000000,0,0,0,0,0,0,0,0,0,672);v=t,b=i,y=a,g=s,w=f;_hmac_opad();_core(v,b,y,g,w,0x80000000,0,0,0,0,0,0,0,0,0,672);v=t,b=i,y=a,g=s,w=f;d=d^t;o=o^i;u=u^a;h=h^s;p=p^f;c=c-1|0}t=d;i=o;a=u;s=h;f=p;if(~l)_state_to_heap(l);return 0}return{reset:reset,init:init,process:process,finish:finish,hmac_reset:hmac_reset,hmac_init:hmac_init,hmac_finish:hmac_finish,pbkdf2_generate_block:pbkdf2_generate_block}}},{}],11:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.Sha1=n._sha1_hash_size=n._sha1_block_size=undefined;var t=e("./sha1.asm");var i=e("../hash");var a=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(r.hasOwnProperty(n))e[n]=r[n]};return function(r,n){e(r,n);function __(){this.constructor=r}r.prototype=n===null?Object.create(n):(__.prototype=n.prototype,new __)}}();var s=n._sha1_block_size=64;var f=n._sha1_hash_size=20;var c=function(e){a(Sha1,e);function Sha1(){var r=e!==null&&e.apply(this,arguments)||this;r.NAME="sha1";r.BLOCK_SIZE=s;r.HASH_SIZE=f;return r}Sha1.bytes=function(e){return(new Sha1).process(e).finish().result};Sha1.NAME="sha1";Sha1.heap_pool=[];Sha1.asm_pool=[];Sha1.asm_function=t.sha1_asm;return Sha1}(i.Hash);n.Sha1=c},{"../hash":9,"./sha1.asm":10}],12:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=n.sha256_asm=function sha256_asm(e,r,n){"use asm";var t=0,i=0,a=0,s=0,f=0,c=0,l=0,d=0,o=0,u=0;var h=0,p=0,v=0,b=0,y=0,g=0,w=0,m=0,A=0,E=0,S=0,k=0,R=0,M=0,C=0,D=0;var _=new e.Uint8Array(n);function _core(e,r,n,o,u,h,p,v,b,y,g,w,m,A,E,S){e=e|0;r=r|0;n=n|0;o=o|0;u=u|0;h=h|0;p=p|0;v=v|0;b=b|0;y=y|0;g=g|0;w=w|0;m=m|0;A=A|0;E=E|0;S=S|0;var k=0,R=0,M=0,C=0,D=0,_=0,j=0,B=0;k=t;R=i;M=a;C=s;D=f;_=c;j=l;B=d;B=e+B+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(j^D&(_^j))+0x428a2f98|0;C=C+B|0;B=B+(k&R^M&(k^R))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;j=r+j+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(_^C&(D^_))+0x71374491|0;M=M+j|0;j=j+(B&k^R&(B^k))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;_=n+_+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(D^M&(C^D))+0xb5c0fbcf|0;R=R+_|0;_=_+(j&B^k&(j^B))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0;D=o+D+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(C^R&(M^C))+0xe9b5dba5|0;k=k+D|0;D=D+(_&j^B&(_^j))+(_>>>2^_>>>13^_>>>22^_<<30^_<<19^_<<10)|0;C=u+C+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(M^k&(R^M))+0x3956c25b|0;B=B+C|0;C=C+(D&_^j&(D^_))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;M=h+M+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(R^B&(k^R))+0x59f111f1|0;j=j+M|0;M=M+(C&D^_&(C^D))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;R=p+R+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(k^j&(B^k))+0x923f82a4|0;_=_+R|0;R=R+(M&C^D&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;k=v+k+(_>>>6^_>>>11^_>>>25^_<<26^_<<21^_<<7)+(B^_&(j^B))+0xab1c5ed5|0;D=D+k|0;k=k+(R&M^C&(R^M))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;B=b+B+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(j^D&(_^j))+0xd807aa98|0;C=C+B|0;B=B+(k&R^M&(k^R))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;j=y+j+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(_^C&(D^_))+0x12835b01|0;M=M+j|0;j=j+(B&k^R&(B^k))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;_=g+_+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(D^M&(C^D))+0x243185be|0;R=R+_|0;_=_+(j&B^k&(j^B))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0;D=w+D+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(C^R&(M^C))+0x550c7dc3|0;k=k+D|0;D=D+(_&j^B&(_^j))+(_>>>2^_>>>13^_>>>22^_<<30^_<<19^_<<10)|0;C=m+C+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(M^k&(R^M))+0x72be5d74|0;B=B+C|0;C=C+(D&_^j&(D^_))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;M=A+M+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(R^B&(k^R))+0x80deb1fe|0;j=j+M|0;M=M+(C&D^_&(C^D))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;R=E+R+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(k^j&(B^k))+0x9bdc06a7|0;_=_+R|0;R=R+(M&C^D&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;k=S+k+(_>>>6^_>>>11^_>>>25^_<<26^_<<21^_<<7)+(B^_&(j^B))+0xc19bf174|0;D=D+k|0;k=k+(R&M^C&(R^M))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;e=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(E>>>17^E>>>19^E>>>10^E<<15^E<<13)+e+y|0;B=e+B+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(j^D&(_^j))+0xe49b69c1|0;C=C+B|0;B=B+(k&R^M&(k^R))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;r=(n>>>7^n>>>18^n>>>3^n<<25^n<<14)+(S>>>17^S>>>19^S>>>10^S<<15^S<<13)+r+g|0;j=r+j+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(_^C&(D^_))+0xefbe4786|0;M=M+j|0;j=j+(B&k^R&(B^k))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;n=(o>>>7^o>>>18^o>>>3^o<<25^o<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+n+w|0;_=n+_+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(D^M&(C^D))+0x0fc19dc6|0;R=R+_|0;_=_+(j&B^k&(j^B))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0;o=(u>>>7^u>>>18^u>>>3^u<<25^u<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+o+m|0;D=o+D+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(C^R&(M^C))+0x240ca1cc|0;k=k+D|0;D=D+(_&j^B&(_^j))+(_>>>2^_>>>13^_>>>22^_<<30^_<<19^_<<10)|0;u=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(n>>>17^n>>>19^n>>>10^n<<15^n<<13)+u+A|0;C=u+C+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(M^k&(R^M))+0x2de92c6f|0;B=B+C|0;C=C+(D&_^j&(D^_))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;h=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(o>>>17^o>>>19^o>>>10^o<<15^o<<13)+h+E|0;M=h+M+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(R^B&(k^R))+0x4a7484aa|0;j=j+M|0;M=M+(C&D^_&(C^D))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;p=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(u>>>17^u>>>19^u>>>10^u<<15^u<<13)+p+S|0;R=p+R+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(k^j&(B^k))+0x5cb0a9dc|0;_=_+R|0;R=R+(M&C^D&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;v=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+v+e|0;k=v+k+(_>>>6^_>>>11^_>>>25^_<<26^_<<21^_<<7)+(B^_&(j^B))+0x76f988da|0;D=D+k|0;k=k+(R&M^C&(R^M))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;b=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+b+r|0;B=b+B+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(j^D&(_^j))+0x983e5152|0;C=C+B|0;B=B+(k&R^M&(k^R))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;y=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+y+n|0;j=y+j+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(_^C&(D^_))+0xa831c66d|0;M=M+j|0;j=j+(B&k^R&(B^k))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;g=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+g+o|0;_=g+_+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(D^M&(C^D))+0xb00327c8|0;R=R+_|0;_=_+(j&B^k&(j^B))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0;w=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+w+u|0;D=w+D+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(C^R&(M^C))+0xbf597fc7|0;k=k+D|0;D=D+(_&j^B&(_^j))+(_>>>2^_>>>13^_>>>22^_<<30^_<<19^_<<10)|0;m=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+m+h|0;C=m+C+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(M^k&(R^M))+0xc6e00bf3|0;B=B+C|0;C=C+(D&_^j&(D^_))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;A=(E>>>7^E>>>18^E>>>3^E<<25^E<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+A+p|0;M=A+M+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(R^B&(k^R))+0xd5a79147|0;j=j+M|0;M=M+(C&D^_&(C^D))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;E=(S>>>7^S>>>18^S>>>3^S<<25^S<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+E+v|0;R=E+R+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(k^j&(B^k))+0x06ca6351|0;_=_+R|0;R=R+(M&C^D&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;S=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+S+b|0;k=S+k+(_>>>6^_>>>11^_>>>25^_<<26^_<<21^_<<7)+(B^_&(j^B))+0x14292967|0;D=D+k|0;k=k+(R&M^C&(R^M))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;e=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(E>>>17^E>>>19^E>>>10^E<<15^E<<13)+e+y|0;B=e+B+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(j^D&(_^j))+0x27b70a85|0;C=C+B|0;B=B+(k&R^M&(k^R))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;r=(n>>>7^n>>>18^n>>>3^n<<25^n<<14)+(S>>>17^S>>>19^S>>>10^S<<15^S<<13)+r+g|0;j=r+j+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(_^C&(D^_))+0x2e1b2138|0;M=M+j|0;j=j+(B&k^R&(B^k))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;n=(o>>>7^o>>>18^o>>>3^o<<25^o<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+n+w|0;_=n+_+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(D^M&(C^D))+0x4d2c6dfc|0;R=R+_|0;_=_+(j&B^k&(j^B))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0;o=(u>>>7^u>>>18^u>>>3^u<<25^u<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+o+m|0;D=o+D+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(C^R&(M^C))+0x53380d13|0;k=k+D|0;D=D+(_&j^B&(_^j))+(_>>>2^_>>>13^_>>>22^_<<30^_<<19^_<<10)|0;u=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(n>>>17^n>>>19^n>>>10^n<<15^n<<13)+u+A|0;C=u+C+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(M^k&(R^M))+0x650a7354|0;B=B+C|0;C=C+(D&_^j&(D^_))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;h=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(o>>>17^o>>>19^o>>>10^o<<15^o<<13)+h+E|0;M=h+M+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(R^B&(k^R))+0x766a0abb|0;j=j+M|0;M=M+(C&D^_&(C^D))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;p=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(u>>>17^u>>>19^u>>>10^u<<15^u<<13)+p+S|0;R=p+R+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(k^j&(B^k))+0x81c2c92e|0;_=_+R|0;R=R+(M&C^D&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;v=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+v+e|0;k=v+k+(_>>>6^_>>>11^_>>>25^_<<26^_<<21^_<<7)+(B^_&(j^B))+0x92722c85|0;D=D+k|0;k=k+(R&M^C&(R^M))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;b=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+b+r|0;B=b+B+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(j^D&(_^j))+0xa2bfe8a1|0;C=C+B|0;B=B+(k&R^M&(k^R))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;y=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+y+n|0;j=y+j+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(_^C&(D^_))+0xa81a664b|0;M=M+j|0;j=j+(B&k^R&(B^k))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;g=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+g+o|0;_=g+_+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(D^M&(C^D))+0xc24b8b70|0;R=R+_|0;_=_+(j&B^k&(j^B))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0;w=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+w+u|0;D=w+D+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(C^R&(M^C))+0xc76c51a3|0;k=k+D|0;D=D+(_&j^B&(_^j))+(_>>>2^_>>>13^_>>>22^_<<30^_<<19^_<<10)|0;m=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+m+h|0;C=m+C+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(M^k&(R^M))+0xd192e819|0;B=B+C|0;C=C+(D&_^j&(D^_))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;A=(E>>>7^E>>>18^E>>>3^E<<25^E<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+A+p|0;M=A+M+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(R^B&(k^R))+0xd6990624|0;j=j+M|0;M=M+(C&D^_&(C^D))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;E=(S>>>7^S>>>18^S>>>3^S<<25^S<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+E+v|0;R=E+R+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(k^j&(B^k))+0xf40e3585|0;_=_+R|0;R=R+(M&C^D&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;S=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+S+b|0;k=S+k+(_>>>6^_>>>11^_>>>25^_<<26^_<<21^_<<7)+(B^_&(j^B))+0x106aa070|0;D=D+k|0;k=k+(R&M^C&(R^M))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;e=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(E>>>17^E>>>19^E>>>10^E<<15^E<<13)+e+y|0;B=e+B+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(j^D&(_^j))+0x19a4c116|0;C=C+B|0;B=B+(k&R^M&(k^R))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;r=(n>>>7^n>>>18^n>>>3^n<<25^n<<14)+(S>>>17^S>>>19^S>>>10^S<<15^S<<13)+r+g|0;j=r+j+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(_^C&(D^_))+0x1e376c08|0;M=M+j|0;j=j+(B&k^R&(B^k))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;n=(o>>>7^o>>>18^o>>>3^o<<25^o<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+n+w|0;_=n+_+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(D^M&(C^D))+0x2748774c|0;R=R+_|0;_=_+(j&B^k&(j^B))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0;o=(u>>>7^u>>>18^u>>>3^u<<25^u<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+o+m|0;D=o+D+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(C^R&(M^C))+0x34b0bcb5|0;k=k+D|0;D=D+(_&j^B&(_^j))+(_>>>2^_>>>13^_>>>22^_<<30^_<<19^_<<10)|0;u=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(n>>>17^n>>>19^n>>>10^n<<15^n<<13)+u+A|0;C=u+C+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(M^k&(R^M))+0x391c0cb3|0;B=B+C|0;C=C+(D&_^j&(D^_))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;h=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(o>>>17^o>>>19^o>>>10^o<<15^o<<13)+h+E|0;M=h+M+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(R^B&(k^R))+0x4ed8aa4a|0;j=j+M|0;M=M+(C&D^_&(C^D))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;p=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(u>>>17^u>>>19^u>>>10^u<<15^u<<13)+p+S|0;R=p+R+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(k^j&(B^k))+0x5b9cca4f|0;_=_+R|0;R=R+(M&C^D&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;v=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+v+e|0;k=v+k+(_>>>6^_>>>11^_>>>25^_<<26^_<<21^_<<7)+(B^_&(j^B))+0x682e6ff3|0;D=D+k|0;k=k+(R&M^C&(R^M))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;b=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+b+r|0;B=b+B+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(j^D&(_^j))+0x748f82ee|0;C=C+B|0;B=B+(k&R^M&(k^R))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;y=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+y+n|0;j=y+j+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(_^C&(D^_))+0x78a5636f|0;M=M+j|0;j=j+(B&k^R&(B^k))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;g=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+g+o|0;_=g+_+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(D^M&(C^D))+0x84c87814|0;R=R+_|0;_=_+(j&B^k&(j^B))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0;w=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+w+u|0;D=w+D+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(C^R&(M^C))+0x8cc70208|0;k=k+D|0;D=D+(_&j^B&(_^j))+(_>>>2^_>>>13^_>>>22^_<<30^_<<19^_<<10)|0;m=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+m+h|0;C=m+C+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(M^k&(R^M))+0x90befffa|0;B=B+C|0;C=C+(D&_^j&(D^_))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;A=(E>>>7^E>>>18^E>>>3^E<<25^E<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+A+p|0;M=A+M+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(R^B&(k^R))+0xa4506ceb|0;j=j+M|0;M=M+(C&D^_&(C^D))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;E=(S>>>7^S>>>18^S>>>3^S<<25^S<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+E+v|0;R=E+R+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(k^j&(B^k))+0xbef9a3f7|0;_=_+R|0;R=R+(M&C^D&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;S=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+S+b|0;k=S+k+(_>>>6^_>>>11^_>>>25^_<<26^_<<21^_<<7)+(B^_&(j^B))+0xc67178f2|0;D=D+k|0;k=k+(R&M^C&(R^M))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;t=t+k|0;i=i+R|0;a=a+M|0;s=s+C|0;f=f+D|0;c=c+_|0;l=l+j|0;d=d+B|0}function _core_heap(e){e=e|0;_core(_[e|0]<<24|_[e|1]<<16|_[e|2]<<8|_[e|3],_[e|4]<<24|_[e|5]<<16|_[e|6]<<8|_[e|7],_[e|8]<<24|_[e|9]<<16|_[e|10]<<8|_[e|11],_[e|12]<<24|_[e|13]<<16|_[e|14]<<8|_[e|15],_[e|16]<<24|_[e|17]<<16|_[e|18]<<8|_[e|19],_[e|20]<<24|_[e|21]<<16|_[e|22]<<8|_[e|23],_[e|24]<<24|_[e|25]<<16|_[e|26]<<8|_[e|27],_[e|28]<<24|_[e|29]<<16|_[e|30]<<8|_[e|31],_[e|32]<<24|_[e|33]<<16|_[e|34]<<8|_[e|35],_[e|36]<<24|_[e|37]<<16|_[e|38]<<8|_[e|39],_[e|40]<<24|_[e|41]<<16|_[e|42]<<8|_[e|43],_[e|44]<<24|_[e|45]<<16|_[e|46]<<8|_[e|47],_[e|48]<<24|_[e|49]<<16|_[e|50]<<8|_[e|51],_[e|52]<<24|_[e|53]<<16|_[e|54]<<8|_[e|55],_[e|56]<<24|_[e|57]<<16|_[e|58]<<8|_[e|59],_[e|60]<<24|_[e|61]<<16|_[e|62]<<8|_[e|63])}function _state_to_heap(e){e=e|0;_[e|0]=t>>>24;_[e|1]=t>>>16&255;_[e|2]=t>>>8&255;_[e|3]=t&255;_[e|4]=i>>>24;_[e|5]=i>>>16&255;_[e|6]=i>>>8&255;_[e|7]=i&255;_[e|8]=a>>>24;_[e|9]=a>>>16&255;_[e|10]=a>>>8&255;_[e|11]=a&255;_[e|12]=s>>>24;_[e|13]=s>>>16&255;_[e|14]=s>>>8&255;_[e|15]=s&255;_[e|16]=f>>>24;_[e|17]=f>>>16&255;_[e|18]=f>>>8&255;_[e|19]=f&255;_[e|20]=c>>>24;_[e|21]=c>>>16&255;_[e|22]=c>>>8&255;_[e|23]=c&255;_[e|24]=l>>>24;_[e|25]=l>>>16&255;_[e|26]=l>>>8&255;_[e|27]=l&255;_[e|28]=d>>>24;_[e|29]=d>>>16&255;_[e|30]=d>>>8&255;_[e|31]=d&255}function reset(){t=0x6a09e667;i=0xbb67ae85;a=0x3c6ef372;s=0xa54ff53a;f=0x510e527f;c=0x9b05688c;l=0x1f83d9ab;d=0x5be0cd19;o=u=0}function init(e,r,n,h,p,v,b,y,g,w){e=e|0;r=r|0;n=n|0;h=h|0;p=p|0;v=v|0;b=b|0;y=y|0;g=g|0;w=w|0;t=e;i=r;a=n;s=h;f=p;c=v;l=b;d=y;o=g;u=w}function process(e,r){e=e|0;r=r|0;var n=0;if(e&63)return-1;while((r|0)>=64){_core_heap(e);e=e+64|0;r=r-64|0;n=n+64|0}o=o+n|0;if(o>>>0<n>>>0)u=u+1|0;return n|0}function finish(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,i=0;if(e&63)return-1;if(~n)if(n&31)return-1;if((r|0)>=64){t=process(e,r)|0;if((t|0)==-1)return-1;e=e+t|0;r=r-t|0}t=t+r|0;o=o+r|0;if(o>>>0<r>>>0)u=u+1|0;_[e|r]=0x80;if((r|0)>=56){for(i=r+1|0;(i|0)<64;i=i+1|0)_[e|i]=0x00;_core_heap(e);r=0;_[e|0]=0}for(i=r+1|0;(i|0)<59;i=i+1|0)_[e|i]=0;_[e|56]=u>>>21&255;_[e|57]=u>>>13&255;_[e|58]=u>>>5&255;_[e|59]=u<<3&255|o>>>29;_[e|60]=o>>>21&255;_[e|61]=o>>>13&255;_[e|62]=o>>>5&255;_[e|63]=o<<3&255;_core_heap(e);if(~n)_state_to_heap(n);return t|0}function hmac_reset(){t=h;i=p;a=v;s=b;f=y;c=g;l=w;d=m;o=64;u=0}function _hmac_opad(){t=A;i=E;a=S;s=k;f=R;c=M;l=C;d=D;o=64;u=0}function hmac_init(e,r,n,_,j,B,q,U,x,I,K,O,F,P,T,N){e=e|0;r=r|0;n=n|0;_=_|0;j=j|0;B=B|0;q=q|0;U=U|0;x=x|0;I=I|0;K=K|0;O=O|0;F=F|0;P=P|0;T=T|0;N=N|0;reset();_core(e^0x5c5c5c5c,r^0x5c5c5c5c,n^0x5c5c5c5c,_^0x5c5c5c5c,j^0x5c5c5c5c,B^0x5c5c5c5c,q^0x5c5c5c5c,U^0x5c5c5c5c,x^0x5c5c5c5c,I^0x5c5c5c5c,K^0x5c5c5c5c,O^0x5c5c5c5c,F^0x5c5c5c5c,P^0x5c5c5c5c,T^0x5c5c5c5c,N^0x5c5c5c5c);A=t;E=i;S=a;k=s;R=f;M=c;C=l;D=d;reset();_core(e^0x36363636,r^0x36363636,n^0x36363636,_^0x36363636,j^0x36363636,B^0x36363636,q^0x36363636,U^0x36363636,x^0x36363636,I^0x36363636,K^0x36363636,O^0x36363636,F^0x36363636,P^0x36363636,T^0x36363636,N^0x36363636);h=t;p=i;v=a;b=s;y=f;g=c;w=l;m=d;o=64;u=0}function hmac_finish(e,r,n){e=e|0;r=r|0;n=n|0;var o=0,u=0,h=0,p=0,v=0,b=0,y=0,g=0,w=0;if(e&63)return-1;if(~n)if(n&31)return-1;w=finish(e,r,-1)|0;o=t,u=i,h=a,p=s,v=f,b=c,y=l,g=d;_hmac_opad();_core(o,u,h,p,v,b,y,g,0x80000000,0,0,0,0,0,0,768);if(~n)_state_to_heap(n);return w|0}function pbkdf2_generate_block(e,r,n,o,u){e=e|0;r=r|0;n=n|0;o=o|0;u=u|0;var h=0,p=0,v=0,b=0,y=0,g=0,w=0,m=0,A=0,E=0,S=0,k=0,R=0,M=0,C=0,D=0;if(e&63)return-1;if(~u)if(u&31)return-1;_[e+r|0]=n>>>24;_[e+r+1|0]=n>>>16&255;_[e+r+2|0]=n>>>8&255;_[e+r+3|0]=n&255;hmac_finish(e,r+4|0,-1)|0;h=A=t,p=E=i,v=S=a,b=k=s,y=R=f,g=M=c,w=C=l,m=D=d;o=o-1|0;while((o|0)>0){hmac_reset();_core(A,E,S,k,R,M,C,D,0x80000000,0,0,0,0,0,0,768);A=t,E=i,S=a,k=s,R=f,M=c,C=l,D=d;_hmac_opad();_core(A,E,S,k,R,M,C,D,0x80000000,0,0,0,0,0,0,768);A=t,E=i,S=a,k=s,R=f,M=c,C=l,D=d;h=h^t;p=p^i;v=v^a;b=b^s;y=y^f;g=g^c;w=w^l;m=m^d;o=o-1|0}t=h;i=p;a=v;s=b;f=y;c=g;l=w;d=m;if(~u)_state_to_heap(u);return 0}return{reset:reset,init:init,process:process,finish:finish,hmac_reset:hmac_reset,hmac_init:hmac_init,hmac_finish:hmac_finish,pbkdf2_generate_block:pbkdf2_generate_block}}},{}],13:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.Sha256=n._sha256_hash_size=n._sha256_block_size=undefined;var t=e("./sha256.asm");var i=e("../hash");var a=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(r.hasOwnProperty(n))e[n]=r[n]};return function(r,n){e(r,n);function __(){this.constructor=r}r.prototype=n===null?Object.create(n):(__.prototype=n.prototype,new __)}}();var s=n._sha256_block_size=64;var f=n._sha256_hash_size=32;var c=function(e){a(Sha256,e);function Sha256(){var r=e!==null&&e.apply(this,arguments)||this;r.NAME="sha256";r.BLOCK_SIZE=s;r.HASH_SIZE=f;return r}Sha256.bytes=function(e){return(new Sha256).process(e).finish().result};Sha256.NAME="sha256";Sha256.heap_pool=[];Sha256.asm_pool=[];Sha256.asm_function=t.sha256_asm;return Sha256}(i.Hash);n.Sha256=c},{"../hash":9,"./sha256.asm":12}],14:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(r.hasOwnProperty(n))e[n]=r[n]};return function(r,n){e(r,n);function __(){this.constructor=r}r.prototype=n===null?Object.create(n):(__.prototype=n.prototype,new __)}}();var i=function(e){t(IllegalStateError,e);function IllegalStateError(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}var t=e.apply(this,r)||this;Object.create(Error.prototype,{name:{value:"IllegalStateError"}});return t}return IllegalStateError}(Error);n.IllegalStateError=i;var a=function(e){t(IllegalArgumentError,e);function IllegalArgumentError(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}var t=e.apply(this,r)||this;Object.create(Error.prototype,{name:{value:"IllegalArgumentError"}});return t}return IllegalArgumentError}(Error);n.IllegalArgumentError=a;var s=function(e){t(SecurityError,e);function SecurityError(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}var t=e.apply(this,r)||this;Object.create(Error.prototype,{name:{value:"SecurityError"}});return t}return SecurityError}(Error);n.SecurityError=s},{}],15:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.string_to_bytes=string_to_bytes;n.hex_to_bytes=hex_to_bytes;n.base64_to_bytes=base64_to_bytes;n.bytes_to_string=bytes_to_string;n.bytes_to_hex=bytes_to_hex;n.bytes_to_base64=bytes_to_base64;n.pow2_ceil=pow2_ceil;n.is_number=is_number;n.is_string=is_string;n.is_buffer=is_buffer;n.is_bytes=is_bytes;n.is_typed_array=is_typed_array;n._heap_init=_heap_init;n._heap_write=_heap_write;n.joinBytes=joinBytes;var t=typeof atob==="undefined"?function(r){return e("buffer").Buffer.from(r,"base64").toString("binary")}:atob;var i=typeof btoa==="undefined"?function(r){return e("buffer").Buffer.from(r,"binary").toString("base64")}:btoa;function string_to_bytes(e,r){if(r===void 0){r=false}var n=e.length,t=new Uint8Array(r?4*n:n);for(var i=0,a=0;i<n;i++){var s=e.charCodeAt(i);if(r&&55296<=s&&s<=56319){if(++i>=n)throw new Error("Malformed string, low surrogate expected at position "+i);s=(s^55296)<<10|65536|e.charCodeAt(i)^56320}else if(!r&&s>>>8){throw new Error("Wide characters are not allowed.")}if(!r||s<=127){t[a++]=s}else if(s<=2047){t[a++]=192|s>>6;t[a++]=128|s&63}else if(s<=65535){t[a++]=224|s>>12;t[a++]=128|s>>6&63;t[a++]=128|s&63}else{t[a++]=240|s>>18;t[a++]=128|s>>12&63;t[a++]=128|s>>6&63;t[a++]=128|s&63}}return t.subarray(0,a)}function hex_to_bytes(e){var r=e.length;if(r&1){e="0"+e;r++}var n=new Uint8Array(r>>1);for(var t=0;t<r;t+=2){n[t>>1]=parseInt(e.substr(t,2),16)}return n}function base64_to_bytes(e){return string_to_bytes(t(e))}function bytes_to_string(e,r){if(r===void 0){r=false}var n=e.length,t=new Array(n);for(var i=0,a=0;i<n;i++){var s=e[i];if(!r||s<128){t[a++]=s}else if(s>=192&&s<224&&i+1<n){t[a++]=(s&31)<<6|e[++i]&63}else if(s>=224&&s<240&&i+2<n){t[a++]=(s&15)<<12|(e[++i]&63)<<6|e[++i]&63}else if(s>=240&&s<248&&i+3<n){var f=(s&7)<<18|(e[++i]&63)<<12|(e[++i]&63)<<6|e[++i]&63;if(f<=65535){t[a++]=f}else{f^=65536;t[a++]=55296|f>>10;t[a++]=56320|f&1023}}else{throw new Error("Malformed UTF8 character at byte offset "+i)}}var c="",l=16384;for(var i=0;i<a;i+=l){c+=String.fromCharCode.apply(String,t.slice(i,i+l<=a?i+l:a))}return c}function bytes_to_hex(e){var r="";for(var n=0;n<e.length;n++){var t=(e[n]&255).toString(16);if(t.length<2)r+="0";r+=t}return r}function bytes_to_base64(e){return i(bytes_to_string(e))}function pow2_ceil(e){e-=1;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e+=1;return e}function is_number(e){return typeof e==="number"}function is_string(e){return typeof e==="string"}function is_buffer(e){return e instanceof ArrayBuffer}function is_bytes(e){return e instanceof Uint8Array}function is_typed_array(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function _heap_init(e,r){var n=e?e.byteLength:r||65536;if(n&4095||n<=0)throw new Error("heap size must be a positive integer and a multiple of 4096");e=e||new Uint8Array(new ArrayBuffer(n));return e}function _heap_write(e,r,n,t,i){var a=e.length-r;var s=a<i?a:i;e.set(n.subarray(t,t+s),r);return s}function joinBytes(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var n=e.reduce(function(e,r){return e+r.length},0);var t=new Uint8Array(n);var i=0;for(var a=0;a<e.length;a++){t.set(e[a],i);i+=e[a].length}return t}},{buffer:"buffer"}],16:[function(e,r,n){"use strict";const t=n;t.bignum=e("bn.js");t.define=e("./asn1/api").define;t.base=e("./asn1/base");t.constants=e("./asn1/constants");t.decoders=e("./asn1/decoders");t.encoders=e("./asn1/encoders")},{"./asn1/api":17,"./asn1/base":19,"./asn1/constants":23,"./asn1/decoders":25,"./asn1/encoders":28,"bn.js":30}],17:[function(e,r,n){"use strict";const t=e("../asn1");const i=e("inherits");const a=n;a.define=function define(e,r){return new Entity(e,r)};function Entity(e,r){this.name=e;this.body=r;this.decoders={};this.encoders={}}Entity.prototype._createNamed=function createNamed(r){let n;try{n=e("vm").runInThisContext("(function "+this.name+"(entity) {\n"+"  this._initNamed(entity);\n"+"})")}catch(e){n=function(e){this._initNamed(e)}}i(n,r);n.prototype._initNamed=function initnamed(e){r.call(this,e)};return new n(this)};Entity.prototype._getDecoder=function _getDecoder(e){e=e||"der";if(!this.decoders.hasOwnProperty(e))this.decoders[e]=this._createNamed(t.decoders[e]);return this.decoders[e]};Entity.prototype.decode=function decode(e,r,n){return this._getDecoder(r).decode(e,n)};Entity.prototype._getEncoder=function _getEncoder(e){e=e||"der";if(!this.encoders.hasOwnProperty(e))this.encoders[e]=this._createNamed(t.encoders[e]);return this.encoders[e]};Entity.prototype.encode=function encode(e,r,n){return this._getEncoder(r).encode(e,n)}},{"../asn1":16,inherits:61,vm:87}],18:[function(e,r,n){"use strict";const t=e("inherits");const i=e("../base").Reporter;const a=e("buffer").Buffer;function DecoderBuffer(e,r){i.call(this,r);if(!a.isBuffer(e)){this.error("Input not Buffer");return}this.base=e;this.offset=0;this.length=e.length}t(DecoderBuffer,i);n.DecoderBuffer=DecoderBuffer;DecoderBuffer.prototype.save=function save(){return{offset:this.offset,reporter:i.prototype.save.call(this)}};DecoderBuffer.prototype.restore=function restore(e){const r=new DecoderBuffer(this.base);r.offset=e.offset;r.length=this.offset;this.offset=e.offset;i.prototype.restore.call(this,e.reporter);return r};DecoderBuffer.prototype.isEmpty=function isEmpty(){return this.offset===this.length};DecoderBuffer.prototype.readUInt8=function readUInt8(e){if(this.offset+1<=this.length)return this.base.readUInt8(this.offset++,true);else return this.error(e||"DecoderBuffer overrun")};DecoderBuffer.prototype.skip=function skip(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");const n=new DecoderBuffer(this.base);n._reporterState=this._reporterState;n.offset=this.offset;n.length=this.offset+e;this.offset+=e;return n};DecoderBuffer.prototype.raw=function raw(e){return this.base.slice(e?e.offset:this.offset,this.length)};function EncoderBuffer(e,r){if(Array.isArray(e)){this.length=0;this.value=e.map(function(e){if(!(e instanceof EncoderBuffer))e=new EncoderBuffer(e,r);this.length+=e.length;return e},this)}else if(typeof e==="number"){if(!(0<=e&&e<=255))return r.error("non-byte EncoderBuffer value");this.value=e;this.length=1}else if(typeof e==="string"){this.value=e;this.length=a.byteLength(e)}else if(a.isBuffer(e)){this.value=e;this.length=e.length}else{return r.error("Unsupported type: "+typeof e)}}n.EncoderBuffer=EncoderBuffer;EncoderBuffer.prototype.join=function join(e,r){if(!e)e=new a(this.length);if(!r)r=0;if(this.length===0)return e;if(Array.isArray(this.value)){this.value.forEach(function(n){n.join(e,r);r+=n.length})}else{if(typeof this.value==="number")e[r]=this.value;else if(typeof this.value==="string")e.write(this.value,r);else if(a.isBuffer(this.value))this.value.copy(e,r);r+=this.length}return e}},{"../base":19,buffer:"buffer",inherits:61}],19:[function(e,r,n){"use strict";const t=n;t.Reporter=e("./reporter").Reporter;t.DecoderBuffer=e("./buffer").DecoderBuffer;t.EncoderBuffer=e("./buffer").EncoderBuffer;t.Node=e("./node")},{"./buffer":18,"./node":20,"./reporter":21}],20:[function(e,r,n){"use strict";const t=e("../base").Reporter;const i=e("../base").EncoderBuffer;const a=e("../base").DecoderBuffer;const s=e("minimalistic-assert");const f=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"];const c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(f);const l=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Node(e,r){const n={};this._baseState=n;n.enc=e;n.parent=r||null;n.children=null;n.tag=null;n.args=null;n.reverseArgs=null;n.choice=null;n.optional=false;n.any=false;n.obj=false;n.use=null;n.useDecoder=null;n.key=null;n["default"]=null;n.explicit=null;n.implicit=null;n.contains=null;if(!n.parent){n.children=[];this._wrap()}}r.exports=Node;const d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node.prototype.clone=function clone(){const e=this._baseState;const r={};d.forEach(function(n){r[n]=e[n]});const n=new this.constructor(r.parent);n._baseState=r;return n};Node.prototype._wrap=function wrap(){const e=this._baseState;c.forEach(function(r){this[r]=function _wrappedMethod(){const n=new this.constructor(this);e.children.push(n);return n[r].apply(n,arguments)}},this)};Node.prototype._init=function init(e){const r=this._baseState;s(r.parent===null);e.call(this);r.children=r.children.filter(function(e){return e._baseState.parent===this},this);s.equal(r.children.length,1,"Root node can have only one child")};Node.prototype._useArgs=function useArgs(e){const r=this._baseState;const n=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this);if(n.length!==0){s(r.children===null);r.children=n;n.forEach(function(e){e._baseState.parent=this},this)}if(e.length!==0){s(r.args===null);r.args=e;r.reverseArgs=e.map(function(e){if(typeof e!=="object"||e.constructor!==Object)return e;const r={};Object.keys(e).forEach(function(n){if(n==(n|0))n|=0;const t=e[n];r[t]=n});return r})}};l.forEach(function(e){Node.prototype[e]=function _overrided(){const r=this._baseState;throw new Error(e+" not implemented for encoding: "+r.enc)}});f.forEach(function(e){Node.prototype[e]=function _tagMethod(){const r=this._baseState;const n=Array.prototype.slice.call(arguments);s(r.tag===null);r.tag=e;this._useArgs(n);return this}});Node.prototype.use=function use(e){s(e);const r=this._baseState;s(r.use===null);r.use=e;return this};Node.prototype.optional=function optional(){const e=this._baseState;e.optional=true;return this};Node.prototype.def=function def(e){const r=this._baseState;s(r["default"]===null);r["default"]=e;r.optional=true;return this};Node.prototype.explicit=function explicit(e){const r=this._baseState;s(r.explicit===null&&r.implicit===null);r.explicit=e;return this};Node.prototype.implicit=function implicit(e){const r=this._baseState;s(r.explicit===null&&r.implicit===null);r.implicit=e;return this};Node.prototype.obj=function obj(){const e=this._baseState;const r=Array.prototype.slice.call(arguments);e.obj=true;if(r.length!==0)this._useArgs(r);return this};Node.prototype.key=function key(e){const r=this._baseState;s(r.key===null);r.key=e;return this};Node.prototype.any=function any(){const e=this._baseState;e.any=true;return this};Node.prototype.choice=function choice(e){const r=this._baseState;s(r.choice===null);r.choice=e;this._useArgs(Object.keys(e).map(function(r){return e[r]}));return this};Node.prototype.contains=function contains(e){const r=this._baseState;s(r.use===null);r.contains=e;return this};Node.prototype._decode=function decode(e,r){const n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));let t=n["default"];let i=true;let s=null;if(n.key!==null)s=e.enterKey(n.key);if(n.optional){let t=null;if(n.explicit!==null)t=n.explicit;else if(n.implicit!==null)t=n.implicit;else if(n.tag!==null)t=n.tag;if(t===null&&!n.any){const t=e.save();try{if(n.choice===null)this._decodeGeneric(n.tag,e,r);else this._decodeChoice(e,r);i=true}catch(e){i=false}e.restore(t)}else{i=this._peekTag(e,t,n.any);if(e.isError(i))return i}}let f;if(n.obj&&i)f=e.enterObject();if(i){if(n.explicit!==null){const r=this._decodeTag(e,n.explicit);if(e.isError(r))return r;e=r}const i=e.offset;if(n.use===null&&n.choice===null){let r;if(n.any)r=e.save();const i=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(i))return i;if(n.any)t=e.raw(r);else e=i}if(r&&r.track&&n.tag!==null)r.track(e.path(),i,e.length,"tagged");if(r&&r.track&&n.tag!==null)r.track(e.path(),e.offset,e.length,"content");if(n.any){}else if(n.choice===null){t=this._decodeGeneric(n.tag,e,r)}else{t=this._decodeChoice(e,r)}if(e.isError(t))return t;if(!n.any&&n.choice===null&&n.children!==null){n.children.forEach(function decodeChildren(n){n._decode(e,r)})}if(n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){const i=new a(t);t=this._getUse(n.contains,e._reporterState.obj)._decode(i,r)}}if(n.obj&&i)t=e.leaveObject(f);if(n.key!==null&&(t!==null||i===true))e.leaveKey(s,n.key,t);else if(s!==null)e.exitKey(s);return t};Node.prototype._decodeGeneric=function decodeGeneric(e,r,n){const t=this._baseState;if(e==="seq"||e==="set")return null;if(e==="seqof"||e==="setof")return this._decodeList(r,e,t.args[0],n);else if(/str$/.test(e))return this._decodeStr(r,e,n);else if(e==="objid"&&t.args)return this._decodeObjid(r,t.args[0],t.args[1],n);else if(e==="objid")return this._decodeObjid(r,null,null,n);else if(e==="gentime"||e==="utctime")return this._decodeTime(r,e,n);else if(e==="null_")return this._decodeNull(r,n);else if(e==="bool")return this._decodeBool(r,n);else if(e==="objDesc")return this._decodeStr(r,e,n);else if(e==="int"||e==="enum")return this._decodeInt(r,t.args&&t.args[0],n);if(t.use!==null){return this._getUse(t.use,r._reporterState.obj)._decode(r,n)}else{return r.error("unknown tag: "+e)}};Node.prototype._getUse=function _getUse(e,r){const n=this._baseState;n.useDecoder=this._use(e,r);s(n.useDecoder._baseState.parent===null);n.useDecoder=n.useDecoder._baseState.children[0];if(n.implicit!==n.useDecoder._baseState.implicit){n.useDecoder=n.useDecoder.clone();n.useDecoder._baseState.implicit=n.implicit}return n.useDecoder};Node.prototype._decodeChoice=function decodeChoice(e,r){const n=this._baseState;let t=null;let i=false;Object.keys(n.choice).some(function(a){const s=e.save();const f=n.choice[a];try{const n=f._decode(e,r);if(e.isError(n))return false;t={type:a,value:n};i=true}catch(r){e.restore(s);return false}return true},this);if(!i)return e.error("Choice not matched");return t};Node.prototype._createEncoderBuffer=function createEncoderBuffer(e){return new i(e,this.reporter)};Node.prototype._encode=function encode(e,r,n){const t=this._baseState;if(t["default"]!==null&&t["default"]===e)return;const i=this._encodeValue(e,r,n);if(i===undefined)return;if(this._skipDefault(i,r,n))return;return i};Node.prototype._encodeValue=function encode(e,r,n){const i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,r||new t);let a=null;this.reporter=r;if(i.optional&&e===undefined){if(i["default"]!==null)e=i["default"];else return}let s=null;let f=false;if(i.any){a=this._createEncoderBuffer(e)}else if(i.choice){a=this._encodeChoice(e,r)}else if(i.contains){s=this._getUse(i.contains,n)._encode(e,r);f=true}else if(i.children){s=i.children.map(function(n){if(n._baseState.tag==="null_")return n._encode(null,r,e);if(n._baseState.key===null)return r.error("Child should have a key");const t=r.enterKey(n._baseState.key);if(typeof e!=="object")return r.error("Child expected, but input is not object");const i=n._encode(e[n._baseState.key],r,e);r.leaveKey(t);return i},this).filter(function(e){return e});s=this._createEncoderBuffer(s)}else{if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");const n=this.clone();n._baseState.implicit=null;s=this._createEncoderBuffer(e.map(function(n){const t=this._baseState;return this._getUse(t.args[0],e)._encode(n,r)},n))}else if(i.use!==null){a=this._getUse(i.use,n)._encode(e,r)}else{s=this._encodePrimitive(i.tag,e);f=true}}if(!i.any&&i.choice===null){const e=i.implicit!==null?i.implicit:i.tag;const n=i.implicit===null?"universal":"context";if(e===null){if(i.use===null)r.error("Tag could be omitted only for .use()")}else{if(i.use===null)a=this._encodeComposite(e,f,n,s)}}if(i.explicit!==null)a=this._encodeComposite(i.explicit,false,"context",a);return a};Node.prototype._encodeChoice=function encodeChoice(e,r){const n=this._baseState;const t=n.choice[e.type];if(!t){s(false,e.type+" not found in "+JSON.stringify(Object.keys(n.choice)))}return t._encode(e.value,r)};Node.prototype._encodePrimitive=function encodePrimitive(e,r){const n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);else if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);else if(e==="objid")return this._encodeObjid(r,null,null);else if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);else if(e==="null_")return this._encodeNull();else if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);else if(e==="bool")return this._encodeBool(r);else if(e==="objDesc")return this._encodeStr(r,e);else throw new Error("Unsupported tag: "+e)};Node.prototype._isNumstr=function isNumstr(e){return/^[0-9 ]*$/.test(e)};Node.prototype._isPrintstr=function isPrintstr(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}},{"../base":19,"minimalistic-assert":62}],21:[function(e,r,n){"use strict";const t=e("inherits");function Reporter(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}n.Reporter=Reporter;Reporter.prototype.isError=function isError(e){return e instanceof ReporterError};Reporter.prototype.save=function save(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};Reporter.prototype.restore=function restore(e){const r=this._reporterState;r.obj=e.obj;r.path=r.path.slice(0,e.pathLen)};Reporter.prototype.enterKey=function enterKey(e){return this._reporterState.path.push(e)};Reporter.prototype.exitKey=function exitKey(e){const r=this._reporterState;r.path=r.path.slice(0,e-1)};Reporter.prototype.leaveKey=function leaveKey(e,r,n){const t=this._reporterState;this.exitKey(e);if(t.obj!==null)t.obj[r]=n};Reporter.prototype.path=function path(){return this._reporterState.path.join("/")};Reporter.prototype.enterObject=function enterObject(){const e=this._reporterState;const r=e.obj;e.obj={};return r};Reporter.prototype.leaveObject=function leaveObject(e){const r=this._reporterState;const n=r.obj;r.obj=e;return n};Reporter.prototype.error=function error(e){let r;const n=this._reporterState;const t=e instanceof ReporterError;if(t){r=e}else{r=new ReporterError(n.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack)}if(!n.options.partial)throw r;if(!t)n.errors.push(r);return r};Reporter.prototype.wrapResult=function wrapResult(e){const r=this._reporterState;if(!r.options.partial)return e;return{result:this.isError(e)?null:e,errors:r.errors}};function ReporterError(e,r){this.path=e;this.rethrow(r)}t(ReporterError,Error);ReporterError.prototype.rethrow=function rethrow(e){this.message=e+" at: "+(this.path||"(shallow)");if(Error.captureStackTrace)Error.captureStackTrace(this,ReporterError);if(!this.stack){try{throw new Error(this.message)}catch(e){this.stack=e.stack}}return this}},{inherits:61}],22:[function(e,r,n){"use strict";const t=e("../constants");n.tagClass={0:"universal",1:"application",2:"context",3:"private"};n.tagClassByName=t._reverse(n.tagClass);n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};n.tagByName=t._reverse(n.tag)},{"../constants":23}],23:[function(e,r,n){"use strict";const t=n;t._reverse=function reverse(e){const r={};Object.keys(e).forEach(function(n){if((n|0)==n)n=n|0;const t=e[n];r[t]=n});return r};t.der=e("./der")},{"./der":22}],24:[function(e,r,n){"use strict";const t=e("inherits");const i=e("../../asn1");const a=i.base;const s=i.bignum;const f=i.constants.der;function DERDecoder(e){this.enc="der";this.name=e.name;this.entity=e;this.tree=new DERNode;this.tree._init(e.body)}r.exports=DERDecoder;DERDecoder.prototype.decode=function decode(e,r){if(!(e instanceof a.DecoderBuffer))e=new a.DecoderBuffer(e,r);return this.tree._decode(e,r)};function DERNode(e){a.Node.call(this,"der",e)}t(DERNode,a.Node);DERNode.prototype._peekTag=function peekTag(e,r,n){if(e.isEmpty())return false;const t=e.save();const i=derDecodeTag(e,'Failed to peek tag: "'+r+'"');if(e.isError(i))return i;e.restore(t);return i.tag===r||i.tagStr===r||i.tagStr+"of"===r||n};DERNode.prototype._decodeTag=function decodeTag(e,r,n){const t=derDecodeTag(e,'Failed to decode tag of "'+r+'"');if(e.isError(t))return t;let i=derDecodeLen(e,t.primitive,'Failed to get length of "'+r+'"');if(e.isError(i))return i;if(!n&&t.tag!==r&&t.tagStr!==r&&t.tagStr+"of"!==r){return e.error('Failed to match tag: "'+r+'"')}if(t.primitive||i!==null)return e.skip(i,'Failed to match body of: "'+r+'"');const a=e.save();const s=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');if(e.isError(s))return s;i=e.offset-a.offset;e.restore(a);return e.skip(i,'Failed to match body of: "'+r+'"')};DERNode.prototype._skipUntilEnd=function skipUntilEnd(e,r){for(;;){const n=derDecodeTag(e,r);if(e.isError(n))return n;const t=derDecodeLen(e,n.primitive,r);if(e.isError(t))return t;let i;if(n.primitive||t!==null)i=e.skip(t);else i=this._skipUntilEnd(e,r);if(e.isError(i))return i;if(n.tagStr==="end")break}};DERNode.prototype._decodeList=function decodeList(e,r,n,t){const i=[];while(!e.isEmpty()){const r=this._peekTag(e,"end");if(e.isError(r))return r;const a=n.decode(e,"der",t);if(e.isError(a)&&r)break;i.push(a)}return i};DERNode.prototype._decodeStr=function decodeStr(e,r){if(r==="bitstr"){const r=e.readUInt8();if(e.isError(r))return r;return{unused:r,data:e.raw()}}else if(r==="bmpstr"){const r=e.raw();if(r.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let n="";for(let e=0;e<r.length/2;e++){n+=String.fromCharCode(r.readUInt16BE(e*2))}return n}else if(r==="numstr"){const r=e.raw().toString("ascii");if(!this._isNumstr(r)){return e.error("Decoding of string type: "+"numstr unsupported characters")}return r}else if(r==="octstr"){return e.raw()}else if(r==="objDesc"){return e.raw()}else if(r==="printstr"){const r=e.raw().toString("ascii");if(!this._isPrintstr(r)){return e.error("Decoding of string type: "+"printstr unsupported characters")}return r}else if(/str$/.test(r)){return e.raw().toString()}else{return e.error("Decoding of string type: "+r+" unsupported")}};DERNode.prototype._decodeObjid=function decodeObjid(e,r,n){let t;const i=[];let a=0;let s=0;while(!e.isEmpty()){s=e.readUInt8();a<<=7;a|=s&127;if((s&128)===0){i.push(a);a=0}}if(s&128)i.push(a);const f=i[0]/40|0;const c=i[0]%40;if(n)t=i;else t=[f,c].concat(i.slice(1));if(r){let e=r[t.join(" ")];if(e===undefined)e=r[t.join(".")];if(e!==undefined)t=e}return t};DERNode.prototype._decodeTime=function decodeTime(e,r){const n=e.raw().toString();let t;let i;let a;let s;let f;let c;if(r==="gentime"){t=n.slice(0,4)|0;i=n.slice(4,6)|0;a=n.slice(6,8)|0;s=n.slice(8,10)|0;f=n.slice(10,12)|0;c=n.slice(12,14)|0}else if(r==="utctime"){t=n.slice(0,2)|0;i=n.slice(2,4)|0;a=n.slice(4,6)|0;s=n.slice(6,8)|0;f=n.slice(8,10)|0;c=n.slice(10,12)|0;if(t<70)t=2e3+t;else t=1900+t}else{return e.error("Decoding "+r+" time is not supported yet")}return Date.UTC(t,i-1,a,s,f,c,0)};DERNode.prototype._decodeNull=function decodeNull(){return null};DERNode.prototype._decodeBool=function decodeBool(e){const r=e.readUInt8();if(e.isError(r))return r;else return r!==0};DERNode.prototype._decodeInt=function decodeInt(e,r){const n=e.raw();let t=new s(n);if(r)t=r[t.toString(10)]||t;return t};DERNode.prototype._use=function use(e,r){if(typeof e==="function")e=e(r);return e._getDecoder("der").tree};function derDecodeTag(e,r){let n=e.readUInt8(r);if(e.isError(n))return n;const t=f.tagClass[n>>6];const i=(n&32)===0;if((n&31)===31){let t=n;n=0;while((t&128)===128){t=e.readUInt8(r);if(e.isError(t))return t;n<<=7;n|=t&127}}else{n&=31}const a=f.tag[n];return{cls:t,primitive:i,tag:n,tagStr:a}}function derDecodeLen(e,r,n){let t=e.readUInt8(n);if(e.isError(t))return t;if(!r&&t===128)return null;if((t&128)===0){return t}const i=t&127;if(i>4)return e.error("length octect is too long");t=0;for(let r=0;r<i;r++){t<<=8;const r=e.readUInt8(n);if(e.isError(r))return r;t|=r}return t}},{"../../asn1":16,inherits:61}],25:[function(e,r,n){"use strict";const t=n;t.der=e("./der");t.pem=e("./pem")},{"./der":24,"./pem":26}],26:[function(e,r,n){"use strict";const t=e("inherits");const i=e("buffer").Buffer;const a=e("./der");function PEMDecoder(e){a.call(this,e);this.enc="pem"}t(PEMDecoder,a);r.exports=PEMDecoder;PEMDecoder.prototype.decode=function decode(e,r){const n=e.toString().split(/[\r\n]+/g);const t=r.label.toUpperCase();const s=/^-----(BEGIN|END) ([^-]+)-----$/;let f=-1;let c=-1;for(let e=0;e<n.length;e++){const r=n[e].match(s);if(r===null)continue;if(r[2]!==t)continue;if(f===-1){if(r[1]!=="BEGIN")break;f=e}else{if(r[1]!=="END")break;c=e;break}}if(f===-1||c===-1)throw new Error("PEM section not found for: "+t);const l=n.slice(f+1,c).join("");l.replace(/[^a-z0-9+/=]+/gi,"");const d=new i(l,"base64");return a.prototype.decode.call(this,d,r)}},{"./der":24,buffer:"buffer",inherits:61}],27:[function(e,r,n){"use strict";const t=e("inherits");const i=e("buffer").Buffer;const a=e("../../asn1");const s=a.base;const f=a.constants.der;function DEREncoder(e){this.enc="der";this.name=e.name;this.entity=e;this.tree=new DERNode;this.tree._init(e.body)}r.exports=DEREncoder;DEREncoder.prototype.encode=function encode(e,r){return this.tree._encode(e,r).join()};function DERNode(e){s.Node.call(this,"der",e)}t(DERNode,s.Node);DERNode.prototype._encodeComposite=function encodeComposite(e,r,n,t){const a=encodeTag(e,r,n,this.reporter);if(t.length<128){const e=new i(2);e[0]=a;e[1]=t.length;return this._createEncoderBuffer([e,t])}let s=1;for(let e=t.length;e>=256;e>>=8)s++;const f=new i(1+1+s);f[0]=a;f[1]=128|s;for(let e=1+s,r=t.length;r>0;e--,r>>=8)f[e]=r&255;return this._createEncoderBuffer([f,t])};DERNode.prototype._encodeStr=function encodeStr(e,r){if(r==="bitstr"){return this._createEncoderBuffer([e.unused|0,e.data])}else if(r==="bmpstr"){const r=new i(e.length*2);for(let n=0;n<e.length;n++){r.writeUInt16BE(e.charCodeAt(n),n*2)}return this._createEncoderBuffer(r)}else if(r==="numstr"){if(!this._isNumstr(e)){return this.reporter.error("Encoding of string type: numstr supports "+"only digits and space")}return this._createEncoderBuffer(e)}else if(r==="printstr"){if(!this._isPrintstr(e)){return this.reporter.error("Encoding of string type: printstr supports "+"only latin upper and lower case letters, "+"digits, space, apostrophe, left and rigth "+"parenthesis, plus sign, comma, hyphen, "+"dot, slash, colon, equal sign, "+"question mark")}return this._createEncoderBuffer(e)}else if(/str$/.test(r)){return this._createEncoderBuffer(e)}else if(r==="objDesc"){return this._createEncoderBuffer(e)}else{return this.reporter.error("Encoding of string type: "+r+" unsupported")}};DERNode.prototype._encodeObjid=function encodeObjid(e,r,n){if(typeof e==="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(let r=0;r<e.length;r++)e[r]|=0}if(!Array.isArray(e)){return this.reporter.error("objid() should be either array or string, "+"got: "+JSON.stringify(e))}if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let t=0;for(let r=0;r<e.length;r++){let n=e[r];for(t++;n>=128;n>>=7)t++}const a=new i(t);let s=a.length-1;for(let r=e.length-1;r>=0;r--){let n=e[r];a[s--]=n&127;while((n>>=7)>0)a[s--]=128|n&127}return this._createEncoderBuffer(a)};function two(e){if(e<10)return"0"+e;else return e}DERNode.prototype._encodeTime=function encodeTime(e,r){let n;const t=new Date(e);if(r==="gentime"){n=[two(t.getFullYear()),two(t.getUTCMonth()+1),two(t.getUTCDate()),two(t.getUTCHours()),two(t.getUTCMinutes()),two(t.getUTCSeconds()),"Z"].join("")}else if(r==="utctime"){n=[two(t.getFullYear()%100),two(t.getUTCMonth()+1),two(t.getUTCDate()),two(t.getUTCHours()),two(t.getUTCMinutes()),two(t.getUTCSeconds()),"Z"].join("")}else{this.reporter.error("Encoding "+r+" time is not supported yet")}return this._encodeStr(n,"octstr")};DERNode.prototype._encodeNull=function encodeNull(){return this._createEncoderBuffer("")};DERNode.prototype._encodeInt=function encodeInt(e,r){if(typeof e==="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e)){return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e))}e=r[e]}if(typeof e!=="number"&&!i.isBuffer(e)){const r=e.toArray();if(!e.sign&&r[0]&128){r.unshift(0)}e=new i(r)}if(i.isBuffer(e)){let r=e.length;if(e.length===0)r++;const n=new i(r);e.copy(n);if(e.length===0)n[0]=0;return this._createEncoderBuffer(n)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let r=e;r>=256;r>>=8)n++;const t=new Array(n);for(let r=t.length-1;r>=0;r--){t[r]=e&255;e>>=8}if(t[0]&128){t.unshift(0)}return this._createEncoderBuffer(new i(t))};DERNode.prototype._encodeBool=function encodeBool(e){return this._createEncoderBuffer(e?255:0)};DERNode.prototype._use=function use(e,r){if(typeof e==="function")e=e(r);return e._getEncoder("der").tree};DERNode.prototype._skipDefault=function skipDefault(e,r,n){const t=this._baseState;let i;if(t["default"]===null)return false;const a=e.join();if(t.defaultBuffer===undefined)t.defaultBuffer=this._encodeValue(t["default"],r,n).join();if(a.length!==t.defaultBuffer.length)return false;for(i=0;i<a.length;i++)if(a[i]!==t.defaultBuffer[i])return false;return true};function encodeTag(e,r,n,t){let i;if(e==="seqof")e="seq";else if(e==="setof")e="set";if(f.tagByName.hasOwnProperty(e))i=f.tagByName[e];else if(typeof e==="number"&&(e|0)===e)i=e;else return t.error("Unknown tag: "+e);if(i>=31)return t.error("Multi-octet tag encoding unsupported");if(!r)i|=32;i|=f.tagClassByName[n||"universal"]<<6;return i}},{"../../asn1":16,buffer:"buffer",inherits:61}],28:[function(e,r,n){"use strict";const t=n;t.der=e("./der");t.pem=e("./pem")},{"./der":27,"./pem":29}],29:[function(e,r,n){"use strict";const t=e("inherits");const i=e("./der");function PEMEncoder(e){i.call(this,e);this.enc="pem"}t(PEMEncoder,i);r.exports=PEMEncoder;PEMEncoder.prototype.encode=function encode(e,r){const n=i.prototype.encode.call(this,e);const t=n.toString("base64");const a=["-----BEGIN "+r.label+"-----"];for(let e=0;e<t.length;e+=64)a.push(t.slice(e,e+64));a.push("-----END "+r.label+"-----");return a.join("\n")}},{"./der":27,inherits:61}],30:[function(e,r,n){(function(r,n){"use strict";function assert(e,r){if(!e)throw new Error(r||"Assertion failed")}function inherits(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype;e.prototype=new n;e.prototype.constructor=e}function BN(e,r,n){if(BN.isBN(e)){return e}this.negative=0;this.words=null;this.length=0;this.red=null;if(e!==null){if(r==="le"||r==="be"){n=r;r=10}this._init(e||0,r||10,n||"be")}}if(typeof r==="object"){r.exports=BN}else{n.BN=BN}BN.BN=BN;BN.wordSize=26;var t;try{t=e("buffer").Buffer}catch(e){}BN.isBN=function isBN(e){if(e instanceof BN){return true}return e!==null&&typeof e==="object"&&e.constructor.wordSize===BN.wordSize&&Array.isArray(e.words)};BN.max=function max(e,r){if(e.cmp(r)>0)return e;return r};BN.min=function min(e,r){if(e.cmp(r)<0)return e;return r};BN.prototype._init=function init(e,r,n){if(typeof e==="number"){return this._initNumber(e,r,n)}if(typeof e==="object"){return this._initArray(e,r,n)}if(r==="hex"){r=16}assert(r===(r|0)&&r>=2&&r<=36);e=e.toString().replace(/\s+/g,"");var t=0;if(e[0]==="-"){t++}if(r===16){this._parseHex(e,t)}else{this._parseBase(e,r,t)}if(e[0]==="-"){this.negative=1}this.strip();if(n!=="le")return;this._initArray(this.toArray(),r,n)};BN.prototype._initNumber=function _initNumber(e,r,n){if(e<0){this.negative=1;e=-e}if(e<67108864){this.words=[e&67108863];this.length=1}else if(e<4503599627370496){this.words=[e&67108863,e/67108864&67108863];this.length=2}else{assert(e<9007199254740992);this.words=[e&67108863,e/67108864&67108863,1];this.length=3}if(n!=="le")return;this._initArray(this.toArray(),r,n)};BN.prototype._initArray=function _initArray(e,r,n){assert(typeof e.length==="number");if(e.length<=0){this.words=[0];this.length=1;return this}this.length=Math.ceil(e.length/3);this.words=new Array(this.length);for(var t=0;t<this.length;t++){this.words[t]=0}var i,a;var s=0;if(n==="be"){for(t=e.length-1,i=0;t>=0;t-=3){a=e[t]|e[t-1]<<8|e[t-2]<<16;this.words[i]|=a<<s&67108863;this.words[i+1]=a>>>26-s&67108863;s+=24;if(s>=26){s-=26;i++}}}else if(n==="le"){for(t=0,i=0;t<e.length;t+=3){a=e[t]|e[t+1]<<8|e[t+2]<<16;this.words[i]|=a<<s&67108863;this.words[i+1]=a>>>26-s&67108863;s+=24;if(s>=26){s-=26;i++}}}return this.strip()};function parseHex(e,r,n){var t=0;var i=Math.min(e.length,n);for(var a=r;a<i;a++){var s=e.charCodeAt(a)-48;t<<=4;if(s>=49&&s<=54){t|=s-49+10}else if(s>=17&&s<=22){t|=s-17+10}else{t|=s&15}}return t}BN.prototype._parseHex=function _parseHex(e,r){this.length=Math.ceil((e.length-r)/6);this.words=new Array(this.length);for(var n=0;n<this.length;n++){this.words[n]=0}var t,i;var a=0;for(n=e.length-6,t=0;n>=r;n-=6){i=parseHex(e,n,n+6);this.words[t]|=i<<a&67108863;this.words[t+1]|=i>>>26-a&4194303;a+=24;if(a>=26){a-=26;t++}}if(n+6!==r){i=parseHex(e,r,n+6);this.words[t]|=i<<a&67108863;this.words[t+1]|=i>>>26-a&4194303}this.strip()};function parseBase(e,r,n,t){var i=0;var a=Math.min(e.length,n);for(var s=r;s<a;s++){var f=e.charCodeAt(s)-48;i*=t;if(f>=49){i+=f-49+10}else if(f>=17){i+=f-17+10}else{i+=f}}return i}BN.prototype._parseBase=function _parseBase(e,r,n){this.words=[0];this.length=1;for(var t=0,i=1;i<=67108863;i*=r){t++}t--;i=i/r|0;var a=e.length-n;var s=a%t;var f=Math.min(a,a-s)+n;var c=0;for(var l=n;l<f;l+=t){c=parseBase(e,l,l+t,r);this.imuln(i);if(this.words[0]+c<67108864){this.words[0]+=c}else{this._iaddn(c)}}if(s!==0){var d=1;c=parseBase(e,l,e.length,r);for(l=0;l<s;l++){d*=r}this.imuln(d);if(this.words[0]+c<67108864){this.words[0]+=c}else{this._iaddn(c)}}};BN.prototype.copy=function copy(e){e.words=new Array(this.length);for(var r=0;r<this.length;r++){e.words[r]=this.words[r]}e.length=this.length;e.negative=this.negative;e.red=this.red};BN.prototype.clone=function clone(){var e=new BN(null);this.copy(e);return e};BN.prototype._expand=function _expand(e){while(this.length<e){this.words[this.length++]=0}return this};BN.prototype.strip=function strip(){while(this.length>1&&this.words[this.length-1]===0){this.length--}return this._normSign()};BN.prototype._normSign=function _normSign(){if(this.length===1&&this.words[0]===0){this.negative=0}return this};BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var i=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var a=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var s=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function toString(e,r){e=e||10;r=r|0||1;var n;if(e===16||e==="hex"){n="";var t=0;var f=0;for(var c=0;c<this.length;c++){var l=this.words[c];var d=((l<<t|f)&16777215).toString(16);f=l>>>24-t&16777215;if(f!==0||c!==this.length-1){n=i[6-d.length]+d+n}else{n=d+n}t+=2;if(t>=26){t-=26;c--}}if(f!==0){n=f.toString(16)+n}while(n.length%r!==0){n="0"+n}if(this.negative!==0){n="-"+n}return n}if(e===(e|0)&&e>=2&&e<=36){var o=a[e];var u=s[e];n="";var h=this.clone();h.negative=0;while(!h.isZero()){var p=h.modn(u).toString(e);h=h.idivn(u);if(!h.isZero()){n=i[o-p.length]+p+n}else{n=p+n}}if(this.isZero()){n="0"+n}while(n.length%r!==0){n="0"+n}if(this.negative!==0){n="-"+n}return n}assert(false,"Base should be between 2 and 36")};BN.prototype.toNumber=function toNumber(){var e=this.words[0];if(this.length===2){e+=this.words[1]*67108864}else if(this.length===3&&this.words[2]===1){e+=4503599627370496+this.words[1]*67108864}else if(this.length>2){assert(false,"Number can only safely store up to 53 bits")}return this.negative!==0?-e:e};BN.prototype.toJSON=function toJSON(){return this.toString(16)};BN.prototype.toBuffer=function toBuffer(e,r){assert(typeof t!=="undefined");return this.toArrayLike(t,e,r)};BN.prototype.toArray=function toArray(e,r){return this.toArrayLike(Array,e,r)};BN.prototype.toArrayLike=function toArrayLike(e,r,n){var t=this.byteLength();var i=n||Math.max(1,t);assert(t<=i,"byte array longer than desired length");assert(i>0,"Requested array length <= 0");this.strip();var a=r==="le";var s=new e(i);var f,c;var l=this.clone();if(!a){for(c=0;c<i-t;c++){s[c]=0}for(c=0;!l.isZero();c++){f=l.andln(255);l.iushrn(8);s[i-c-1]=f}}else{for(c=0;!l.isZero();c++){f=l.andln(255);l.iushrn(8);s[c]=f}for(;c<i;c++){s[c]=0}}return s};if(Math.clz32){BN.prototype._countBits=function _countBits(e){return 32-Math.clz32(e)}}else{BN.prototype._countBits=function _countBits(e){var r=e;var n=0;if(r>=4096){n+=13;r>>>=13}if(r>=64){n+=7;r>>>=7}if(r>=8){n+=4;r>>>=4}if(r>=2){n+=2;r>>>=2}return n+r}}BN.prototype._zeroBits=function _zeroBits(e){if(e===0)return 26;var r=e;var n=0;if((r&8191)===0){n+=13;r>>>=13}if((r&127)===0){n+=7;r>>>=7}if((r&15)===0){n+=4;r>>>=4}if((r&3)===0){n+=2;r>>>=2}if((r&1)===0){n++}return n};BN.prototype.bitLength=function bitLength(){var e=this.words[this.length-1];var r=this._countBits(e);return(this.length-1)*26+r};function toBitArray(e){var r=new Array(e.bitLength());for(var n=0;n<r.length;n++){var t=n/26|0;var i=n%26;r[n]=(e.words[t]&1<<i)>>>i}return r}BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;var e=0;for(var r=0;r<this.length;r++){var n=this._zeroBits(this.words[r]);e+=n;if(n!==26)break}return e};BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)};BN.prototype.toTwos=function toTwos(e){if(this.negative!==0){return this.abs().inotn(e).iaddn(1)}return this.clone()};BN.prototype.fromTwos=function fromTwos(e){if(this.testn(e-1)){return this.notn(e).iaddn(1).ineg()}return this.clone()};BN.prototype.isNeg=function isNeg(){return this.negative!==0};BN.prototype.neg=function neg(){return this.clone().ineg()};BN.prototype.ineg=function ineg(){if(!this.isZero()){this.negative^=1}return this};BN.prototype.iuor=function iuor(e){while(this.length<e.length){this.words[this.length++]=0}for(var r=0;r<e.length;r++){this.words[r]=this.words[r]|e.words[r]}return this.strip()};BN.prototype.ior=function ior(e){assert((this.negative|e.negative)===0);return this.iuor(e)};BN.prototype.or=function or(e){if(this.length>e.length)return this.clone().ior(e);return e.clone().ior(this)};BN.prototype.uor=function uor(e){if(this.length>e.length)return this.clone().iuor(e);return e.clone().iuor(this)};BN.prototype.iuand=function iuand(e){var r;if(this.length>e.length){r=e}else{r=this}for(var n=0;n<r.length;n++){this.words[n]=this.words[n]&e.words[n]}this.length=r.length;return this.strip()};BN.prototype.iand=function iand(e){assert((this.negative|e.negative)===0);return this.iuand(e)};BN.prototype.and=function and(e){if(this.length>e.length)return this.clone().iand(e);return e.clone().iand(this)};BN.prototype.uand=function uand(e){if(this.length>e.length)return this.clone().iuand(e);return e.clone().iuand(this)};BN.prototype.iuxor=function iuxor(e){var r;var n;if(this.length>e.length){r=this;n=e}else{r=e;n=this}for(var t=0;t<n.length;t++){this.words[t]=r.words[t]^n.words[t]}if(this!==r){for(;t<r.length;t++){this.words[t]=r.words[t]}}this.length=r.length;return this.strip()};BN.prototype.ixor=function ixor(e){assert((this.negative|e.negative)===0);return this.iuxor(e)};BN.prototype.xor=function xor(e){if(this.length>e.length)return this.clone().ixor(e);return e.clone().ixor(this)};BN.prototype.uxor=function uxor(e){if(this.length>e.length)return this.clone().iuxor(e);return e.clone().iuxor(this)};BN.prototype.inotn=function inotn(e){assert(typeof e==="number"&&e>=0);var r=Math.ceil(e/26)|0;var n=e%26;this._expand(r);if(n>0){r--}for(var t=0;t<r;t++){this.words[t]=~this.words[t]&67108863}if(n>0){this.words[t]=~this.words[t]&67108863>>26-n}return this.strip()};BN.prototype.notn=function notn(e){return this.clone().inotn(e)};BN.prototype.setn=function setn(e,r){assert(typeof e==="number"&&e>=0);var n=e/26|0;var t=e%26;this._expand(n+1);if(r){this.words[n]=this.words[n]|1<<t}else{this.words[n]=this.words[n]&~(1<<t)}return this.strip()};BN.prototype.iadd=function iadd(e){var r;if(this.negative!==0&&e.negative===0){this.negative=0;r=this.isub(e);this.negative^=1;return this._normSign()}else if(this.negative===0&&e.negative!==0){e.negative=0;r=this.isub(e);e.negative=1;return r._normSign()}var n,t;if(this.length>e.length){n=this;t=e}else{n=e;t=this}var i=0;for(var a=0;a<t.length;a++){r=(n.words[a]|0)+(t.words[a]|0)+i;this.words[a]=r&67108863;i=r>>>26}for(;i!==0&&a<n.length;a++){r=(n.words[a]|0)+i;this.words[a]=r&67108863;i=r>>>26}this.length=n.length;if(i!==0){this.words[this.length]=i;this.length++}else if(n!==this){for(;a<n.length;a++){this.words[a]=n.words[a]}}return this};BN.prototype.add=function add(e){var r;if(e.negative!==0&&this.negative===0){e.negative=0;r=this.sub(e);e.negative^=1;return r}else if(e.negative===0&&this.negative!==0){this.negative=0;r=e.sub(this);this.negative=1;return r}if(this.length>e.length)return this.clone().iadd(e);return e.clone().iadd(this)};BN.prototype.isub=function isub(e){if(e.negative!==0){e.negative=0;var r=this.iadd(e);e.negative=1;return r._normSign()}else if(this.negative!==0){this.negative=0;this.iadd(e);this.negative=1;return this._normSign()}var n=this.cmp(e);if(n===0){this.negative=0;this.length=1;this.words[0]=0;return this}var t,i;if(n>0){t=this;i=e}else{t=e;i=this}var a=0;for(var s=0;s<i.length;s++){r=(t.words[s]|0)-(i.words[s]|0)+a;a=r>>26;this.words[s]=r&67108863}for(;a!==0&&s<t.length;s++){r=(t.words[s]|0)+a;a=r>>26;this.words[s]=r&67108863}if(a===0&&s<t.length&&t!==this){for(;s<t.length;s++){this.words[s]=t.words[s]}}this.length=Math.max(this.length,s);if(t!==this){this.negative=1}return this.strip()};BN.prototype.sub=function sub(e){return this.clone().isub(e)};function smallMulTo(e,r,n){n.negative=r.negative^e.negative;var t=e.length+r.length|0;n.length=t;t=t-1|0;var i=e.words[0]|0;var a=r.words[0]|0;var s=i*a;var f=s&67108863;var c=s/67108864|0;n.words[0]=f;for(var l=1;l<t;l++){var d=c>>>26;var o=c&67108863;var u=Math.min(l,r.length-1);for(var h=Math.max(0,l-e.length+1);h<=u;h++){var p=l-h|0;i=e.words[p]|0;a=r.words[h]|0;s=i*a+o;d+=s/67108864|0;o=s&67108863}n.words[l]=o|0;c=d|0}if(c!==0){n.words[l]=c|0}else{n.length--}return n.strip()}var f=function comb10MulTo(e,r,n){var t=e.words;var i=r.words;var a=n.words;var s=0;var f;var c;var l;var d=t[0]|0;var o=d&8191;var u=d>>>13;var h=t[1]|0;var p=h&8191;var v=h>>>13;var b=t[2]|0;var y=b&8191;var g=b>>>13;var w=t[3]|0;var m=w&8191;var A=w>>>13;var E=t[4]|0;var S=E&8191;var k=E>>>13;var R=t[5]|0;var M=R&8191;var C=R>>>13;var D=t[6]|0;var _=D&8191;var j=D>>>13;var B=t[7]|0;var q=B&8191;var U=B>>>13;var x=t[8]|0;var I=x&8191;var K=x>>>13;var O=t[9]|0;var F=O&8191;var P=O>>>13;var T=i[0]|0;var N=T&8191;var z=T>>>13;var L=i[1]|0;var W=L&8191;var H=L>>>13;var G=i[2]|0;var J=G&8191;var Y=G>>>13;var Q=i[3]|0;var Z=Q&8191;var X=Q>>>13;var V=i[4]|0;var $=V&8191;var ee=V>>>13;var re=i[5]|0;var ne=re&8191;var te=re>>>13;var ie=i[6]|0;var ae=ie&8191;var se=ie>>>13;var fe=i[7]|0;var ce=fe&8191;var le=fe>>>13;var de=i[8]|0;var oe=de&8191;var ue=de>>>13;var he=i[9]|0;var pe=he&8191;var ve=he>>>13;n.negative=e.negative^r.negative;n.length=19;f=Math.imul(o,N);c=Math.imul(o,z);c=c+Math.imul(u,N)|0;l=Math.imul(u,z);var be=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(be>>>26)|0;be&=67108863;f=Math.imul(p,N);c=Math.imul(p,z);c=c+Math.imul(v,N)|0;l=Math.imul(v,z);f=f+Math.imul(o,W)|0;c=c+Math.imul(o,H)|0;c=c+Math.imul(u,W)|0;l=l+Math.imul(u,H)|0;var ye=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(ye>>>26)|0;ye&=67108863;f=Math.imul(y,N);c=Math.imul(y,z);c=c+Math.imul(g,N)|0;l=Math.imul(g,z);f=f+Math.imul(p,W)|0;c=c+Math.imul(p,H)|0;c=c+Math.imul(v,W)|0;l=l+Math.imul(v,H)|0;f=f+Math.imul(o,J)|0;c=c+Math.imul(o,Y)|0;c=c+Math.imul(u,J)|0;l=l+Math.imul(u,Y)|0;var ge=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(ge>>>26)|0;ge&=67108863;f=Math.imul(m,N);c=Math.imul(m,z);c=c+Math.imul(A,N)|0;l=Math.imul(A,z);f=f+Math.imul(y,W)|0;c=c+Math.imul(y,H)|0;c=c+Math.imul(g,W)|0;l=l+Math.imul(g,H)|0;f=f+Math.imul(p,J)|0;c=c+Math.imul(p,Y)|0;c=c+Math.imul(v,J)|0;l=l+Math.imul(v,Y)|0;f=f+Math.imul(o,Z)|0;c=c+Math.imul(o,X)|0;c=c+Math.imul(u,Z)|0;l=l+Math.imul(u,X)|0;var we=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(we>>>26)|0;we&=67108863;f=Math.imul(S,N);c=Math.imul(S,z);c=c+Math.imul(k,N)|0;l=Math.imul(k,z);f=f+Math.imul(m,W)|0;c=c+Math.imul(m,H)|0;c=c+Math.imul(A,W)|0;l=l+Math.imul(A,H)|0;f=f+Math.imul(y,J)|0;c=c+Math.imul(y,Y)|0;c=c+Math.imul(g,J)|0;l=l+Math.imul(g,Y)|0;f=f+Math.imul(p,Z)|0;c=c+Math.imul(p,X)|0;c=c+Math.imul(v,Z)|0;l=l+Math.imul(v,X)|0;f=f+Math.imul(o,$)|0;c=c+Math.imul(o,ee)|0;c=c+Math.imul(u,$)|0;l=l+Math.imul(u,ee)|0;var me=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(me>>>26)|0;me&=67108863;f=Math.imul(M,N);c=Math.imul(M,z);c=c+Math.imul(C,N)|0;l=Math.imul(C,z);f=f+Math.imul(S,W)|0;c=c+Math.imul(S,H)|0;c=c+Math.imul(k,W)|0;l=l+Math.imul(k,H)|0;f=f+Math.imul(m,J)|0;c=c+Math.imul(m,Y)|0;c=c+Math.imul(A,J)|0;l=l+Math.imul(A,Y)|0;f=f+Math.imul(y,Z)|0;c=c+Math.imul(y,X)|0;c=c+Math.imul(g,Z)|0;l=l+Math.imul(g,X)|0;f=f+Math.imul(p,$)|0;c=c+Math.imul(p,ee)|0;c=c+Math.imul(v,$)|0;l=l+Math.imul(v,ee)|0;f=f+Math.imul(o,ne)|0;c=c+Math.imul(o,te)|0;c=c+Math.imul(u,ne)|0;l=l+Math.imul(u,te)|0;var Ae=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(Ae>>>26)|0;Ae&=67108863;f=Math.imul(_,N);c=Math.imul(_,z);c=c+Math.imul(j,N)|0;l=Math.imul(j,z);f=f+Math.imul(M,W)|0;c=c+Math.imul(M,H)|0;c=c+Math.imul(C,W)|0;l=l+Math.imul(C,H)|0;f=f+Math.imul(S,J)|0;c=c+Math.imul(S,Y)|0;c=c+Math.imul(k,J)|0;l=l+Math.imul(k,Y)|0;f=f+Math.imul(m,Z)|0;c=c+Math.imul(m,X)|0;c=c+Math.imul(A,Z)|0;l=l+Math.imul(A,X)|0;f=f+Math.imul(y,$)|0;c=c+Math.imul(y,ee)|0;c=c+Math.imul(g,$)|0;l=l+Math.imul(g,ee)|0;f=f+Math.imul(p,ne)|0;c=c+Math.imul(p,te)|0;c=c+Math.imul(v,ne)|0;l=l+Math.imul(v,te)|0;f=f+Math.imul(o,ae)|0;c=c+Math.imul(o,se)|0;c=c+Math.imul(u,ae)|0;l=l+Math.imul(u,se)|0;var Ee=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(Ee>>>26)|0;Ee&=67108863;f=Math.imul(q,N);c=Math.imul(q,z);c=c+Math.imul(U,N)|0;l=Math.imul(U,z);f=f+Math.imul(_,W)|0;c=c+Math.imul(_,H)|0;c=c+Math.imul(j,W)|0;l=l+Math.imul(j,H)|0;f=f+Math.imul(M,J)|0;c=c+Math.imul(M,Y)|0;c=c+Math.imul(C,J)|0;l=l+Math.imul(C,Y)|0;f=f+Math.imul(S,Z)|0;c=c+Math.imul(S,X)|0;c=c+Math.imul(k,Z)|0;l=l+Math.imul(k,X)|0;f=f+Math.imul(m,$)|0;c=c+Math.imul(m,ee)|0;c=c+Math.imul(A,$)|0;l=l+Math.imul(A,ee)|0;f=f+Math.imul(y,ne)|0;c=c+Math.imul(y,te)|0;c=c+Math.imul(g,ne)|0;l=l+Math.imul(g,te)|0;f=f+Math.imul(p,ae)|0;c=c+Math.imul(p,se)|0;c=c+Math.imul(v,ae)|0;l=l+Math.imul(v,se)|0;f=f+Math.imul(o,ce)|0;c=c+Math.imul(o,le)|0;c=c+Math.imul(u,ce)|0;l=l+Math.imul(u,le)|0;var Se=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(Se>>>26)|0;Se&=67108863;f=Math.imul(I,N);c=Math.imul(I,z);c=c+Math.imul(K,N)|0;l=Math.imul(K,z);f=f+Math.imul(q,W)|0;c=c+Math.imul(q,H)|0;c=c+Math.imul(U,W)|0;l=l+Math.imul(U,H)|0;f=f+Math.imul(_,J)|0;c=c+Math.imul(_,Y)|0;c=c+Math.imul(j,J)|0;l=l+Math.imul(j,Y)|0;f=f+Math.imul(M,Z)|0;c=c+Math.imul(M,X)|0;c=c+Math.imul(C,Z)|0;l=l+Math.imul(C,X)|0;f=f+Math.imul(S,$)|0;c=c+Math.imul(S,ee)|0;c=c+Math.imul(k,$)|0;l=l+Math.imul(k,ee)|0;f=f+Math.imul(m,ne)|0;c=c+Math.imul(m,te)|0;c=c+Math.imul(A,ne)|0;l=l+Math.imul(A,te)|0;f=f+Math.imul(y,ae)|0;c=c+Math.imul(y,se)|0;c=c+Math.imul(g,ae)|0;l=l+Math.imul(g,se)|0;f=f+Math.imul(p,ce)|0;c=c+Math.imul(p,le)|0;c=c+Math.imul(v,ce)|0;l=l+Math.imul(v,le)|0;f=f+Math.imul(o,oe)|0;c=c+Math.imul(o,ue)|0;c=c+Math.imul(u,oe)|0;l=l+Math.imul(u,ue)|0;var ke=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(ke>>>26)|0;ke&=67108863;f=Math.imul(F,N);c=Math.imul(F,z);c=c+Math.imul(P,N)|0;l=Math.imul(P,z);f=f+Math.imul(I,W)|0;c=c+Math.imul(I,H)|0;c=c+Math.imul(K,W)|0;l=l+Math.imul(K,H)|0;f=f+Math.imul(q,J)|0;c=c+Math.imul(q,Y)|0;c=c+Math.imul(U,J)|0;l=l+Math.imul(U,Y)|0;f=f+Math.imul(_,Z)|0;c=c+Math.imul(_,X)|0;c=c+Math.imul(j,Z)|0;l=l+Math.imul(j,X)|0;f=f+Math.imul(M,$)|0;c=c+Math.imul(M,ee)|0;c=c+Math.imul(C,$)|0;l=l+Math.imul(C,ee)|0;f=f+Math.imul(S,ne)|0;c=c+Math.imul(S,te)|0;c=c+Math.imul(k,ne)|0;l=l+Math.imul(k,te)|0;f=f+Math.imul(m,ae)|0;c=c+Math.imul(m,se)|0;c=c+Math.imul(A,ae)|0;l=l+Math.imul(A,se)|0;f=f+Math.imul(y,ce)|0;c=c+Math.imul(y,le)|0;c=c+Math.imul(g,ce)|0;l=l+Math.imul(g,le)|0;f=f+Math.imul(p,oe)|0;c=c+Math.imul(p,ue)|0;c=c+Math.imul(v,oe)|0;l=l+Math.imul(v,ue)|0;f=f+Math.imul(o,pe)|0;c=c+Math.imul(o,ve)|0;c=c+Math.imul(u,pe)|0;l=l+Math.imul(u,ve)|0;var Re=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(Re>>>26)|0;Re&=67108863;f=Math.imul(F,W);c=Math.imul(F,H);c=c+Math.imul(P,W)|0;l=Math.imul(P,H);f=f+Math.imul(I,J)|0;c=c+Math.imul(I,Y)|0;c=c+Math.imul(K,J)|0;l=l+Math.imul(K,Y)|0;f=f+Math.imul(q,Z)|0;c=c+Math.imul(q,X)|0;c=c+Math.imul(U,Z)|0;l=l+Math.imul(U,X)|0;f=f+Math.imul(_,$)|0;c=c+Math.imul(_,ee)|0;c=c+Math.imul(j,$)|0;l=l+Math.imul(j,ee)|0;f=f+Math.imul(M,ne)|0;c=c+Math.imul(M,te)|0;c=c+Math.imul(C,ne)|0;l=l+Math.imul(C,te)|0;f=f+Math.imul(S,ae)|0;c=c+Math.imul(S,se)|0;c=c+Math.imul(k,ae)|0;l=l+Math.imul(k,se)|0;f=f+Math.imul(m,ce)|0;c=c+Math.imul(m,le)|0;c=c+Math.imul(A,ce)|0;l=l+Math.imul(A,le)|0;f=f+Math.imul(y,oe)|0;c=c+Math.imul(y,ue)|0;c=c+Math.imul(g,oe)|0;l=l+Math.imul(g,ue)|0;f=f+Math.imul(p,pe)|0;c=c+Math.imul(p,ve)|0;c=c+Math.imul(v,pe)|0;l=l+Math.imul(v,ve)|0;var Me=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(Me>>>26)|0;Me&=67108863;f=Math.imul(F,J);c=Math.imul(F,Y);c=c+Math.imul(P,J)|0;l=Math.imul(P,Y);f=f+Math.imul(I,Z)|0;c=c+Math.imul(I,X)|0;c=c+Math.imul(K,Z)|0;l=l+Math.imul(K,X)|0;f=f+Math.imul(q,$)|0;c=c+Math.imul(q,ee)|0;c=c+Math.imul(U,$)|0;l=l+Math.imul(U,ee)|0;f=f+Math.imul(_,ne)|0;c=c+Math.imul(_,te)|0;c=c+Math.imul(j,ne)|0;l=l+Math.imul(j,te)|0;f=f+Math.imul(M,ae)|0;c=c+Math.imul(M,se)|0;c=c+Math.imul(C,ae)|0;l=l+Math.imul(C,se)|0;f=f+Math.imul(S,ce)|0;c=c+Math.imul(S,le)|0;c=c+Math.imul(k,ce)|0;l=l+Math.imul(k,le)|0;f=f+Math.imul(m,oe)|0;c=c+Math.imul(m,ue)|0;c=c+Math.imul(A,oe)|0;l=l+Math.imul(A,ue)|0;f=f+Math.imul(y,pe)|0;c=c+Math.imul(y,ve)|0;c=c+Math.imul(g,pe)|0;l=l+Math.imul(g,ve)|0;var Ce=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(Ce>>>26)|0;Ce&=67108863;f=Math.imul(F,Z);c=Math.imul(F,X);c=c+Math.imul(P,Z)|0;l=Math.imul(P,X);f=f+Math.imul(I,$)|0;c=c+Math.imul(I,ee)|0;c=c+Math.imul(K,$)|0;l=l+Math.imul(K,ee)|0;f=f+Math.imul(q,ne)|0;c=c+Math.imul(q,te)|0;c=c+Math.imul(U,ne)|0;l=l+Math.imul(U,te)|0;f=f+Math.imul(_,ae)|0;c=c+Math.imul(_,se)|0;c=c+Math.imul(j,ae)|0;l=l+Math.imul(j,se)|0;f=f+Math.imul(M,ce)|0;c=c+Math.imul(M,le)|0;c=c+Math.imul(C,ce)|0;l=l+Math.imul(C,le)|0;f=f+Math.imul(S,oe)|0;c=c+Math.imul(S,ue)|0;c=c+Math.imul(k,oe)|0;l=l+Math.imul(k,ue)|0;f=f+Math.imul(m,pe)|0;c=c+Math.imul(m,ve)|0;c=c+Math.imul(A,pe)|0;l=l+Math.imul(A,ve)|0;var De=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(De>>>26)|0;De&=67108863;f=Math.imul(F,$);c=Math.imul(F,ee);c=c+Math.imul(P,$)|0;l=Math.imul(P,ee);f=f+Math.imul(I,ne)|0;c=c+Math.imul(I,te)|0;c=c+Math.imul(K,ne)|0;l=l+Math.imul(K,te)|0;f=f+Math.imul(q,ae)|0;c=c+Math.imul(q,se)|0;c=c+Math.imul(U,ae)|0;l=l+Math.imul(U,se)|0;f=f+Math.imul(_,ce)|0;c=c+Math.imul(_,le)|0;c=c+Math.imul(j,ce)|0;l=l+Math.imul(j,le)|0;f=f+Math.imul(M,oe)|0;c=c+Math.imul(M,ue)|0;c=c+Math.imul(C,oe)|0;l=l+Math.imul(C,ue)|0;f=f+Math.imul(S,pe)|0;c=c+Math.imul(S,ve)|0;c=c+Math.imul(k,pe)|0;l=l+Math.imul(k,ve)|0;var _e=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(_e>>>26)|0;_e&=67108863;f=Math.imul(F,ne);c=Math.imul(F,te);c=c+Math.imul(P,ne)|0;l=Math.imul(P,te);f=f+Math.imul(I,ae)|0;c=c+Math.imul(I,se)|0;c=c+Math.imul(K,ae)|0;l=l+Math.imul(K,se)|0;f=f+Math.imul(q,ce)|0;c=c+Math.imul(q,le)|0;c=c+Math.imul(U,ce)|0;l=l+Math.imul(U,le)|0;f=f+Math.imul(_,oe)|0;c=c+Math.imul(_,ue)|0;c=c+Math.imul(j,oe)|0;l=l+Math.imul(j,ue)|0;f=f+Math.imul(M,pe)|0;c=c+Math.imul(M,ve)|0;c=c+Math.imul(C,pe)|0;l=l+Math.imul(C,ve)|0;var je=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(je>>>26)|0;je&=67108863;f=Math.imul(F,ae);c=Math.imul(F,se);c=c+Math.imul(P,ae)|0;l=Math.imul(P,se);f=f+Math.imul(I,ce)|0;c=c+Math.imul(I,le)|0;c=c+Math.imul(K,ce)|0;l=l+Math.imul(K,le)|0;f=f+Math.imul(q,oe)|0;c=c+Math.imul(q,ue)|0;c=c+Math.imul(U,oe)|0;l=l+Math.imul(U,ue)|0;f=f+Math.imul(_,pe)|0;c=c+Math.imul(_,ve)|0;c=c+Math.imul(j,pe)|0;l=l+Math.imul(j,ve)|0;var Be=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(Be>>>26)|0;Be&=67108863;f=Math.imul(F,ce);c=Math.imul(F,le);c=c+Math.imul(P,ce)|0;l=Math.imul(P,le);f=f+Math.imul(I,oe)|0;c=c+Math.imul(I,ue)|0;c=c+Math.imul(K,oe)|0;l=l+Math.imul(K,ue)|0;f=f+Math.imul(q,pe)|0;c=c+Math.imul(q,ve)|0;c=c+Math.imul(U,pe)|0;l=l+Math.imul(U,ve)|0;var qe=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(qe>>>26)|0;qe&=67108863;f=Math.imul(F,oe);c=Math.imul(F,ue);c=c+Math.imul(P,oe)|0;l=Math.imul(P,ue);f=f+Math.imul(I,pe)|0;c=c+Math.imul(I,ve)|0;c=c+Math.imul(K,pe)|0;l=l+Math.imul(K,ve)|0;var Ue=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(Ue>>>26)|0;Ue&=67108863;f=Math.imul(F,pe);c=Math.imul(F,ve);c=c+Math.imul(P,pe)|0;l=Math.imul(P,ve);var xe=(s+f|0)+((c&8191)<<13)|0;s=(l+(c>>>13)|0)+(xe>>>26)|0;xe&=67108863;a[0]=be;a[1]=ye;a[2]=ge;a[3]=we;a[4]=me;a[5]=Ae;a[6]=Ee;a[7]=Se;a[8]=ke;a[9]=Re;a[10]=Me;a[11]=Ce;a[12]=De;a[13]=_e;a[14]=je;a[15]=Be;a[16]=qe;a[17]=Ue;a[18]=xe;if(s!==0){a[19]=s;n.length++}return n};if(!Math.imul){f=smallMulTo}function bigMulTo(e,r,n){n.negative=r.negative^e.negative;n.length=e.length+r.length;var t=0;var i=0;for(var a=0;a<n.length-1;a++){var s=i;i=0;var f=t&67108863;var c=Math.min(a,r.length-1);for(var l=Math.max(0,a-e.length+1);l<=c;l++){var d=a-l;var o=e.words[d]|0;var u=r.words[l]|0;var h=o*u;var p=h&67108863;s=s+(h/67108864|0)|0;p=p+f|0;f=p&67108863;s=s+(p>>>26)|0;i+=s>>>26;s&=67108863}n.words[a]=f;t=s;s=i}if(t!==0){n.words[a]=t}else{n.length--}return n.strip()}function jumboMulTo(e,r,n){var t=new FFTM;return t.mulp(e,r,n)}BN.prototype.mulTo=function mulTo(e,r){var n;var t=this.length+e.length;if(this.length===10&&e.length===10){n=f(this,e,r)}else if(t<63){n=smallMulTo(this,e,r)}else if(t<1024){n=bigMulTo(this,e,r)}else{n=jumboMulTo(this,e,r)}return n};function FFTM(e,r){this.x=e;this.y=r}FFTM.prototype.makeRBT=function makeRBT(e){var r=new Array(e);var n=BN.prototype._countBits(e)-1;for(var t=0;t<e;t++){r[t]=this.revBin(t,n,e)}return r};FFTM.prototype.revBin=function revBin(e,r,n){if(e===0||e===n-1)return e;var t=0;for(var i=0;i<r;i++){t|=(e&1)<<r-i-1;e>>=1}return t};FFTM.prototype.permute=function permute(e,r,n,t,i,a){for(var s=0;s<a;s++){t[s]=r[e[s]];i[s]=n[e[s]]}};FFTM.prototype.transform=function transform(e,r,n,t,i,a){this.permute(a,e,r,n,t,i);for(var s=1;s<i;s<<=1){var f=s<<1;var c=Math.cos(2*Math.PI/f);var l=Math.sin(2*Math.PI/f);for(var d=0;d<i;d+=f){var o=c;var u=l;for(var h=0;h<s;h++){var p=n[d+h];var v=t[d+h];var b=n[d+h+s];var y=t[d+h+s];var g=o*b-u*y;y=o*y+u*b;b=g;n[d+h]=p+b;t[d+h]=v+y;n[d+h+s]=p-b;t[d+h+s]=v-y;if(h!==f){g=c*o-l*u;u=c*u+l*o;o=g}}}}};FFTM.prototype.guessLen13b=function guessLen13b(e,r){var n=Math.max(r,e)|1;var t=n&1;var i=0;for(n=n/2|0;n;n=n>>>1){i++}return 1<<i+1+t};FFTM.prototype.conjugate=function conjugate(e,r,n){if(n<=1)return;for(var t=0;t<n/2;t++){var i=e[t];e[t]=e[n-t-1];e[n-t-1]=i;i=r[t];r[t]=-r[n-t-1];r[n-t-1]=-i}};FFTM.prototype.normalize13b=function normalize13b(e,r){var n=0;for(var t=0;t<r/2;t++){var i=Math.round(e[2*t+1]/r)*8192+Math.round(e[2*t]/r)+n;e[t]=i&67108863;if(i<67108864){n=0}else{n=i/67108864|0}}return e};FFTM.prototype.convert13b=function convert13b(e,r,n,t){var i=0;for(var a=0;a<r;a++){i=i+(e[a]|0);n[2*a]=i&8191;i=i>>>13;n[2*a+1]=i&8191;i=i>>>13}for(a=2*r;a<t;++a){n[a]=0}assert(i===0);assert((i&~8191)===0)};FFTM.prototype.stub=function stub(e){var r=new Array(e);for(var n=0;n<e;n++){r[n]=0}return r};FFTM.prototype.mulp=function mulp(e,r,n){var t=2*this.guessLen13b(e.length,r.length);var i=this.makeRBT(t);var a=this.stub(t);var s=new Array(t);var f=new Array(t);var c=new Array(t);var l=new Array(t);var d=new Array(t);var o=new Array(t);var u=n.words;u.length=t;this.convert13b(e.words,e.length,s,t);this.convert13b(r.words,r.length,l,t);this.transform(s,a,f,c,t,i);this.transform(l,a,d,o,t,i);for(var h=0;h<t;h++){var p=f[h]*d[h]-c[h]*o[h];c[h]=f[h]*o[h]+c[h]*d[h];f[h]=p}this.conjugate(f,c,t);this.transform(f,c,u,a,t,i);this.conjugate(u,a,t);this.normalize13b(u,t);n.negative=e.negative^r.negative;n.length=e.length+r.length;return n.strip()};BN.prototype.mul=function mul(e){var r=new BN(null);r.words=new Array(this.length+e.length);return this.mulTo(e,r)};BN.prototype.mulf=function mulf(e){var r=new BN(null);r.words=new Array(this.length+e.length);return jumboMulTo(this,e,r)};BN.prototype.imul=function imul(e){return this.clone().mulTo(e,this)};BN.prototype.imuln=function imuln(e){assert(typeof e==="number");assert(e<67108864);var r=0;for(var n=0;n<this.length;n++){var t=(this.words[n]|0)*e;var i=(t&67108863)+(r&67108863);r>>=26;r+=t/67108864|0;r+=i>>>26;this.words[n]=i&67108863}if(r!==0){this.words[n]=r;this.length++}return this};BN.prototype.muln=function muln(e){return this.clone().imuln(e)};BN.prototype.sqr=function sqr(){return this.mul(this)};BN.prototype.isqr=function isqr(){return this.imul(this.clone())};BN.prototype.pow=function pow(e){var r=toBitArray(e);if(r.length===0)return new BN(1);var n=this;for(var t=0;t<r.length;t++,n=n.sqr()){if(r[t]!==0)break}if(++t<r.length){for(var i=n.sqr();t<r.length;t++,i=i.sqr()){if(r[t]===0)continue;n=n.mul(i)}}return n};BN.prototype.iushln=function iushln(e){assert(typeof e==="number"&&e>=0);var r=e%26;var n=(e-r)/26;var t=67108863>>>26-r<<26-r;var i;if(r!==0){var a=0;for(i=0;i<this.length;i++){var s=this.words[i]&t;var f=(this.words[i]|0)-s<<r;this.words[i]=f|a;a=s>>>26-r}if(a){this.words[i]=a;this.length++}}if(n!==0){for(i=this.length-1;i>=0;i--){this.words[i+n]=this.words[i]}for(i=0;i<n;i++){this.words[i]=0}this.length+=n}return this.strip()};BN.prototype.ishln=function ishln(e){assert(this.negative===0);return this.iushln(e)};BN.prototype.iushrn=function iushrn(e,r,n){assert(typeof e==="number"&&e>=0);var t;if(r){t=(r-r%26)/26}else{t=0}var i=e%26;var a=Math.min((e-i)/26,this.length);var s=67108863^67108863>>>i<<i;var f=n;t-=a;t=Math.max(0,t);if(f){for(var c=0;c<a;c++){f.words[c]=this.words[c]}f.length=a}if(a===0){}else if(this.length>a){this.length-=a;for(c=0;c<this.length;c++){this.words[c]=this.words[c+a]}}else{this.words[0]=0;this.length=1}var l=0;for(c=this.length-1;c>=0&&(l!==0||c>=t);c--){var d=this.words[c]|0;this.words[c]=l<<26-i|d>>>i;l=d&s}if(f&&l!==0){f.words[f.length++]=l}if(this.length===0){this.words[0]=0;this.length=1}return this.strip()};BN.prototype.ishrn=function ishrn(e,r,n){assert(this.negative===0);return this.iushrn(e,r,n)};BN.prototype.shln=function shln(e){return this.clone().ishln(e)};BN.prototype.ushln=function ushln(e){return this.clone().iushln(e)};BN.prototype.shrn=function shrn(e){return this.clone().ishrn(e)};BN.prototype.ushrn=function ushrn(e){return this.clone().iushrn(e)};BN.prototype.testn=function testn(e){assert(typeof e==="number"&&e>=0);var r=e%26;var n=(e-r)/26;var t=1<<r;if(this.length<=n)return false;var i=this.words[n];return!!(i&t)};BN.prototype.imaskn=function imaskn(e){assert(typeof e==="number"&&e>=0);var r=e%26;var n=(e-r)/26;assert(this.negative===0,"imaskn works only with positive numbers");if(this.length<=n){return this}if(r!==0){n++}this.length=Math.min(n,this.length);if(r!==0){var t=67108863^67108863>>>r<<r;this.words[this.length-1]&=t}return this.strip()};BN.prototype.maskn=function maskn(e){return this.clone().imaskn(e)};BN.prototype.iaddn=function iaddn(e){assert(typeof e==="number");assert(e<67108864);if(e<0)return this.isubn(-e);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<e){this.words[0]=e-(this.words[0]|0);this.negative=0;return this}this.negative=0;this.isubn(e);this.negative=1;return this}return this._iaddn(e)};BN.prototype._iaddn=function _iaddn(e){this.words[0]+=e;for(var r=0;r<this.length&&this.words[r]>=67108864;r++){this.words[r]-=67108864;if(r===this.length-1){this.words[r+1]=1}else{this.words[r+1]++}}this.length=Math.max(this.length,r+1);return this};BN.prototype.isubn=function isubn(e){assert(typeof e==="number");assert(e<67108864);if(e<0)return this.iaddn(-e);if(this.negative!==0){this.negative=0;this.iaddn(e);this.negative=1;return this}this.words[0]-=e;if(this.length===1&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1}else{for(var r=0;r<this.length&&this.words[r]<0;r++){this.words[r]+=67108864;this.words[r+1]-=1}}return this.strip()};BN.prototype.addn=function addn(e){return this.clone().iaddn(e)};BN.prototype.subn=function subn(e){return this.clone().isubn(e)};BN.prototype.iabs=function iabs(){this.negative=0;return this};BN.prototype.abs=function abs(){return this.clone().iabs()};BN.prototype._ishlnsubmul=function _ishlnsubmul(e,r,n){var t=e.length+n;var i;this._expand(t);var a;var s=0;for(i=0;i<e.length;i++){a=(this.words[i+n]|0)+s;var f=(e.words[i]|0)*r;a-=f&67108863;s=(a>>26)-(f/67108864|0);this.words[i+n]=a&67108863}for(;i<this.length-n;i++){a=(this.words[i+n]|0)+s;s=a>>26;this.words[i+n]=a&67108863}if(s===0)return this.strip();assert(s===-1);s=0;for(i=0;i<this.length;i++){a=-(this.words[i]|0)+s;s=a>>26;this.words[i]=a&67108863}this.negative=1;return this.strip()};BN.prototype._wordDiv=function _wordDiv(e,r){var n=this.length-e.length;var t=this.clone();var i=e;var a=i.words[i.length-1]|0;var s=this._countBits(a);n=26-s;if(n!==0){i=i.ushln(n);t.iushln(n);a=i.words[i.length-1]|0}var f=t.length-i.length;var c;if(r!=="mod"){c=new BN(null);c.length=f+1;c.words=new Array(c.length);for(var l=0;l<c.length;l++){c.words[l]=0}}var d=t.clone()._ishlnsubmul(i,1,f);if(d.negative===0){t=d;if(c){c.words[f]=1}}for(var o=f-1;o>=0;o--){var u=(t.words[i.length+o]|0)*67108864+(t.words[i.length+o-1]|0);u=Math.min(u/a|0,67108863);t._ishlnsubmul(i,u,o);while(t.negative!==0){u--;t.negative=0;t._ishlnsubmul(i,1,o);if(!t.isZero()){t.negative^=1}}if(c){c.words[o]=u}}if(c){c.strip()}t.strip();if(r!=="div"&&n!==0){t.iushrn(n)}return{div:c||null,mod:t}};BN.prototype.divmod=function divmod(e,r,n){assert(!e.isZero());if(this.isZero()){return{div:new BN(0),mod:new BN(0)}}var t,i,a;if(this.negative!==0&&e.negative===0){a=this.neg().divmod(e,r);if(r!=="mod"){t=a.div.neg()}if(r!=="div"){i=a.mod.neg();if(n&&i.negative!==0){i.iadd(e)}}return{div:t,mod:i}}if(this.negative===0&&e.negative!==0){a=this.divmod(e.neg(),r);if(r!=="mod"){t=a.div.neg()}return{div:t,mod:a.mod}}if((this.negative&e.negative)!==0){a=this.neg().divmod(e.neg(),r);if(r!=="div"){i=a.mod.neg();if(n&&i.negative!==0){i.isub(e)}}return{div:a.div,mod:i}}if(e.length>this.length||this.cmp(e)<0){return{div:new BN(0),mod:this}}if(e.length===1){if(r==="div"){return{div:this.divn(e.words[0]),mod:null}}if(r==="mod"){return{div:null,mod:new BN(this.modn(e.words[0]))}}return{div:this.divn(e.words[0]),mod:new BN(this.modn(e.words[0]))}}return this._wordDiv(e,r)};BN.prototype.div=function div(e){return this.divmod(e,"div",false).div};BN.prototype.mod=function mod(e){return this.divmod(e,"mod",false).mod};BN.prototype.umod=function umod(e){return this.divmod(e,"mod",true).mod};BN.prototype.divRound=function divRound(e){var r=this.divmod(e);if(r.mod.isZero())return r.div;var n=r.div.negative!==0?r.mod.isub(e):r.mod;var t=e.ushrn(1);var i=e.andln(1);var a=n.cmp(t);if(a<0||i===1&&a===0)return r.div;return r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)};BN.prototype.modn=function modn(e){assert(e<=67108863);var r=(1<<26)%e;var n=0;for(var t=this.length-1;t>=0;t--){n=(r*n+(this.words[t]|0))%e}return n};BN.prototype.idivn=function idivn(e){assert(e<=67108863);var r=0;for(var n=this.length-1;n>=0;n--){var t=(this.words[n]|0)+r*67108864;this.words[n]=t/e|0;r=t%e}return this.strip()};BN.prototype.divn=function divn(e){return this.clone().idivn(e)};BN.prototype.egcd=function egcd(e){assert(e.negative===0);assert(!e.isZero());var r=this;var n=e.clone();if(r.negative!==0){r=r.umod(e)}else{r=r.clone()}var t=new BN(1);var i=new BN(0);var a=new BN(0);var s=new BN(1);var f=0;while(r.isEven()&&n.isEven()){r.iushrn(1);n.iushrn(1);++f}var c=n.clone();var l=r.clone();while(!r.isZero()){for(var d=0,o=1;(r.words[0]&o)===0&&d<26;++d,o<<=1);if(d>0){r.iushrn(d);while(d-- >0){if(t.isOdd()||i.isOdd()){t.iadd(c);i.isub(l)}t.iushrn(1);i.iushrn(1)}}for(var u=0,h=1;(n.words[0]&h)===0&&u<26;++u,h<<=1);if(u>0){n.iushrn(u);while(u-- >0){if(a.isOdd()||s.isOdd()){a.iadd(c);s.isub(l)}a.iushrn(1);s.iushrn(1)}}if(r.cmp(n)>=0){r.isub(n);t.isub(a);i.isub(s)}else{n.isub(r);a.isub(t);s.isub(i)}}return{a:a,b:s,gcd:n.iushln(f)}};BN.prototype._invmp=function _invmp(e){assert(e.negative===0);assert(!e.isZero());var r=this;var n=e.clone();if(r.negative!==0){r=r.umod(e)}else{r=r.clone()}var t=new BN(1);var i=new BN(0);var a=n.clone();while(r.cmpn(1)>0&&n.cmpn(1)>0){for(var s=0,f=1;(r.words[0]&f)===0&&s<26;++s,f<<=1);if(s>0){r.iushrn(s);while(s-- >0){if(t.isOdd()){t.iadd(a)}t.iushrn(1)}}for(var c=0,l=1;(n.words[0]&l)===0&&c<26;++c,l<<=1);if(c>0){n.iushrn(c);while(c-- >0){if(i.isOdd()){i.iadd(a)}i.iushrn(1)}}if(r.cmp(n)>=0){r.isub(n);t.isub(i)}else{n.isub(r);i.isub(t)}}var d;if(r.cmpn(1)===0){d=t}else{d=i}if(d.cmpn(0)<0){d.iadd(e)}return d};BN.prototype.gcd=function gcd(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var r=this.clone();var n=e.clone();r.negative=0;n.negative=0;for(var t=0;r.isEven()&&n.isEven();t++){r.iushrn(1);n.iushrn(1)}do{while(r.isEven()){r.iushrn(1)}while(n.isEven()){n.iushrn(1)}var i=r.cmp(n);if(i<0){var a=r;r=n;n=a}else if(i===0||n.cmpn(1)===0){break}r.isub(n)}while(true);return n.iushln(t)};BN.prototype.invm=function invm(e){return this.egcd(e).a.umod(e)};BN.prototype.isEven=function isEven(){return(this.words[0]&1)===0};BN.prototype.isOdd=function isOdd(){return(this.words[0]&1)===1};BN.prototype.andln=function andln(e){return this.words[0]&e};BN.prototype.bincn=function bincn(e){assert(typeof e==="number");var r=e%26;var n=(e-r)/26;var t=1<<r;if(this.length<=n){this._expand(n+1);this.words[n]|=t;return this}var i=t;for(var a=n;i!==0&&a<this.length;a++){var s=this.words[a]|0;s+=i;i=s>>>26;s&=67108863;this.words[a]=s}if(i!==0){this.words[a]=i;this.length++}return this};BN.prototype.isZero=function isZero(){return this.length===1&&this.words[0]===0};BN.prototype.cmpn=function cmpn(e){var r=e<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this.strip();var n;if(this.length>1){n=1}else{if(r){e=-e}assert(e<=67108863,"Number is too big");var t=this.words[0]|0;n=t===e?0:t<e?-1:1}if(this.negative!==0)return-n|0;return n};BN.prototype.cmp=function cmp(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var r=this.ucmp(e);if(this.negative!==0)return-r|0;return r};BN.prototype.ucmp=function ucmp(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;var r=0;for(var n=this.length-1;n>=0;n--){var t=this.words[n]|0;var i=e.words[n]|0;if(t===i)continue;if(t<i){r=-1}else if(t>i){r=1}break}return r};BN.prototype.gtn=function gtn(e){return this.cmpn(e)===1};BN.prototype.gt=function gt(e){return this.cmp(e)===1};BN.prototype.gten=function gten(e){return this.cmpn(e)>=0};BN.prototype.gte=function gte(e){return this.cmp(e)>=0};BN.prototype.ltn=function ltn(e){return this.cmpn(e)===-1};BN.prototype.lt=function lt(e){return this.cmp(e)===-1};BN.prototype.lten=function lten(e){return this.cmpn(e)<=0};BN.prototype.lte=function lte(e){return this.cmp(e)<=0};BN.prototype.eqn=function eqn(e){return this.cmpn(e)===0};BN.prototype.eq=function eq(e){return this.cmp(e)===0};BN.red=function red(e){return new Red(e)};BN.prototype.toRed=function toRed(e){assert(!this.red,"Already a number in reduction context");assert(this.negative===0,"red works only with positives");return e.convertTo(this)._forceRed(e)};BN.prototype.fromRed=function fromRed(){assert(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};BN.prototype._forceRed=function _forceRed(e){this.red=e;return this};BN.prototype.forceRed=function forceRed(e){assert(!this.red,"Already a number in reduction context");return this._forceRed(e)};BN.prototype.redAdd=function redAdd(e){assert(this.red,"redAdd works only with red numbers");return this.red.add(this,e)};BN.prototype.redIAdd=function redIAdd(e){assert(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,e)};BN.prototype.redSub=function redSub(e){assert(this.red,"redSub works only with red numbers");return this.red.sub(this,e)};BN.prototype.redISub=function redISub(e){assert(this.red,"redISub works only with red numbers");return this.red.isub(this,e)};BN.prototype.redShl=function redShl(e){assert(this.red,"redShl works only with red numbers");return this.red.shl(this,e)};BN.prototype.redMul=function redMul(e){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,e);return this.red.mul(this,e)};BN.prototype.redIMul=function redIMul(e){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,e);return this.red.imul(this,e)};BN.prototype.redSqr=function redSqr(){assert(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};BN.prototype.redISqr=function redISqr(){assert(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};BN.prototype.redSqrt=function redSqrt(){assert(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};BN.prototype.redInvm=function redInvm(){assert(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};BN.prototype.redNeg=function redNeg(){assert(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};BN.prototype.redPow=function redPow(e){assert(this.red&&!e.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,e)};var c={k256:null,p224:null,p192:null,p25519:null};function MPrime(e,r){this.name=e;this.p=new BN(r,16);this.n=this.p.bitLength();this.k=new BN(1).iushln(this.n).isub(this.p);this.tmp=this._tmp()}MPrime.prototype._tmp=function _tmp(){var e=new BN(null);e.words=new Array(Math.ceil(this.n/13));return e};MPrime.prototype.ireduce=function ireduce(e){var r=e;var n;do{this.split(r,this.tmp);r=this.imulK(r);r=r.iadd(this.tmp);n=r.bitLength()}while(n>this.n);var t=n<this.n?-1:r.ucmp(this.p);if(t===0){r.words[0]=0;r.length=1}else if(t>0){r.isub(this.p)}else{r.strip()}return r};MPrime.prototype.split=function split(e,r){e.iushrn(this.n,0,r)};MPrime.prototype.imulK=function imulK(e){return e.imul(this.k)};function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}inherits(K256,MPrime);K256.prototype.split=function split(e,r){var n=4194303;var t=Math.min(e.length,9);for(var i=0;i<t;i++){r.words[i]=e.words[i]}r.length=t;if(e.length<=9){e.words[0]=0;e.length=1;return}var a=e.words[9];r.words[r.length++]=a&n;for(i=10;i<e.length;i++){var s=e.words[i]|0;e.words[i-10]=(s&n)<<4|a>>>22;a=s}a>>>=22;e.words[i-10]=a;if(a===0&&e.length>10){e.length-=10}else{e.length-=9}};K256.prototype.imulK=function imulK(e){e.words[e.length]=0;e.words[e.length+1]=0;e.length+=2;var r=0;for(var n=0;n<e.length;n++){var t=e.words[n]|0;r+=t*977;e.words[n]=r&67108863;r=t*64+(r/67108864|0)}if(e.words[e.length-1]===0){e.length--;if(e.words[e.length-1]===0){e.length--}}return e};function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}inherits(P224,MPrime);function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}inherits(P192,MPrime);function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}inherits(P25519,MPrime);P25519.prototype.imulK=function imulK(e){var r=0;for(var n=0;n<e.length;n++){var t=(e.words[n]|0)*19+r;var i=t&67108863;t>>>=26;e.words[n]=i;r=t}if(r!==0){e.words[e.length++]=r}return e};BN._prime=function prime(e){if(c[e])return c[e];var prime;if(e==="k256"){prime=new K256}else if(e==="p224"){prime=new P224}else if(e==="p192"){prime=new P192}else if(e==="p25519"){prime=new P25519}else{throw new Error("Unknown prime "+e)}c[e]=prime;return prime};function Red(e){if(typeof e==="string"){var r=BN._prime(e);this.m=r.p;this.prime=r}else{assert(e.gtn(1),"modulus must be greater than 1");this.m=e;this.prime=null}}Red.prototype._verify1=function _verify1(e){assert(e.negative===0,"red works only with positives");assert(e.red,"red works only with red numbers")};Red.prototype._verify2=function _verify2(e,r){assert((e.negative|r.negative)===0,"red works only with positives");assert(e.red&&e.red===r.red,"red works only with red numbers")};Red.prototype.imod=function imod(e){if(this.prime)return this.prime.ireduce(e)._forceRed(this);return e.umod(this.m)._forceRed(this)};Red.prototype.neg=function neg(e){if(e.isZero()){return e.clone()}return this.m.sub(e)._forceRed(this)};Red.prototype.add=function add(e,r){this._verify2(e,r);var n=e.add(r);if(n.cmp(this.m)>=0){n.isub(this.m)}return n._forceRed(this)};Red.prototype.iadd=function iadd(e,r){this._verify2(e,r);var n=e.iadd(r);if(n.cmp(this.m)>=0){n.isub(this.m)}return n};Red.prototype.sub=function sub(e,r){this._verify2(e,r);var n=e.sub(r);if(n.cmpn(0)<0){n.iadd(this.m)}return n._forceRed(this)};Red.prototype.isub=function isub(e,r){this._verify2(e,r);var n=e.isub(r);if(n.cmpn(0)<0){n.iadd(this.m)}return n};Red.prototype.shl=function shl(e,r){this._verify1(e);return this.imod(e.ushln(r))};Red.prototype.imul=function imul(e,r){this._verify2(e,r);return this.imod(e.imul(r))};Red.prototype.mul=function mul(e,r){this._verify2(e,r);return this.imod(e.mul(r))};Red.prototype.isqr=function isqr(e){return this.imul(e,e.clone())};Red.prototype.sqr=function sqr(e){return this.mul(e,e)};Red.prototype.sqrt=function sqrt(e){if(e.isZero())return e.clone();var r=this.m.andln(3);assert(r%2===1);if(r===3){var n=this.m.add(new BN(1)).iushrn(2);return this.pow(e,n)}var t=this.m.subn(1);var i=0;while(!t.isZero()&&t.andln(1)===0){i++;t.iushrn(1)}assert(!t.isZero());var a=new BN(1).toRed(this);var s=a.redNeg();var f=this.m.subn(1).iushrn(1);var c=this.m.bitLength();c=new BN(2*c*c).toRed(this);while(this.pow(c,f).cmp(s)!==0){c.redIAdd(s)}var l=this.pow(c,t);var d=this.pow(e,t.addn(1).iushrn(1));var o=this.pow(e,t);var u=i;while(o.cmp(a)!==0){var h=o;for(var p=0;h.cmp(a)!==0;p++){h=h.redSqr()}assert(p<u);var v=this.pow(l,new BN(1).iushln(u-p-1));d=d.redMul(v);l=v.redSqr();o=o.redMul(l);u=p}return d};Red.prototype.invm=function invm(e){var r=e._invmp(this.m);if(r.negative!==0){r.negative=0;return this.imod(r).redNeg()}else{return this.imod(r)}};Red.prototype.pow=function pow(e,r){if(r.isZero())return new BN(1).toRed(this);if(r.cmpn(1)===0)return e.clone();var n=4;var t=new Array(1<<n);t[0]=new BN(1).toRed(this);t[1]=e;for(var i=2;i<t.length;i++){t[i]=this.mul(t[i-1],e)}var a=t[0];var s=0;var f=0;var c=r.bitLength()%26;if(c===0){c=26}for(i=r.length-1;i>=0;i--){var l=r.words[i];for(var d=c-1;d>=0;d--){var o=l>>d&1;if(a!==t[0]){a=this.sqr(a)}if(o===0&&s===0){f=0;continue}s<<=1;s|=o;f++;if(f!==n&&(i!==0||d!==0))continue;a=this.mul(a,t[s]);f=0;s=0}c=26}return a};Red.prototype.convertTo=function convertTo(e){var r=e.umod(this.m);return r===e?r.clone():r};Red.prototype.convertFrom=function convertFrom(e){var r=e.clone();r.red=null;return r};BN.mont=function mont(e){return new Mont(e)};function Mont(e){Red.call(this,e);this.shift=this.m.bitLength();if(this.shift%26!==0){this.shift+=26-this.shift%26}this.r=new BN(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}inherits(Mont,Red);Mont.prototype.convertTo=function convertTo(e){return this.imod(e.ushln(this.shift))};Mont.prototype.convertFrom=function convertFrom(e){var r=this.imod(e.mul(this.rinv));r.red=null;return r};Mont.prototype.imul=function imul(e,r){if(e.isZero()||r.isZero()){e.words[0]=0;e.length=1;return e}var n=e.imul(r);var t=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var i=n.isub(t).iushrn(this.shift);var a=i;if(i.cmp(this.m)>=0){a=i.isub(this.m)}else if(i.cmpn(0)<0){a=i.iadd(this.m)}return a._forceRed(this)};Mont.prototype.mul=function mul(e,r){if(e.isZero()||r.isZero())return new BN(0)._forceRed(this);var n=e.mul(r);var t=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var i=n.isub(t).iushrn(this.shift);var a=i;if(i.cmp(this.m)>=0){a=i.isub(this.m)}else if(i.cmpn(0)<0){a=i.iadd(this.m)}return a._forceRed(this)};Mont.prototype.invm=function invm(e){var r=this.imod(e._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(typeof r==="undefined"||r,this)},{buffer:"buffer"}],31:[function(e,r,n){var t;r.exports=function rand(e){if(!t)t=new Rand(null);return t.generate(e)};function Rand(e){this.rand=e}r.exports.Rand=Rand;Rand.prototype.generate=function generate(e){return this._rand(e)};Rand.prototype._rand=function _rand(e){if(this.rand.getBytes)return this.rand.getBytes(e);var r=new Uint8Array(e);for(var n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self==="object"){if(self.crypto&&self.crypto.getRandomValues){Rand.prototype._rand=function _rand(e){var r=new Uint8Array(e);self.crypto.getRandomValues(r);return r}}else if(self.msCrypto&&self.msCrypto.getRandomValues){Rand.prototype._rand=function _rand(e){var r=new Uint8Array(e);self.msCrypto.getRandomValues(r);return r}}else if(typeof window==="object"){Rand.prototype._rand=function(){throw new Error("Not implemented yet")}}}else{try{var i=e("crypto");if(typeof i.randomBytes!=="function")throw new Error("Not supported");Rand.prototype._rand=function _rand(e){return i.randomBytes(e)}}catch(e){}}},{crypto:"crypto"}],32:[function(e,r,n){"use strict";var t=n;t.utils=e("./elliptic/utils");t.rand=e("brorand");t.curve=e("./elliptic/curve");t.curves=e("./elliptic/curves");t.ec=e("./elliptic/ec");t.eddsa=e("./elliptic/eddsa")},{"./elliptic/curve":35,"./elliptic/curves":38,"./elliptic/ec":39,"./elliptic/eddsa":42,"./elliptic/utils":46,brorand:31}],33:[function(e,r,n){"use strict";var t=e("bn.js");var i=e("../utils");var a=i.getNAF;var s=i.getJSF;var f=i.assert;function BaseCurve(e,r){this.type=e;this.p=new t(r.p,16);this.red=r.prime?t.red(r.prime):t.mont(this.p);this.zero=new t(0).toRed(this.red);this.one=new t(1).toRed(this.red);this.two=new t(2).toRed(this.red);this.n=r.n&&new t(r.n,16);this.g=r.g&&this.pointFromJSON(r.g,r.gRed);this._wnafT1=new Array(4);this._wnafT2=new Array(4);this._wnafT3=new Array(4);this._wnafT4=new Array(4);var n=this.n&&this.p.div(this.n);if(!n||n.cmpn(100)>0){this.redN=null}else{this._maxwellTrick=true;this.redN=this.n.toRed(this.red)}}r.exports=BaseCurve;BaseCurve.prototype.point=function point(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function validate(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function _fixedNafMul(e,r){f(e.precomputed);var n=e._getDoubles();var t=a(r,1);var i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var s=[];for(var c=0;c<t.length;c+=n.step){var l=0;for(var r=c+n.step-1;r>=c;r--)l=(l<<1)+t[r];s.push(l)}var d=this.jpoint(null,null,null);var o=this.jpoint(null,null,null);for(var u=i;u>0;u--){for(var c=0;c<s.length;c++){var l=s[c];if(l===u)o=o.mixedAdd(n.points[c]);else if(l===-u)o=o.mixedAdd(n.points[c].neg())}d=d.add(o)}return d.toP()};BaseCurve.prototype._wnafMul=function _wnafMul(e,r){var n=4;var t=e._getNAFPoints(n);n=t.wnd;var i=t.points;var s=a(r,n);var c=this.jpoint(null,null,null);for(var l=s.length-1;l>=0;l--){for(var r=0;l>=0&&s[l]===0;l--)r++;if(l>=0)r++;c=c.dblp(r);if(l<0)break;var d=s[l];f(d!==0);if(e.type==="affine"){if(d>0)c=c.mixedAdd(i[d-1>>1]);else c=c.mixedAdd(i[-d-1>>1].neg())}else{if(d>0)c=c.add(i[d-1>>1]);else c=c.add(i[-d-1>>1].neg())}}return e.type==="affine"?c.toP():c};BaseCurve.prototype._wnafMulAdd=function _wnafMulAdd(e,r,n,t,i){var f=this._wnafT1;var c=this._wnafT2;var l=this._wnafT3;var d=0;for(var o=0;o<t;o++){var u=r[o];var h=u._getNAFPoints(e);f[o]=h.wnd;c[o]=h.points}for(var o=t-1;o>=1;o-=2){var p=o-1;var v=o;if(f[p]!==1||f[v]!==1){l[p]=a(n[p],f[p]);l[v]=a(n[v],f[v]);d=Math.max(l[p].length,d);d=Math.max(l[v].length,d);continue}var b=[r[p],null,null,r[v]];if(r[p].y.cmp(r[v].y)===0){b[1]=r[p].add(r[v]);b[2]=r[p].toJ().mixedAdd(r[v].neg())}else if(r[p].y.cmp(r[v].y.redNeg())===0){b[1]=r[p].toJ().mixedAdd(r[v]);b[2]=r[p].add(r[v].neg())}else{b[1]=r[p].toJ().mixedAdd(r[v]);b[2]=r[p].toJ().mixedAdd(r[v].neg())}var y=[-3,-1,-5,-7,0,7,5,1,3];var g=s(n[p],n[v]);d=Math.max(g[0].length,d);l[p]=new Array(d);l[v]=new Array(d);for(var w=0;w<d;w++){var m=g[0][w]|0;var A=g[1][w]|0;l[p][w]=y[(m+1)*3+(A+1)];l[v][w]=0;c[p]=b}}var E=this.jpoint(null,null,null);var S=this._wnafT4;for(var o=d;o>=0;o--){var k=0;while(o>=0){var R=true;for(var w=0;w<t;w++){S[w]=l[w][o]|0;if(S[w]!==0)R=false}if(!R)break;k++;o--}if(o>=0)k++;E=E.dblp(k);if(o<0)break;for(var w=0;w<t;w++){var M=S[w];var u;if(M===0)continue;else if(M>0)u=c[w][M-1>>1];else if(M<0)u=c[w][-M-1>>1].neg();if(u.type==="affine")E=E.mixedAdd(u);else E=E.add(u)}}for(var o=0;o<t;o++)c[o]=null;if(i)return E;else return E.toP()};function BasePoint(e,r){this.curve=e;this.type=r;this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function eq(){throw new Error("Not implemented")};BasePoint.prototype.validate=function validate(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function decodePoint(e,r){e=i.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){if(e[0]===6)f(e[e.length-1]%2===0);else if(e[0]===7)f(e[e.length-1]%2===1);var t=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return t}else if((e[0]===2||e[0]===3)&&e.length-1===n){return this.pointFromX(e.slice(1,1+n),e[0]===3)}throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function encodeCompressed(e){return this.encode(e,true)};BasePoint.prototype._encode=function _encode(e){var r=this.curve.p.byteLength();var n=this.getX().toArray("be",r);if(e)return[this.getY().isEven()?2:3].concat(n);return[4].concat(n,this.getY().toArray("be",r))};BasePoint.prototype.encode=function encode(e,r){return i.encode(this._encode(r),e)};BasePoint.prototype.precompute=function precompute(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};r.naf=this._getNAFPoints(8);r.doubles=this._getDoubles(4,e);r.beta=this._getBeta();this.precomputed=r;return this};BasePoint.prototype._hasDoubles=function _hasDoubles(e){if(!this.precomputed)return false;var r=this.precomputed.doubles;if(!r)return false;return r.points.length>=Math.ceil((e.bitLength()+1)/r.step)};BasePoint.prototype._getDoubles=function _getDoubles(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var n=[this];var t=this;for(var i=0;i<r;i+=e){for(var a=0;a<e;a++)t=t.dbl();n.push(t)}return{step:e,points:n}};BasePoint.prototype._getNAFPoints=function _getNAFPoints(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var r=[this];var n=(1<<e)-1;var t=n===1?null:this.dbl();for(var i=1;i<n;i++)r[i]=r[i-1].add(t);return{wnd:e,points:r}};BasePoint.prototype._getBeta=function _getBeta(){return null};BasePoint.prototype.dblp=function dblp(e){var r=this;for(var n=0;n<e;n++)r=r.dbl();return r}},{"../utils":46,"bn.js":30}],34:[function(e,r,n){"use strict";var t=e("../utils");var i=e("bn.js");var a=e("inherits");var s=e("./base");var f=t.assert;function EdwardsCurve(e){this.twisted=(e.a|0)!==1;this.mOneA=this.twisted&&(e.a|0)===-1;this.extended=this.mOneA;s.call(this,"edwards",e);this.a=new i(e.a,16).umod(this.red.m);this.a=this.a.toRed(this.red);this.c=new i(e.c,16).toRed(this.red);this.c2=this.c.redSqr();this.d=new i(e.d,16).toRed(this.red);this.dd=this.d.redAdd(this.d);f(!this.twisted||this.c.fromRed().cmpn(1)===0);this.oneC=(e.c|0)===1}a(EdwardsCurve,s);r.exports=EdwardsCurve;EdwardsCurve.prototype._mulA=function _mulA(e){if(this.mOneA)return e.redNeg();else return this.a.redMul(e)};EdwardsCurve.prototype._mulC=function _mulC(e){if(this.oneC)return e;else return this.c.redMul(e)};EdwardsCurve.prototype.jpoint=function jpoint(e,r,n,t){return this.point(e,r,n,t)};EdwardsCurve.prototype.pointFromX=function pointFromX(e,r){e=new i(e,16);if(!e.red)e=e.toRed(this.red);var n=e.redSqr();var t=this.c2.redSub(this.a.redMul(n));var a=this.one.redSub(this.c2.redMul(this.d).redMul(n));var s=t.redMul(a.redInvm());var f=s.redSqrt();if(f.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var c=f.fromRed().isOdd();if(r&&!c||!r&&c)f=f.redNeg();return this.point(e,f)};EdwardsCurve.prototype.pointFromY=function pointFromY(e,r){e=new i(e,16);if(!e.red)e=e.toRed(this.red);var n=e.redSqr();var t=n.redSub(this.c2);var a=n.redMul(this.d).redMul(this.c2).redSub(this.a);var s=t.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");else return this.point(this.zero,e)}var f=s.redSqrt();if(f.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");if(f.fromRed().isOdd()!==r)f=f.redNeg();return this.point(f,e)};EdwardsCurve.prototype.validate=function validate(e){if(e.isInfinity())return true;e.normalize();var r=e.x.redSqr();var n=e.y.redSqr();var t=r.redMul(this.a).redAdd(n);var i=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return t.cmp(i)===0};function Point(e,r,n,t,a){s.BasePoint.call(this,e,"projective");if(r===null&&n===null&&t===null){this.x=this.curve.zero;this.y=this.curve.one;this.z=this.curve.one;this.t=this.curve.zero;this.zOne=true}else{this.x=new i(r,16);this.y=new i(n,16);this.z=t?new i(t,16):this.curve.one;this.t=a&&new i(a,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);if(this.t&&!this.t.red)this.t=this.t.toRed(this.curve.red);this.zOne=this.z===this.curve.one;if(this.curve.extended&&!this.t){this.t=this.x.redMul(this.y);if(!this.zOne)this.t=this.t.redMul(this.z.redInvm())}}}a(Point,s.BasePoint);EdwardsCurve.prototype.pointFromJSON=function pointFromJSON(e){return Point.fromJSON(this,e)};EdwardsCurve.prototype.point=function point(e,r,n,t){return new Point(this,e,r,n,t)};Point.fromJSON=function fromJSON(e,r){return new Point(e,r[0],r[1],r[2])};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point.prototype._extDbl=function _extDbl(){var e=this.x.redSqr();var r=this.y.redSqr();var n=this.z.redSqr();n=n.redIAdd(n);var t=this.curve._mulA(e);var i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r);var a=t.redAdd(r);var s=a.redSub(n);var f=t.redSub(r);var c=i.redMul(s);var l=a.redMul(f);var d=i.redMul(f);var o=s.redMul(a);return this.curve.point(c,l,o,d)};Point.prototype._projDbl=function _projDbl(){var e=this.x.redAdd(this.y).redSqr();var r=this.x.redSqr();var n=this.y.redSqr();var t;var i;var a;if(this.curve.twisted){var s=this.curve._mulA(r);var f=s.redAdd(n);if(this.zOne){t=e.redSub(r).redSub(n).redMul(f.redSub(this.curve.two));i=f.redMul(s.redSub(n));a=f.redSqr().redSub(f).redSub(f)}else{var c=this.z.redSqr();var l=f.redSub(c).redISub(c);t=e.redSub(r).redISub(n).redMul(l);i=f.redMul(s.redSub(n));a=f.redMul(l)}}else{var s=r.redAdd(n);var c=this.curve._mulC(this.z).redSqr();var l=s.redSub(c).redSub(c);t=this.curve._mulC(e.redISub(s)).redMul(l);i=this.curve._mulC(s).redMul(r.redISub(n));a=s.redMul(l)}return this.curve.point(t,i,a)};Point.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.extended)return this._extDbl();else return this._projDbl()};Point.prototype._extAdd=function _extAdd(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x));var n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x));var t=this.t.redMul(this.curve.dd).redMul(e.t);var i=this.z.redMul(e.z.redAdd(e.z));var a=n.redSub(r);var s=i.redSub(t);var f=i.redAdd(t);var c=n.redAdd(r);var l=a.redMul(s);var d=f.redMul(c);var o=a.redMul(c);var u=s.redMul(f);return this.curve.point(l,d,u,o)};Point.prototype._projAdd=function _projAdd(e){var r=this.z.redMul(e.z);var n=r.redSqr();var t=this.x.redMul(e.x);var i=this.y.redMul(e.y);var a=this.curve.d.redMul(t).redMul(i);var s=n.redSub(a);var f=n.redAdd(a);var c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(t).redISub(i);var l=r.redMul(s).redMul(c);var d;var o;if(this.curve.twisted){d=r.redMul(f).redMul(i.redSub(this.curve._mulA(t)));o=s.redMul(f)}else{d=r.redMul(f).redMul(i.redSub(t));o=this.curve._mulC(s).redMul(f)}return this.curve.point(l,d,o)};Point.prototype.add=function add(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.curve.extended)return this._extAdd(e);else return this._projAdd(e)};Point.prototype.mul=function mul(e){if(this._hasDoubles(e))return this.curve._fixedNafMul(this,e);else return this.curve._wnafMul(this,e)};Point.prototype.mulAdd=function mulAdd(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,false)};Point.prototype.jmulAdd=function jmulAdd(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,true)};Point.prototype.normalize=function normalize(){if(this.zOne)return this;var e=this.z.redInvm();this.x=this.x.redMul(e);this.y=this.y.redMul(e);if(this.t)this.t=this.t.redMul(e);this.z=this.curve.one;this.zOne=true;return this};Point.prototype.neg=function neg(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function getX(){this.normalize();return this.x.fromRed()};Point.prototype.getY=function getY(){this.normalize();return this.y.fromRed()};Point.prototype.eq=function eq(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Point.prototype.eqXToP=function eqXToP(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return true;var n=e.clone();var t=this.curve.redN.redMul(this.z);for(;;){n.iadd(this.curve.n);if(n.cmp(this.curve.p)>=0)return false;r.redIAdd(t);if(this.x.cmp(r)===0)return true}};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add},{"../utils":46,"./base":33,"bn.js":30,inherits:61}],35:[function(e,r,n){"use strict";var t=n;t.base=e("./base");t.short=e("./short");t.mont=e("./mont");t.edwards=e("./edwards")},{"./base":33,"./edwards":34,"./mont":36,"./short":37}],36:[function(e,r,n){"use strict";var t=e("bn.js");var i=e("inherits");var a=e("./base");var s=e("../utils");function MontCurve(e){a.call(this,"mont",e);this.a=new t(e.a,16).toRed(this.red);this.b=new t(e.b,16).toRed(this.red);this.i4=new t(4).toRed(this.red).redInvm();this.two=new t(2).toRed(this.red);this.a24=this.i4.redMul(this.a.redAdd(this.two))}i(MontCurve,a);r.exports=MontCurve;MontCurve.prototype.validate=function validate(e){var r=e.normalize().x;var n=r.redSqr();var t=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r);var i=t.redSqrt();return i.redSqr().cmp(t)===0};function Point(e,r,n){a.BasePoint.call(this,e,"projective");if(r===null&&n===null){this.x=this.curve.one;this.z=this.curve.zero}else{this.x=new t(r,16);this.z=new t(n,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red)}}i(Point,a.BasePoint);MontCurve.prototype.decodePoint=function decodePoint(e,r){var e=s.toArray(e,r);if(e.length===33&&e[0]===64)e=e.slice(1,33).reverse();if(e.length!==32)throw new Error("Unknown point compression format");return this.point(e,1)};MontCurve.prototype.point=function point(e,r){return new Point(this,e,r)};MontCurve.prototype.pointFromJSON=function pointFromJSON(e){return Point.fromJSON(this,e)};Point.prototype.precompute=function precompute(){};Point.prototype._encode=function _encode(e){var r=this.curve.p.byteLength();if(e){return[64].concat(this.getX().toArray("le",r))}else{return this.getX().toArray("be",r)}};Point.fromJSON=function fromJSON(e,r){return new Point(e,r[0],r[1]||e.one)};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0};Point.prototype.dbl=function dbl(){var e=this.x.redAdd(this.z);var r=e.redSqr();var n=this.x.redSub(this.z);var t=n.redSqr();var i=r.redSub(t);var a=r.redMul(t);var s=i.redMul(t.redAdd(this.curve.a24.redMul(i)));return this.curve.point(a,s)};Point.prototype.add=function add(){throw new Error("Not supported on Montgomery curve")};Point.prototype.diffAdd=function diffAdd(e,r){var n=this.x.redAdd(this.z);var t=this.x.redSub(this.z);var i=e.x.redAdd(e.z);var a=e.x.redSub(e.z);var s=a.redMul(n);var f=i.redMul(t);var c=r.z.redMul(s.redAdd(f).redSqr());var l=r.x.redMul(s.redISub(f).redSqr());return this.curve.point(c,l)};Point.prototype.mul=function mul(e){e=new t(e,16);var r=e.clone();var n=this;var i=this.curve.point(null,null);var a=this;for(var s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var f=s.length-1;f>=0;f--){if(s[f]===0){n=n.diffAdd(i,a);i=i.dbl()}else{i=n.diffAdd(i,a);n=n.dbl()}}return i};Point.prototype.mulAdd=function mulAdd(){throw new Error("Not supported on Montgomery curve")};Point.prototype.jumlAdd=function jumlAdd(){throw new Error("Not supported on Montgomery curve")};Point.prototype.eq=function eq(e){return this.getX().cmp(e.getX())===0};Point.prototype.normalize=function normalize(){this.x=this.x.redMul(this.z.redInvm());this.z=this.curve.one;return this};Point.prototype.getX=function getX(){this.normalize();return this.x.fromRed()}},{"../utils":46,"./base":33,"bn.js":30,inherits:61}],37:[function(e,r,n){"use strict";var t=e("../utils");var i=e("bn.js");var a=e("inherits");var s=e("./base");var f=t.assert;function ShortCurve(e){s.call(this,"short",e);this.a=new i(e.a,16).toRed(this.red);this.b=new i(e.b,16).toRed(this.red);this.tinv=this.two.redInvm();this.zeroA=this.a.fromRed().cmpn(0)===0;this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0;this.endo=this._getEndomorphism(e);this._endoWnafT1=new Array(4);this._endoWnafT2=new Array(4)}a(ShortCurve,s);r.exports=ShortCurve;ShortCurve.prototype._getEndomorphism=function _getEndomorphism(e){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var r;var n;if(e.beta){r=new i(e.beta,16).toRed(this.red)}else{var t=this._getEndoRoots(this.p);r=t[0].cmp(t[1])<0?t[0]:t[1];r=r.toRed(this.red)}if(e.lambda){n=new i(e.lambda,16)}else{var a=this._getEndoRoots(this.n);if(this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0){n=a[0]}else{n=a[1];f(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0)}}var s;if(e.basis){s=e.basis.map(function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})}else{s=this._getEndoBasis(n)}return{beta:r,lambda:n,basis:s}};ShortCurve.prototype._getEndoRoots=function _getEndoRoots(e){var r=e===this.p?this.red:i.mont(e);var n=new i(2).toRed(r).redInvm();var t=n.redNeg();var a=new i(3).toRed(r).redNeg().redSqrt().redMul(n);var s=t.redAdd(a).fromRed();var f=t.redSub(a).fromRed();return[s,f]};ShortCurve.prototype._getEndoBasis=function _getEndoBasis(e){var r=this.n.ushrn(Math.floor(this.n.bitLength()/2));var n=e;var t=this.n.clone();var a=new i(1);var s=new i(0);var f=new i(0);var c=new i(1);var l;var d;var o;var u;var h;var p;var v;var b=0;var y;var g;while(n.cmpn(0)!==0){var w=t.div(n);y=t.sub(w.mul(n));g=f.sub(w.mul(a));var m=c.sub(w.mul(s));if(!o&&y.cmp(r)<0){l=v.neg();d=a;o=y.neg();u=g}else if(o&&++b===2){break}v=y;t=n;n=y;f=a;a=g;c=s;s=m}h=y.neg();p=g;var A=o.sqr().add(u.sqr());var E=h.sqr().add(p.sqr());if(E.cmp(A)>=0){h=l;p=d}if(o.negative){o=o.neg();u=u.neg()}if(h.negative){h=h.neg();p=p.neg()}return[{a:o,b:u},{a:h,b:p}]};ShortCurve.prototype._endoSplit=function _endoSplit(e){var r=this.endo.basis;var n=r[0];var t=r[1];var i=t.b.mul(e).divRound(this.n);var a=n.b.neg().mul(e).divRound(this.n);var s=i.mul(n.a);var f=a.mul(t.a);var c=i.mul(n.b);var l=a.mul(t.b);var d=e.sub(s).sub(f);var o=c.add(l).neg();return{k1:d,k2:o}};ShortCurve.prototype.pointFromX=function pointFromX(e,r){e=new i(e,16);if(!e.red)e=e.toRed(this.red);var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b);var t=n.redSqrt();if(t.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=t.fromRed().isOdd();if(r&&!a||!r&&a)t=t.redNeg();return this.point(e,t)};ShortCurve.prototype.validate=function validate(e){if(e.inf)return true;var r=e.x;var n=e.y;var t=this.a.redMul(r);var i=r.redSqr().redMul(r).redIAdd(t).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function _endoWnafMulAdd(e,r,n){var t=this._endoWnafT1;var i=this._endoWnafT2;for(var a=0;a<e.length;a++){var s=this._endoSplit(r[a]);var f=e[a];var c=f._getBeta();if(s.k1.negative){s.k1.ineg();f=f.neg(true)}if(s.k2.negative){s.k2.ineg();c=c.neg(true)}t[a*2]=f;t[a*2+1]=c;i[a*2]=s.k1;i[a*2+1]=s.k2}var l=this._wnafMulAdd(1,t,i,a*2,n);for(var d=0;d<a*2;d++){t[d]=null;i[d]=null}return l};function Point(e,r,n,t){s.BasePoint.call(this,e,"affine");if(r===null&&n===null){this.x=null;this.y=null;this.inf=true}else{this.x=new i(r,16);this.y=new i(n,16);if(t){this.x.forceRed(this.curve.red);this.y.forceRed(this.curve.red)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=false}}a(Point,s.BasePoint);ShortCurve.prototype.point=function point(e,r,n){return new Point(this,e,r,n)};ShortCurve.prototype.pointFromJSON=function pointFromJSON(e,r){return Point.fromJSON(this,e,r)};Point.prototype._getBeta=function _getBeta(){if(!this.curve.endo)return;var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve;var t=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=r;r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(t)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(t)}}}return r};Point.prototype.toJSON=function toJSON(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]};Point.fromJSON=function fromJSON(e,r,n){if(typeof r==="string")r=JSON.parse(r);var t=e.point(r[0],r[1],n);if(!r[2])return t;function obj2point(r){return e.point(r[0],r[1],n)}var i=r[2];t.precomputed={beta:null,doubles:i.doubles&&{step:i.doubles.step,points:[t].concat(i.doubles.points.map(obj2point))},naf:i.naf&&{wnd:i.naf.wnd,points:[t].concat(i.naf.points.map(obj2point))}};return t};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.inf};Point.prototype.add=function add(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);if(r.cmpn(0)!==0)r=r.redMul(this.x.redSub(e.x).redInvm());var n=r.redSqr().redISub(this.x).redISub(e.x);var t=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,t)};Point.prototype.dbl=function dbl(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a;var n=this.x.redSqr();var t=e.redInvm();var i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(t);var a=i.redSqr().redISub(this.x.redAdd(this.x));var s=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)};Point.prototype.getX=function getX(){return this.x.fromRed()};Point.prototype.getY=function getY(){return this.y.fromRed()};Point.prototype.mul=function mul(e){e=new i(e,16);if(this.isInfinity())return this;else if(this._hasDoubles(e))return this.curve._fixedNafMul(this,e);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[e]);else return this.curve._wnafMul(this,e)};Point.prototype.mulAdd=function mulAdd(e,r,n){var t=[this,r];var i=[e,n];if(this.curve.endo)return this.curve._endoWnafMulAdd(t,i);else return this.curve._wnafMulAdd(1,t,i,2)};Point.prototype.jmulAdd=function jmulAdd(e,r,n){var t=[this,r];var i=[e,n];if(this.curve.endo)return this.curve._endoWnafMulAdd(t,i,true);else return this.curve._wnafMulAdd(1,t,i,2,true)};Point.prototype.eq=function eq(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Point.prototype.neg=function neg(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed;var t=function(e){return e.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(t)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(t)}}}return r};Point.prototype.toJ=function toJ(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function JPoint(e,r,n,t){s.BasePoint.call(this,e,"jacobian");if(r===null&&n===null&&t===null){this.x=this.curve.one;this.y=this.curve.one;this.z=new i(0)}else{this.x=new i(r,16);this.y=new i(n,16);this.z=new i(t,16)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}a(JPoint,s.BasePoint);ShortCurve.prototype.jpoint=function jpoint(e,r,n){return new JPoint(this,e,r,n)};JPoint.prototype.toP=function toP(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm();var r=e.redSqr();var n=this.x.redMul(r);var t=this.y.redMul(r).redMul(e);return this.curve.point(n,t)};JPoint.prototype.neg=function neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function add(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr();var n=this.z.redSqr();var t=this.x.redMul(r);var i=e.x.redMul(n);var a=this.y.redMul(r.redMul(e.z));var s=e.y.redMul(n.redMul(this.z));var f=t.redSub(i);var c=a.redSub(s);if(f.cmpn(0)===0){if(c.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var l=f.redSqr();var d=l.redMul(f);var o=t.redMul(l);var u=c.redSqr().redIAdd(d).redISub(o).redISub(o);var h=c.redMul(o.redISub(u)).redISub(a.redMul(d));var p=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(u,h,p)};JPoint.prototype.mixedAdd=function mixedAdd(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr();var n=this.x;var t=e.x.redMul(r);var i=this.y;var a=e.y.redMul(r).redMul(this.z);var s=n.redSub(t);var f=i.redSub(a);if(s.cmpn(0)===0){if(f.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var c=s.redSqr();var l=c.redMul(s);var d=n.redMul(c);var o=f.redSqr().redIAdd(l).redISub(d).redISub(d);var u=f.redMul(d.redISub(o)).redISub(i.redMul(l));var h=this.z.redMul(s);return this.curve.jpoint(o,u,h)};JPoint.prototype.dblp=function dblp(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var r=this;for(var n=0;n<e;n++)r=r.dbl();return r}var t=this.curve.a;var i=this.curve.tinv;var a=this.x;var s=this.y;var f=this.z;var c=f.redSqr().redSqr();var l=s.redAdd(s);for(var n=0;n<e;n++){var d=a.redSqr();var o=l.redSqr();var u=o.redSqr();var h=d.redAdd(d).redIAdd(d).redIAdd(t.redMul(c));var p=a.redMul(o);var v=h.redSqr().redISub(p.redAdd(p));var b=p.redISub(v);var y=h.redMul(b);y=y.redIAdd(y).redISub(u);var g=l.redMul(f);if(n+1<e)c=c.redMul(u);a=v;f=g;l=y}return this.curve.jpoint(a,l.redMul(i),f)};JPoint.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()};JPoint.prototype._zeroDbl=function _zeroDbl(){var e;var r;var n;if(this.zOne){var t=this.x.redSqr();var i=this.y.redSqr();var a=i.redSqr();var s=this.x.redAdd(i).redSqr().redISub(t).redISub(a);s=s.redIAdd(s);var f=t.redAdd(t).redIAdd(t);var c=f.redSqr().redISub(s).redISub(s);var l=a.redIAdd(a);l=l.redIAdd(l);l=l.redIAdd(l);e=c;r=f.redMul(s.redISub(c)).redISub(l);n=this.y.redAdd(this.y)}else{var d=this.x.redSqr();var o=this.y.redSqr();var u=o.redSqr();var h=this.x.redAdd(o).redSqr().redISub(d).redISub(u);h=h.redIAdd(h);var p=d.redAdd(d).redIAdd(d);var v=p.redSqr();var b=u.redIAdd(u);b=b.redIAdd(b);b=b.redIAdd(b);e=v.redISub(h).redISub(h);r=p.redMul(h.redISub(e)).redISub(b);n=this.y.redMul(this.z);n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};JPoint.prototype._threeDbl=function _threeDbl(){var e;var r;var n;if(this.zOne){var t=this.x.redSqr();var i=this.y.redSqr();var a=i.redSqr();var s=this.x.redAdd(i).redSqr().redISub(t).redISub(a);s=s.redIAdd(s);var f=t.redAdd(t).redIAdd(t).redIAdd(this.curve.a);var c=f.redSqr().redISub(s).redISub(s);e=c;var l=a.redIAdd(a);l=l.redIAdd(l);l=l.redIAdd(l);r=f.redMul(s.redISub(c)).redISub(l);n=this.y.redAdd(this.y)}else{var d=this.z.redSqr();var o=this.y.redSqr();var u=this.x.redMul(o);var h=this.x.redSub(d).redMul(this.x.redAdd(d));h=h.redAdd(h).redIAdd(h);var p=u.redIAdd(u);p=p.redIAdd(p);var v=p.redAdd(p);e=h.redSqr().redISub(v);n=this.y.redAdd(this.z).redSqr().redISub(o).redISub(d);var b=o.redSqr();b=b.redIAdd(b);b=b.redIAdd(b);b=b.redIAdd(b);r=h.redMul(p.redISub(e)).redISub(b)}return this.curve.jpoint(e,r,n)};JPoint.prototype._dbl=function _dbl(){var e=this.curve.a;var r=this.x;var n=this.y;var t=this.z;var i=t.redSqr().redSqr();var a=r.redSqr();var s=n.redSqr();var f=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i));var c=r.redAdd(r);c=c.redIAdd(c);var l=c.redMul(s);var d=f.redSqr().redISub(l.redAdd(l));var o=l.redISub(d);var u=s.redSqr();u=u.redIAdd(u);u=u.redIAdd(u);u=u.redIAdd(u);var h=f.redMul(o).redISub(u);var p=n.redAdd(n).redMul(t);return this.curve.jpoint(d,h,p)};JPoint.prototype.trpl=function trpl(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr();var r=this.y.redSqr();var n=this.z.redSqr();var t=r.redSqr();var i=e.redAdd(e).redIAdd(e);var a=i.redSqr();var s=this.x.redAdd(r).redSqr().redISub(e).redISub(t);s=s.redIAdd(s);s=s.redAdd(s).redIAdd(s);s=s.redISub(a);var f=s.redSqr();var c=t.redIAdd(t);c=c.redIAdd(c);c=c.redIAdd(c);c=c.redIAdd(c);var l=i.redIAdd(s).redSqr().redISub(a).redISub(f).redISub(c);var d=r.redMul(l);d=d.redIAdd(d);d=d.redIAdd(d);var o=this.x.redMul(f).redISub(d);o=o.redIAdd(o);o=o.redIAdd(o);var u=this.y.redMul(l.redMul(c.redISub(l)).redISub(s.redMul(f)));u=u.redIAdd(u);u=u.redIAdd(u);u=u.redIAdd(u);var h=this.z.redAdd(s).redSqr().redISub(n).redISub(f);return this.curve.jpoint(o,u,h)};JPoint.prototype.mul=function mul(e,r){e=new i(e,r);return this.curve._wnafMul(this,e)};JPoint.prototype.eq=function eq(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return true;var r=this.z.redSqr();var n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return false;var t=r.redMul(this.z);var i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(t)).cmpn(0)===0};JPoint.prototype.eqXToP=function eqXToP(e){var r=this.z.redSqr();var n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return true;var t=e.clone();var i=this.curve.redN.redMul(r);for(;;){t.iadd(this.curve.n);if(t.cmp(this.curve.p)>=0)return false;n.redIAdd(i);if(this.x.cmp(n)===0)return true}};JPoint.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0}},{"../utils":46,"./base":33,"bn.js":30,inherits:61}],38:[function(e,r,n){"use strict";var t=n;var i=e("hash.js");var a=e("./curve");var s=e("./utils");var f=s.assert;function PresetCurve(e){if(e.type==="short")this.curve=new a.short(e);else if(e.type==="edwards")this.curve=new a.edwards(e);else if(e.type==="mont")this.curve=new a.mont(e);else throw new Error("Unknown curve type.");this.g=this.curve.g;this.n=this.curve.n;this.hash=e.hash;f(this.g.validate(),"Invalid curve");f(this.g.mul(this.n).isInfinity(),"Invalid curve, n*G != O")}t.PresetCurve=PresetCurve;function defineCurve(e,r){Object.defineProperty(t,e,{configurable:true,enumerable:true,get:function(){var n=new PresetCurve(r);Object.defineProperty(t,e,{configurable:true,enumerable:true,value:n});return n}})}defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:false,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:false,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:false,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f "+"5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 "+"f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:false,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 "+"5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 "+"0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b "+"99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd "+"3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 "+"f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:false,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 "+"053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 "+"a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 "+"579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 "+"3fad0761 353c7086 a272c240 88be9476 9fd16650"]});defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:i.sha256,gRed:false,g:["9"]});defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:i.sha256,gRed:false,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});defineCurve("brainpoolP256r1",{type:"short",prime:null,p:"A9FB57DB A1EEA9BC 3E660A90 9D838D72 6E3BF623 D5262028 2013481D 1F6E5377",a:"7D5A0975 FC2C3057 EEF67530 417AFFE7 FB8055C1 26DC5C6C E94A4B44 F330B5D9",b:"26DC5C6C E94A4B44 F330B5D9 BBD77CBF 95841629 5CF7E1CE 6BCCDC18 FF8C07B6",n:"A9FB57DB A1EEA9BC 3E660A90 9D838D71 8C397AA3 B561A6F7 901E0E82 974856A7",hash:i.sha256,gRed:false,g:["8BD2AEB9CB7E57CB2C4B482FFC81B7AFB9DE27E1E3BD23C23A4453BD9ACE3262","547EF835C3DAC4FD97F8461A14611DC9C27745132DED8E545C1D54C72F046997"]});defineCurve("brainpoolP384r1",{type:"short",prime:null,p:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B4 12B1DA19 7FB71123"+"ACD3A729 901D1A71 87470013 3107EC53",a:"7BC382C6 3D8C150C 3C72080A CE05AFA0 C2BEA28E 4FB22787 139165EF BA91F90F"+"8AA5814A 503AD4EB 04A8C7DD 22CE2826",b:"04A8C7DD 22CE2826 8B39B554 16F0447C 2FB77DE1 07DCD2A6 2E880EA5 3EEB62D5"+"7CB43902 95DBC994 3AB78696 FA504C11",n:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B3 1F166E6C AC0425A7"+"CF3AB6AF 6B7FC310 3B883202 E9046565",hash:i.sha384,gRed:false,g:["1D1C64F068CF45FFA2A63A81B7C13F6B8847A3E77EF14FE3DB7FCAFE0CBD10"+"E8E826E03436D646AAEF87B2E247D4AF1E","8ABE1D7520F9C2A45CB1EB8E95CFD55262B70B29FEEC5864E19C054FF99129"+"280E4646217791811142820341263C5315"]});defineCurve("brainpoolP512r1",{type:"short",prime:null,p:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 70330871"+"7D4D9B00 9BC66842 AECDA12A E6A380E6 2881FF2F 2D82C685 28AA6056 583A48F3",a:"7830A331 8B603B89 E2327145 AC234CC5 94CBDD8D 3DF91610 A83441CA EA9863BC"+"2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A7 2BF2C7B9 E7C1AC4D 77FC94CA",b:"3DF91610 A83441CA EA9863BC 2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A7"+"2BF2C7B9 E7C1AC4D 77FC94CA DC083E67 984050B7 5EBAE5DD 2809BD63 8016F723",n:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 70330870"+"553E5C41 4CA92619 41866119 7FAC1047 1DB1D381 085DDADD B5879682 9CA90069",hash:i.sha512,gRed:false,g:["81AEE4BDD82ED9645A21322E9C4C6A9385ED9F70B5D916C1B43B62EEF4D009"+"8EFF3B1F78E2D0D48D50D1687B93B97D5F7C6D5047406A5E688B352209BCB9F822","7DDE385D566332ECC0EABFA9CF7822FDF209F70024A57B1AA000C55B881F81"+"11B2DCDE494A5F485E5BCA4BD88A2763AED1CA2B2FA8F0540678CD1E0F3AD80892"]});var c;try{c=e("./precomputed/secp256k1")}catch(e){c=undefined}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:false,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})},{"./curve":35,"./precomputed/secp256k1":45,"./utils":46,"hash.js":48}],39:[function(e,r,n){"use strict";var t=e("bn.js");var i=e("hmac-drbg");var a=e("../utils");var s=e("../curves");var f=e("brorand");var c=a.assert;var l=e("./key");var d=e("./signature");function EC(e){if(!(this instanceof EC))return new EC(e);if(typeof e==="string"){c(s.hasOwnProperty(e),"Unknown curve "+e);e=s[e]}if(e instanceof s.PresetCurve)e={curve:e};this.curve=e.curve.curve;this.n=this.curve.n;this.nh=this.n.ushrn(1);this.g=this.curve.g;this.g=e.curve.g;this.g.precompute(e.curve.n.bitLength()+1);this.hash=e.hash||e.curve.hash}r.exports=EC;EC.prototype.keyPair=function keyPair(e){return new l(this,e)};EC.prototype.keyFromPrivate=function keyFromPrivate(e,r){return l.fromPrivate(this,e,r)};EC.prototype.keyFromPublic=function keyFromPublic(e,r){return l.fromPublic(this,e,r)};EC.prototype.genKeyPair=function genKeyPair(e){if(!e)e={};var r=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||f(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()});if(this.curve.type==="mont"){var n=new t(r.generate(32));return this.keyFromPrivate(n)}var a=this.n.byteLength();var s=this.n.sub(new t(2));do{var n=new t(r.generate(a));if(n.cmp(s)>0)continue;n.iaddn(1);return this.keyFromPrivate(n)}while(true)};EC.prototype._truncateToN=function truncateToN(e,r,n){n=n||e.byteLength()*8;var t=n-this.n.bitLength();if(t>0)e=e.ushrn(t);if(!r&&e.cmp(this.n)>=0)return e.sub(this.n);else return e};EC.prototype.truncateMsg=function truncateMSG(e){var r;if(e instanceof Uint8Array){r=e.byteLength*8;e=this._truncateToN(new t(e,16),false,r)}else if(typeof e==="string"){r=e.length*4;e=this._truncateToN(new t(e,16),false,r)}else{e=this._truncateToN(new t(e,16))}return e};EC.prototype.sign=function sign(e,r,n,a){if(typeof n==="object"){a=n;n=null}if(!a)a={};r=this.keyFromPrivate(r,n);e=this.truncateMsg(e);var s=this.n.byteLength();var f=r.getPrivate().toArray("be",s);var c=e.toArray("be",s);var l=new i({hash:this.hash,entropy:f,nonce:c,pers:a.pers,persEnc:a.persEnc||"utf8"});var o=this.n.sub(new t(1));for(var u=0;true;u++){var h=a.k?a.k(u):new t(l.generate(this.n.byteLength()));h=this._truncateToN(h,true);if(h.cmpn(1)<=0||h.cmp(o)>=0)continue;var p=this.g.mul(h);if(p.isInfinity())continue;var v=p.getX();var b=v.umod(this.n);if(b.cmpn(0)===0)continue;var y=h.invm(this.n).mul(b.mul(r.getPrivate()).iadd(e));y=y.umod(this.n);if(y.cmpn(0)===0)continue;var g=(p.getY().isOdd()?1:0)|(v.cmp(b)!==0?2:0);if(a.canonical&&y.cmp(this.nh)>0){y=this.n.sub(y);g^=1}return new d({r:b,s:y,recoveryParam:g})}};EC.prototype.verify=function verify(e,r,n,i){n=this.keyFromPublic(n,i);r=new d(r,"hex");var a=this._verify(this.truncateMsg(e),r,n)||this._verify(this._truncateToN(new t(e,16)),r,n);return a};EC.prototype._verify=function _verify(e,r,n){var t=r.r;var i=r.s;if(t.cmpn(1)<0||t.cmp(this.n)>=0)return false;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return false;var a=i.invm(this.n);var s=a.mul(e).umod(this.n);var f=a.mul(t).umod(this.n);if(!this.curve._maxwellTrick){var c=this.g.mulAdd(s,n.getPublic(),f);if(c.isInfinity())return false;return c.getX().umod(this.n).cmp(t)===0}var c=this.g.jmulAdd(s,n.getPublic(),f);if(c.isInfinity())return false;return c.eqXToP(t)};EC.prototype.recoverPubKey=function(e,r,n,i){c((3&n)===n,"The recovery param is more than two bits");r=new d(r,i);var a=this.n;var s=new t(e);var f=r.r;var l=r.s;var o=n&1;var u=n>>1;if(f.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");if(u)f=this.curve.pointFromX(f.add(this.curve.n),o);else f=this.curve.pointFromX(f,o);var h=r.r.invm(a);var p=a.sub(s).mul(h).umod(a);var v=l.mul(h).umod(a);return this.g.mulAdd(p,f,v)};EC.prototype.getKeyRecoveryParam=function(e,r,n,t){r=new d(r,t);if(r.recoveryParam!==null)return r.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,r,i)}catch(e){continue}if(a.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},{"../curves":38,"../utils":46,"./key":40,"./signature":41,"bn.js":30,brorand:31,"hmac-drbg":60}],40:[function(e,r,n){"use strict";var t=e("bn.js");var i=e("../utils");var a=i.assert;function KeyPair(e,r){this.ec=e;this.priv=null;this.pub=null;if(r.priv)this._importPrivate(r.priv,r.privEnc);if(r.pub)this._importPublic(r.pub,r.pubEnc)}r.exports=KeyPair;KeyPair.fromPublic=function fromPublic(e,r,n){if(r instanceof KeyPair)return r;return new KeyPair(e,{pub:r,pubEnc:n})};KeyPair.fromPrivate=function fromPrivate(e,r,n){if(r instanceof KeyPair)return r;return new KeyPair(e,{priv:r,privEnc:n})};KeyPair.prototype.validate=function validate(){var e=this.getPublic();if(e.isInfinity())return{result:false,reason:"Invalid public key"};if(!e.validate())return{result:false,reason:"Public key is not a point"};if(!e.mul(this.ec.curve.n).isInfinity())return{result:false,reason:"Public key * N != O"};return{result:true,reason:null}};KeyPair.prototype.getPublic=function getPublic(e,r){if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!e)return this.pub;return this.pub.encode(e,r)};KeyPair.prototype.getPrivate=function getPrivate(e){if(e==="hex")return this.priv.toString(16,2);else return this.priv};KeyPair.prototype._importPrivate=function _importPrivate(e,r){this.priv=new t(e,r||16);if(this.ec.curve.type==="mont"){var n=this.ec.curve.one;var i=n.ushln(255-3).sub(n).ushln(3);this.priv=this.priv.or(n.ushln(255-1));this.priv=this.priv.and(i)}else this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function _importPublic(e,r){if(e.x||e.y){if(this.ec.curve.type==="mont"){a(e.x,"Need x coordinate")}else if(this.ec.curve.type==="short"||this.ec.curve.type==="edwards"){a(e.x&&e.y,"Need both x and y coordinate")}this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};KeyPair.prototype.derive=function derive(e){return e.mul(this.priv).getX()};KeyPair.prototype.sign=function sign(e,r,n){return this.ec.sign(e,this,r,n)};KeyPair.prototype.verify=function verify(e,r){return this.ec.verify(e,r,this)};KeyPair.prototype.inspect=function inspect(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":46,"bn.js":30}],41:[function(e,r,n){"use strict";var t=e("bn.js");var i=e("../utils");var a=i.assert;function Signature(e,r){if(e instanceof Signature)return e;if(this._importDER(e,r))return;a(e.r&&e.s,"Signature without r or s");this.r=new t(e.r,16);this.s=new t(e.s,16);if(e.recoveryParam===undefined)this.recoveryParam=null;else this.recoveryParam=e.recoveryParam}r.exports=Signature;function Position(){this.place=0}function getLength(e,r){var n=e[r.place++];if(!(n&128)){return n}var t=n&15;var i=0;for(var a=0,s=r.place;a<t;a++,s++){i<<=8;i|=e[s]}r.place=s;return i}function rmPadding(e){var r=0;var n=e.length-1;while(!e[r]&&!(e[r+1]&128)&&r<n){r++}if(r===0){return e}return e.slice(r)}Signature.prototype._importDER=function _importDER(e,r){e=i.toArray(e,r);var n=new Position;if(e[n.place++]!==48){return false}var a=getLength(e,n);if(a+n.place!==e.length){return false}if(e[n.place++]!==2){return false}var s=getLength(e,n);var f=e.slice(n.place,s+n.place);n.place+=s;if(e[n.place++]!==2){return false}var c=getLength(e,n);if(e.length!==c+n.place){return false}var l=e.slice(n.place,c+n.place);if(f[0]===0&&f[1]&128){f=f.slice(1)}if(l[0]===0&&l[1]&128){l=l.slice(1)}this.r=new t(f);this.s=new t(l);this.recoveryParam=null;return true};function constructLength(e,r){if(r<128){e.push(r);return}var n=1+(Math.log(r)/Math.LN2>>>3);e.push(n|128);while(--n){e.push(r>>>(n<<3)&255)}e.push(r)}Signature.prototype.toDER=function toDER(e){var r=this.r.toArray();var n=this.s.toArray();if(r[0]&128)r=[0].concat(r);if(n[0]&128)n=[0].concat(n);r=rmPadding(r);n=rmPadding(n);while(!n[0]&&!(n[1]&128)){n=n.slice(1)}var t=[2];constructLength(t,r.length);t=t.concat(r);t.push(2);constructLength(t,n.length);var a=t.concat(n);var s=[48];constructLength(s,a.length);s=s.concat(a);return i.encode(s,e)}},{"../utils":46,"bn.js":30}],42:[function(e,r,n){"use strict";var t=e("hash.js");var i=e("hmac-drbg");var a=e("brorand");var s=e("../curves");var f=e("../utils");var c=f.assert;var l=f.parseBytes;var d=e("./key");var o=e("./signature");function EDDSA(e){c(e==="ed25519","only tested with ed25519 so far");if(!(this instanceof EDDSA))return new EDDSA(e);var e=s[e].curve;this.curve=e;this.g=e.g;this.g.precompute(e.n.bitLength()+1);this.pointClass=e.point().constructor;this.encodingLength=Math.ceil(e.n.bitLength()/8);this.hash=t.sha512}r.exports=EDDSA;EDDSA.prototype.sign=function sign(e,r){e=l(e);var n=this.keyFromSecret(r);var t=this.hashInt(n.messagePrefix(),e);var i=this.g.mul(t);var a=this.encodePoint(i);var s=this.hashInt(a,n.pubBytes(),e).mul(n.priv());var f=t.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:f,Rencoded:a})};EDDSA.prototype.verify=function verify(e,r,n){e=l(e);r=this.makeSignature(r);var t=this.keyFromPublic(n);var i=this.hashInt(r.Rencoded(),t.pubBytes(),e);var a=this.g.mul(r.S());var s=r.R().add(t.pub().mul(i));return s.eq(a)};EDDSA.prototype.hashInt=function hashInt(){var e=this.hash();for(var r=0;r<arguments.length;r++)e.update(arguments[r]);return f.intFromLE(e.digest()).umod(this.curve.n)};EDDSA.prototype.keyPair=function keyPair(e){return new d(this,e)};EDDSA.prototype.keyFromPublic=function keyFromPublic(e){return d.fromPublic(this,e)};EDDSA.prototype.keyFromSecret=function keyFromSecret(e){return d.fromSecret(this,e)};EDDSA.prototype.genKeyPair=function genKeyPair(e){if(!e)e={};var r=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.curve.n.toArray()});return this.keyFromSecret(r.generate(32))};EDDSA.prototype.makeSignature=function makeSignature(e){if(e instanceof o)return e;return new o(this,e)};EDDSA.prototype.encodePoint=function encodePoint(e){var r=e.getY().toArray("le",this.encodingLength);r[this.encodingLength-1]|=e.getX().isOdd()?128:0;return r};EDDSA.prototype.decodePoint=function decodePoint(e){e=f.parseBytes(e);var r=e.length-1;var n=e.slice(0,r).concat(e[r]&~128);var t=(e[r]&128)!==0;var i=f.intFromLE(n);return this.curve.pointFromY(i,t)};EDDSA.prototype.encodeInt=function encodeInt(e){return e.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function decodeInt(e){return f.intFromLE(e)};EDDSA.prototype.isPoint=function isPoint(e){return e instanceof this.pointClass}},{"../curves":38,"../utils":46,"./key":43,"./signature":44,brorand:31,"hash.js":48,"hmac-drbg":60}],43:[function(e,r,n){"use strict";var t=e("../utils");var i=t.assert;var a=t.parseBytes;var s=t.cachedProperty;function KeyPair(e,r){this.eddsa=e;if(r.hasOwnProperty("secret"))this._secret=a(r.secret);if(e.isPoint(r.pub))this._pub=r.pub;else{this._pubBytes=a(r.pub);if(this._pubBytes&&this._pubBytes.length===33&&this._pubBytes[0]===64)this._pubBytes=this._pubBytes.slice(1,33);if(this._pubBytes&&this._pubBytes.length!==32)throw new Error("Unknown point compression format")}}KeyPair.fromPublic=function fromPublic(e,r){if(r instanceof KeyPair)return r;return new KeyPair(e,{pub:r})};KeyPair.fromSecret=function fromSecret(e,r){if(r instanceof KeyPair)return r;return new KeyPair(e,{secret:r})};KeyPair.prototype.secret=function secret(){return this._secret};s(KeyPair,"pubBytes",function pubBytes(){return this.eddsa.encodePoint(this.pub())});s(KeyPair,"pub",function pub(){if(this._pubBytes)return this.eddsa.decodePoint(this._pubBytes);return this.eddsa.g.mul(this.priv())});s(KeyPair,"privBytes",function privBytes(){var e=this.eddsa;var r=this.hash();var n=e.encodingLength-1;var t=r.slice(0,e.encodingLength);t[0]&=248;t[n]&=127;t[n]|=64;return t});s(KeyPair,"priv",function priv(){return this.eddsa.decodeInt(this.privBytes())});s(KeyPair,"hash",function hash(){return this.eddsa.hash().update(this.secret()).digest()});s(KeyPair,"messagePrefix",function messagePrefix(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair.prototype.sign=function sign(e){i(this._secret,"KeyPair can only verify");return this.eddsa.sign(e,this)};KeyPair.prototype.verify=function verify(e,r){return this.eddsa.verify(e,r,this)};KeyPair.prototype.getSecret=function getSecret(e){i(this._secret,"KeyPair is public only");return t.encode(this.secret(),e)};KeyPair.prototype.getPublic=function getPublic(e,r){return t.encode((r?[64]:[]).concat(this.pubBytes()),e)};r.exports=KeyPair},{"../utils":46}],44:[function(e,r,n){"use strict";var t=e("bn.js");var i=e("../utils");var a=i.assert;var s=i.cachedProperty;var f=i.parseBytes;function Signature(e,r){this.eddsa=e;if(typeof r!=="object")r=f(r);if(Array.isArray(r)){r={R:r.slice(0,e.encodingLength),S:r.slice(e.encodingLength)}}a(r.R&&r.S,"Signature without R or S");if(e.isPoint(r.R))this._R=r.R;if(r.S instanceof t)this._S=r.S;this._Rencoded=Array.isArray(r.R)?r.R:r.Rencoded;this._Sencoded=Array.isArray(r.S)?r.S:r.Sencoded}s(Signature,"S",function S(){return this.eddsa.decodeInt(this.Sencoded())});s(Signature,"R",function R(){return this.eddsa.decodePoint(this.Rencoded())});s(Signature,"Rencoded",function Rencoded(){return this.eddsa.encodePoint(this.R())});s(Signature,"Sencoded",function Sencoded(){return this.eddsa.encodeInt(this.S())});Signature.prototype.toBytes=function toBytes(){return this.Rencoded().concat(this.Sencoded())};Signature.prototype.toHex=function toHex(){return i.encode(this.toBytes(),"hex").toUpperCase()};r.exports=Signature},{"../utils":46,"bn.js":30}],45:[function(e,r,n){r.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],46:[function(e,r,n){"use strict";var t=n;var i=e("bn.js");var a=e("minimalistic-assert");var s=e("minimalistic-crypto-utils");t.assert=a;t.toArray=s.toArray;t.zero2=s.zero2;t.toHex=s.toHex;t.encode=s.encode;function getNAF(e,r){var n=[];var t=1<<r+1;var i=e.clone();while(i.cmpn(1)>=0){var a;if(i.isOdd()){var s=i.andln(t-1);if(s>(t>>1)-1)a=(t>>1)-s;else a=s;i.isubn(a)}else{a=0}n.push(a);var f=i.cmpn(0)!==0&&i.andln(t-1)===0?r+1:1;for(var c=1;c<f;c++)n.push(0);i.iushrn(f)}return n}t.getNAF=getNAF;function getJSF(e,r){var n=[[],[]];e=e.clone();r=r.clone();var t=0;var i=0;while(e.cmpn(-t)>0||r.cmpn(-i)>0){var a=e.andln(3)+t&3;var s=r.andln(3)+i&3;if(a===3)a=-1;if(s===3)s=-1;var f;if((a&1)===0){f=0}else{var c=e.andln(7)+t&7;if((c===3||c===5)&&s===2)f=-a;else f=a}n[0].push(f);var l;if((s&1)===0){l=0}else{var c=r.andln(7)+i&7;if((c===3||c===5)&&a===2)l=-s;else l=s}n[1].push(l);if(2*t===f+1)t=1-t;if(2*i===l+1)i=1-i;e.iushrn(1);r.iushrn(1)}return n}t.getJSF=getJSF;function cachedProperty(e,r,n){var t="_"+r;e.prototype[r]=function cachedProperty(){return this[t]!==undefined?this[t]:this[t]=n.call(this)}}t.cachedProperty=cachedProperty;function parseBytes(e){return typeof e==="string"?t.toArray(e,"hex"):e}t.parseBytes=parseBytes;function intFromLE(e){return new i(e,"hex","le")}t.intFromLE=intFromLE},{"bn.js":30,"minimalistic-assert":62,"minimalistic-crypto-utils":63}],47:[function(e,r,n){"use strict";(function(e){"use strict";function parse5322(e){function inStr(){return n<t}function curTok(){return r[n]}function getPos(){return n}function setPos(e){n=e}function nextTok(){n+=1}function initialize(){n=0;t=r.length}function o(e,r){return{name:e,tokens:r||"",semantic:r||"",children:[]}}function wrap(e,r){var n;if(r===null){return null}n=o(e);n.tokens=r.tokens;n.semantic=r.semantic;n.children.push(r);return n}function add(e,r){if(r!==null){e.tokens+=r.tokens;e.semantic+=r.semantic}e.children.push(r);return e}function compareToken(e){var r;if(!inStr()){return null}r=curTok();if(e(r)){nextTok();return o("token",r)}return null}function literal(e){return function literalFunc(){return wrap("literal",compareToken(function(r){return r===e}))}}function and(){var e=arguments;return function andFunc(){var r,n,t,i;i=getPos();n=o("and");for(r=0;r<e.length;r+=1){t=e[r]();if(t===null){setPos(i);return null}add(n,t)}return n}}function or(){var e=arguments;return function orFunc(){var r,n,t;t=getPos();for(r=0;r<e.length;r+=1){n=e[r]();if(n!==null){return n}setPos(t)}return null}}function opt(e){return function optFunc(){var r,n;n=getPos();r=e();if(r!==null){return r}else{setPos(n);return o("opt")}}}function invis(e){return function invisFunc(){var r=e();if(r!==null){r.semantic=""}return r}}function colwsp(e){return function collapseSemanticWhitespace(){var r=e();if(r!==null&&r.semantic.length>0){r.semantic=" "}return r}}function star(e,r){return function starFunc(){var n,t,i,a,s;a=getPos();n=o("star");i=0;s=r===undefined?0:r;while((t=e())!==null){i=i+1;add(n,t)}if(i>=s){return n}else{setPos(a);return null}}}function collapseWhitespace(e){return e.replace(/([ \t]|\r\n)+/g," ").replace(/^\s*/,"").replace(/\s*$/,"")}function isUTF8NonAscii(e){return e.charCodeAt(0)>=128}function cr(){return wrap("cr",literal("\r")())}function crlf(){return wrap("crlf",and(cr,lf)())}function dquote(){return wrap("dquote",literal('"')())}function htab(){return wrap("htab",literal("\t")())}function lf(){return wrap("lf",literal("\n")())}function sp(){return wrap("sp",literal(" ")())}function vchar(){return wrap("vchar",compareToken(function vcharFunc(r){var n=r.charCodeAt(0);var t=33<=n&&n<=126;if(e.rfc6532){t=t||isUTF8NonAscii(r)}return t}))}function wsp(){return wrap("wsp",or(sp,htab)())}function quotedPair(){var e=wrap("quoted-pair",or(and(literal("\\"),or(vchar,wsp)),obsQP)());if(e===null){return null}e.semantic=e.semantic[1];return e}function fws(){return wrap("fws",or(obsFws,and(opt(and(star(wsp),invis(crlf))),star(wsp,1)))())}function ctext(){return wrap("ctext",or(function ctextFunc1(){return compareToken(function ctextFunc2(r){var n=r.charCodeAt(0);var t=33<=n&&n<=39||42<=n&&n<=91||93<=n&&n<=126;if(e.rfc6532){t=t||isUTF8NonAscii(r)}return t})},obsCtext)())}function ccontent(){return wrap("ccontent",or(ctext,quotedPair,comment)())}function comment(){return wrap("comment",and(literal("("),star(and(opt(fws),ccontent)),opt(fws),literal(")"))())}function cfws(){return wrap("cfws",or(and(star(and(opt(fws),comment),1),opt(fws)),fws)())}function atext(){return wrap("atext",compareToken(function atextFunc(r){var n="a"<=r&&r<="z"||"A"<=r&&r<="Z"||"0"<=r&&r<="9"||["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(r)>=0;if(e.rfc6532){n=n||isUTF8NonAscii(r)}return n}))}function atom(){return wrap("atom",and(colwsp(opt(cfws)),star(atext,1),colwsp(opt(cfws)))())}function dotAtomText(){var e,r;e=wrap("dot-atom-text",star(atext,1)());if(e===null){return e}r=star(and(literal("."),star(atext,1)))();if(r!==null){add(e,r)}return e}function dotAtom(){return wrap("dot-atom",and(invis(opt(cfws)),dotAtomText,invis(opt(cfws)))())}function qtext(){return wrap("qtext",or(function qtextFunc1(){return compareToken(function qtextFunc2(r){var n=r.charCodeAt(0);var t=33===n||35<=n&&n<=91||93<=n&&n<=126;if(e.rfc6532){t=t||isUTF8NonAscii(r)}return t})},obsQtext)())}function qcontent(){return wrap("qcontent",or(qtext,quotedPair)())}function quotedString(){return wrap("quoted-string",and(invis(opt(cfws)),invis(dquote),star(and(opt(colwsp(fws)),qcontent)),opt(invis(fws)),invis(dquote),invis(opt(cfws)))())}function word(){return wrap("word",or(atom,quotedString)())}function phrase(){return wrap("phrase",or(obsPhrase,star(word,1))())}function address(){return wrap("address",or(mailbox,group)())}function mailbox(){return wrap("mailbox",or(nameAddr,addrSpec)())}function nameAddr(){return wrap("name-addr",and(opt(displayName),angleAddr)())}function angleAddr(){return wrap("angle-addr",or(and(invis(opt(cfws)),literal("<"),addrSpec,literal(">"),invis(opt(cfws))),obsAngleAddr)())}function group(){return wrap("group",and(displayName,literal(":"),opt(groupList),literal(";"),invis(opt(cfws)))())}function displayName(){return wrap("display-name",function phraseFixedSemantic(){var e=phrase();if(e!==null){e.semantic=collapseWhitespace(e.semantic)}return e}())}function mailboxList(){return wrap("mailbox-list",or(and(mailbox,star(and(literal(","),mailbox))),obsMboxList)())}function addressList(){return wrap("address-list",or(and(address,star(and(literal(","),address))),obsAddrList)())}function groupList(){return wrap("group-list",or(mailboxList,invis(cfws),obsGroupList)())}function localPart(){return wrap("local-part",or(obsLocalPart,dotAtom,quotedString)())}function dtext(){return wrap("dtext",or(function dtextFunc1(){return compareToken(function dtextFunc2(r){var n=r.charCodeAt(0);var t=33<=n&&n<=90||94<=n&&n<=126;if(e.rfc6532){t=t||isUTF8NonAscii(r)}return t})},obsDtext)())}function domainLiteral(){return wrap("domain-literal",and(invis(opt(cfws)),literal("["),star(and(opt(fws),dtext)),opt(fws),literal("]"),invis(opt(cfws)))())}function domain(){return wrap("domain",function domainCheckTLD(){var r=or(obsDomain,dotAtom,domainLiteral)();if(e.rejectTLD){if(r&&r.semantic&&r.semantic.indexOf(".")<0){return null}}if(r){r.semantic=r.semantic.replace(/\s+/g,"")}return r}())}function addrSpec(){return wrap("addr-spec",and(localPart,literal("@"),domain)())}function fromSpec(){return wrap("from",or(mailboxList,addressList)())}function senderSpec(){return wrap("sender",or(mailbox,address)())}function replyToSpec(){return wrap("reply-to",addressList())}function obsNoWsCtl(){return e.strict?null:wrap("obs-NO-WS-CTL",compareToken(function(e){var r=e.charCodeAt(0);return 1<=r&&r<=8||11===r||12===r||14<=r&&r<=31||127===r}))}function obsCtext(){return e.strict?null:wrap("obs-ctext",obsNoWsCtl())}function obsQtext(){return e.strict?null:wrap("obs-qtext",obsNoWsCtl())}function obsQP(){return e.strict?null:wrap("obs-qp",and(literal("\\"),or(literal("\0"),obsNoWsCtl,lf,cr))())}function obsPhrase(){if(e.strict)return null;return e.atInDisplayName?wrap("obs-phrase",and(word,star(or(word,literal("."),literal("@"),colwsp(cfws))))()):wrap("obs-phrase",and(word,star(or(word,literal("."),colwsp(cfws))))())}function obsFws(){return e.strict?null:wrap("obs-FWS",star(and(invis(opt(crlf)),wsp),1)())}function obsAngleAddr(){return e.strict?null:wrap("obs-angle-addr",and(invis(opt(cfws)),literal("<"),obsRoute,addrSpec,literal(">"),invis(opt(cfws)))())}function obsRoute(){return e.strict?null:wrap("obs-route",and(obsDomainList,literal(":"))())}function obsDomainList(){return e.strict?null:wrap("obs-domain-list",and(star(or(invis(cfws),literal(","))),literal("@"),domain,star(and(literal(","),invis(opt(cfws)),opt(and(literal("@"),domain)))))())}function obsMboxList(){return e.strict?null:wrap("obs-mbox-list",and(star(and(invis(opt(cfws)),literal(","))),mailbox,star(and(literal(","),opt(and(mailbox,invis(cfws))))))())}function obsAddrList(){return e.strict?null:wrap("obs-addr-list",and(star(and(invis(opt(cfws)),literal(","))),address,star(and(literal(","),opt(and(address,invis(cfws))))))())}function obsGroupList(){return e.strict?null:wrap("obs-group-list",and(star(and(invis(opt(cfws)),literal(",")),1),invis(opt(cfws)))())}function obsLocalPart(){return e.strict?null:wrap("obs-local-part",and(word,star(and(literal("."),word)))())}function obsDomain(){return e.strict?null:wrap("obs-domain",and(atom,star(and(literal("."),atom)))())}function obsDtext(){return e.strict?null:wrap("obs-dtext",or(obsNoWsCtl,quotedPair)())}function findNode(e,r){var n,t,i;if(r===null||r===undefined){return null}t=[r];while(t.length>0){i=t.pop();if(i.name===e){return i}for(n=i.children.length-1;n>=0;n-=1){t.push(i.children[n])}}return null}function findAllNodes(e,r){var n,t,i,a;if(r===null||r===undefined){return null}t=[r];a=[];while(t.length>0){i=t.pop();if(i.name===e){a.push(i)}for(n=i.children.length-1;n>=0;n-=1){t.push(i.children[n])}}return a}function findAllNodesNoChildren(e,r){var n,t,i,a,s;if(r===null||r===undefined){return null}t=[r];a=[];s={};for(n=0;n<e.length;n+=1){s[e[n]]=true}while(t.length>0){i=t.pop();if(i.name in s){a.push(i)}else{for(n=i.children.length-1;n>=0;n-=1){t.push(i.children[n])}}}return a}function giveResult(r){var n,t,i,a,s;if(r===null){return null}n=[];t=findAllNodesNoChildren(["group","mailbox"],r);for(i=0;i<t.length;i+=1){a=t[i];if(a.name==="group"){n.push(giveResultGroup(a))}else if(a.name==="mailbox"){n.push(giveResultMailbox(a))}}s={ast:r,addresses:n};if(e.simple){s=simplifyResult(s)}if(e.oneResult){return oneResult(s)}if(e.simple){return s&&s.addresses}else{return s}}function giveResultGroup(e){var r;var n=findNode("display-name",e);var t=[];var i=findAllNodesNoChildren(["mailbox"],e);for(r=0;r<i.length;r+=1){t.push(giveResultMailbox(i[r]))}return{node:e,parts:{name:n},type:e.name,name:grabSemantic(n),addresses:t}}function giveResultMailbox(e){var r=findNode("display-name",e);var n=findNode("addr-spec",e);var t=findAllNodes("cfws",e);var i=findAllNodesNoChildren(["comment"],e);var a=findNode("local-part",n);var s=findNode("domain",n);return{node:e,parts:{name:r,address:n,local:a,domain:s,comments:t},type:e.name,name:grabSemantic(r),address:grabSemantic(n),local:grabSemantic(a),domain:grabSemantic(s),comments:concatComments(i),groupName:grabSemantic(e.groupName)}}function grabSemantic(e){return e!==null&&e!==undefined?e.semantic:null}function simplifyResult(e){var r;if(e&&e.addresses){for(r=0;r<e.addresses.length;r+=1){delete e.addresses[r].node}}return e}function concatComments(e){var r="";if(e){for(var n=0;n<e.length;n+=1){r+=grabSemantic(e[n])}}return r}function oneResult(r){if(!r){return null}if(!e.partial&&r.addresses.length>1){return null}return r.addresses&&r.addresses[0]}var r,n,t,i,a;e=handleOpts(e,{});if(e===null){return null}r=e.input;a={address:address,"address-list":addressList,"angle-addr":angleAddr,from:fromSpec,group:group,mailbox:mailbox,"mailbox-list":mailboxList,"reply-to":replyToSpec,sender:senderSpec}[e.startAt]||addressList;if(!e.strict){initialize();e.strict=true;i=a(r);if(e.partial||!inStr()){return giveResult(i)}e.strict=false}initialize();i=a(r);if(!e.partial&&inStr()){return null}return giveResult(i)}function parseOneAddressSimple(e){return parse5322(handleOpts(e,{oneResult:true,rfc6532:true,simple:true,startAt:"address-list"}))}function parseAddressListSimple(e){return parse5322(handleOpts(e,{rfc6532:true,simple:true,startAt:"address-list"}))}function parseFromSimple(e){return parse5322(handleOpts(e,{rfc6532:true,simple:true,startAt:"from"}))}function parseSenderSimple(e){return parse5322(handleOpts(e,{oneResult:true,rfc6532:true,simple:true,startAt:"sender"}))}function parseReplyToSimple(e){return parse5322(handleOpts(e,{rfc6532:true,simple:true,startAt:"reply-to"}))}function handleOpts(e,r){function isString(e){return Object.prototype.toString.call(e)==="[object String]"}function isObject(e){return e===Object(e)}function isNullUndef(e){return e===null||e===undefined}var n,t;if(isString(e)){e={input:e}}else if(!isObject(e)){return null}if(!isString(e.input)){return null}if(!r){return null}n={oneResult:false,partial:false,rejectTLD:false,rfc6532:false,simple:false,startAt:"address-list",strict:false,atInDisplayName:false};for(t in n){if(isNullUndef(e[t])){e[t]=!isNullUndef(r[t])?r[t]:n[t]}}return e}parse5322.parseOneAddress=parseOneAddressSimple;parse5322.parseAddressList=parseAddressListSimple;parse5322.parseFrom=parseFromSimple;parse5322.parseSender=parseSenderSimple;parse5322.parseReplyTo=parseReplyToSimple;if(typeof r!=="undefined"&&typeof r.exports!=="undefined"){r.exports=parse5322}else{e.emailAddresses=parse5322}})(undefined)},{}],48:[function(e,r,n){var t=n;t.utils=e("./hash/utils");t.common=e("./hash/common");t.sha=e("./hash/sha");t.ripemd=e("./hash/ripemd");t.hmac=e("./hash/hmac");t.sha1=t.sha.sha1;t.sha256=t.sha.sha256;t.sha224=t.sha.sha224;t.sha384=t.sha.sha384;t.sha512=t.sha.sha512;t.ripemd160=t.ripemd.ripemd160},{"./hash/common":49,"./hash/hmac":50,"./hash/ripemd":51,"./hash/sha":52,"./hash/utils":59}],49:[function(e,r,n){"use strict";var t=e("./utils");var i=e("minimalistic-assert");function BlockHash(){this.pending=null;this.pendingTotal=0;this.blockSize=this.constructor.blockSize;this.outSize=this.constructor.outSize;this.hmacStrength=this.constructor.hmacStrength;this.padLength=this.constructor.padLength/8;this.endian="big";this._delta8=this.blockSize/8;this._delta32=this.blockSize/32}n.BlockHash=BlockHash;BlockHash.prototype.update=function update(e,r){e=t.toArray(e,r);if(!this.pending)this.pending=e;else this.pending=this.pending.concat(e);this.pendingTotal+=e.length;if(this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length);if(this.pending.length===0)this.pending=null;e=t.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};BlockHash.prototype.digest=function digest(e){this.update(this._pad());i(this.pending===null);return this._digest(e)};BlockHash.prototype._pad=function pad(){var e=this.pendingTotal;var r=this._delta8;var n=r-(e+this.padLength)%r;var t=new Array(n+this.padLength);t[0]=128;for(var i=1;i<n;i++)t[i]=0;e<<=3;if(this.endian==="big"){for(var a=8;a<this.padLength;a++)t[i++]=0;t[i++]=0;t[i++]=0;t[i++]=0;t[i++]=0;t[i++]=e>>>24&255;t[i++]=e>>>16&255;t[i++]=e>>>8&255;t[i++]=e&255}else{t[i++]=e&255;t[i++]=e>>>8&255;t[i++]=e>>>16&255;t[i++]=e>>>24&255;t[i++]=0;t[i++]=0;t[i++]=0;t[i++]=0;for(a=8;a<this.padLength;a++)t[i++]=0}return t}},{"./utils":59,"minimalistic-assert":62}],50:[function(e,r,n){"use strict";var t=e("./utils");var i=e("minimalistic-assert");function Hmac(e,r,n){if(!(this instanceof Hmac))return new Hmac(e,r,n);this.Hash=e;this.blockSize=e.blockSize/8;this.outSize=e.outSize/8;this.inner=null;this.outer=null;this._init(t.toArray(r,n))}r.exports=Hmac;Hmac.prototype._init=function init(e){if(e.length>this.blockSize)e=(new this.Hash).update(e).digest();i(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;this.inner=(new this.Hash).update(e);for(r=0;r<e.length;r++)e[r]^=106;this.outer=(new this.Hash).update(e)};Hmac.prototype.update=function update(e,r){this.inner.update(e,r);return this};Hmac.prototype.digest=function digest(e){this.outer.update(this.inner.digest());return this.outer.digest(e)}},{"./utils":59,"minimalistic-assert":62}],51:[function(e,r,n){"use strict";var t=e("./utils");var i=e("./common");var a=t.rotl32;var s=t.sum32;var c=t.sum32_3;var l=t.sum32_4;var d=i.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;d.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.endian="little"}t.inherits(RIPEMD160,d);n.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function update(e,r){var n=this.h[0];var t=this.h[1];var i=this.h[2];var d=this.h[3];var v=this.h[4];var b=n;var y=t;var g=i;var w=d;var m=v;for(var A=0;A<80;A++){var E=s(a(l(n,f(A,t,i,d),e[o[A]+r],K(A)),h[A]),v);n=v;v=d;d=a(i,10);i=t;t=E;E=s(a(l(b,f(79-A,y,g,w),e[u[A]+r],Kh(A)),p[A]),m);b=m;m=w;w=a(g,10);g=y;y=E}E=c(this.h[1],i,w);this.h[1]=c(this.h[2],d,m);this.h[2]=c(this.h[3],v,b);this.h[3]=c(this.h[4],n,y);this.h[4]=c(this.h[0],t,g);this.h[0]=E};RIPEMD160.prototype._digest=function digest(e){if(e==="hex")return t.toHex32(this.h,"little");else return t.split32(this.h,"little")};function f(e,r,n,t){if(e<=15)return r^n^t;else if(e<=31)return r&n|~r&t;else if(e<=47)return(r|~n)^t;else if(e<=63)return r&t|n&~t;else return r^(n|~t)}function K(e){if(e<=15)return 0;else if(e<=31)return 1518500249;else if(e<=47)return 1859775393;else if(e<=63)return 2400959708;else return 2840853838}function Kh(e){if(e<=15)return 1352829926;else if(e<=31)return 1548603684;else if(e<=47)return 1836072691;else if(e<=63)return 2053994217;else return 0}var o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":49,"./utils":59}],52:[function(e,r,n){"use strict";n.sha1=e("./sha/1");n.sha224=e("./sha/224");n.sha256=e("./sha/256");n.sha384=e("./sha/384");n.sha512=e("./sha/512")},{"./sha/1":53,"./sha/224":54,"./sha/256":55,"./sha/384":56,"./sha/512":57}],53:[function(e,r,n){"use strict";var t=e("../utils");var i=e("../common");var a=e("./common");var s=t.rotl32;var f=t.sum32;var c=t.sum32_5;var l=a.ft_1;var d=i.BlockHash;var o=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;d.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.W=new Array(80)}t.inherits(SHA1,d);r.exports=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function _update(e,r){var n=this.W;for(var t=0;t<16;t++)n[t]=e[r+t];for(;t<n.length;t++)n[t]=s(n[t-3]^n[t-8]^n[t-14]^n[t-16],1);var i=this.h[0];var a=this.h[1];var d=this.h[2];var u=this.h[3];var h=this.h[4];for(t=0;t<n.length;t++){var p=~~(t/20);var v=c(s(i,5),l(p,a,d,u),h,n[t],o[p]);h=u;u=d;d=s(a,30);a=i;i=v}this.h[0]=f(this.h[0],i);this.h[1]=f(this.h[1],a);this.h[2]=f(this.h[2],d);this.h[3]=f(this.h[3],u);this.h[4]=f(this.h[4],h)};SHA1.prototype._digest=function digest(e){if(e==="hex")return t.toHex32(this.h,"big");else return t.split32(this.h,"big")}},{"../common":49,"../utils":59,"./common":58}],54:[function(e,r,n){"use strict";var t=e("../utils");var i=e("./256");function SHA224(){if(!(this instanceof SHA224))return new SHA224;i.call(this);this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}t.inherits(SHA224,i);r.exports=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function digest(e){if(e==="hex")return t.toHex32(this.h.slice(0,7),"big");else return t.split32(this.h.slice(0,7),"big")}},{"../utils":59,"./256":55}],55:[function(e,r,n){"use strict";var t=e("../utils");var i=e("../common");var a=e("./common");var s=e("minimalistic-assert");var f=t.sum32;var c=t.sum32_4;var l=t.sum32_5;var d=a.ch32;var o=a.maj32;var u=a.s0_256;var h=a.s1_256;var p=a.g0_256;var v=a.g1_256;var b=i.BlockHash;var y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256(){if(!(this instanceof SHA256))return new SHA256;b.call(this);this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];this.k=y;this.W=new Array(64)}t.inherits(SHA256,b);r.exports=SHA256;SHA256.blockSize=512;SHA256.outSize=256;SHA256.hmacStrength=192;SHA256.padLength=64;SHA256.prototype._update=function _update(e,r){var n=this.W;for(var t=0;t<16;t++)n[t]=e[r+t];for(;t<n.length;t++)n[t]=c(v(n[t-2]),n[t-7],p(n[t-15]),n[t-16]);var i=this.h[0];var a=this.h[1];var b=this.h[2];var y=this.h[3];var g=this.h[4];var w=this.h[5];var m=this.h[6];var A=this.h[7];s(this.k.length===n.length);for(t=0;t<n.length;t++){var E=l(A,h(g),d(g,w,m),this.k[t],n[t]);var S=f(u(i),o(i,a,b));A=m;m=w;w=g;g=f(y,E);y=b;b=a;a=i;i=f(E,S)}this.h[0]=f(this.h[0],i);this.h[1]=f(this.h[1],a);this.h[2]=f(this.h[2],b);this.h[3]=f(this.h[3],y);this.h[4]=f(this.h[4],g);this.h[5]=f(this.h[5],w);this.h[6]=f(this.h[6],m);this.h[7]=f(this.h[7],A)};SHA256.prototype._digest=function digest(e){if(e==="hex")return t.toHex32(this.h,"big");else return t.split32(this.h,"big")}},{"../common":49,"../utils":59,"./common":58,"minimalistic-assert":62}],56:[function(e,r,n){"use strict";var t=e("../utils");var i=e("./512");function SHA384(){if(!(this instanceof SHA384))return new SHA384;i.call(this);this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}t.inherits(SHA384,i);r.exports=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function digest(e){if(e==="hex")return t.toHex32(this.h.slice(0,12),"big");else return t.split32(this.h.slice(0,12),"big")}},{"../utils":59,"./512":57}],57:[function(e,r,n){"use strict";var t=e("../utils");var i=e("../common");var a=e("minimalistic-assert");var s=t.rotr64_hi;var f=t.rotr64_lo;var c=t.shr64_hi;var l=t.shr64_lo;var d=t.sum64;var o=t.sum64_hi;var u=t.sum64_lo;var h=t.sum64_4_hi;var p=t.sum64_4_lo;var v=t.sum64_5_hi;var b=t.sum64_5_lo;var y=i.BlockHash;var g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512(){if(!(this instanceof SHA512))return new SHA512;y.call(this);this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209];this.k=g;this.W=new Array(160)}t.inherits(SHA512,y);r.exports=SHA512;SHA512.blockSize=1024;SHA512.outSize=512;SHA512.hmacStrength=192;SHA512.padLength=128;SHA512.prototype._prepareBlock=function _prepareBlock(e,r){var n=this.W;for(var t=0;t<32;t++)n[t]=e[r+t];for(;t<n.length;t+=2){var i=g1_512_hi(n[t-4],n[t-3]);var a=g1_512_lo(n[t-4],n[t-3]);var s=n[t-14];var f=n[t-13];var c=g0_512_hi(n[t-30],n[t-29]);var l=g0_512_lo(n[t-30],n[t-29]);var d=n[t-32];var o=n[t-31];n[t]=h(i,a,s,f,c,l,d,o);n[t+1]=p(i,a,s,f,c,l,d,o)}};SHA512.prototype._update=function _update(e,r){this._prepareBlock(e,r);var n=this.W;var t=this.h[0];var i=this.h[1];var s=this.h[2];var f=this.h[3];var c=this.h[4];var l=this.h[5];var h=this.h[6];var p=this.h[7];var y=this.h[8];var g=this.h[9];var w=this.h[10];var m=this.h[11];var A=this.h[12];var E=this.h[13];var S=this.h[14];var k=this.h[15];a(this.k.length===n.length);for(var R=0;R<n.length;R+=2){var M=S;var C=k;var D=s1_512_hi(y,g);var _=s1_512_lo(y,g);var j=ch64_hi(y,g,w,m,A,E);var B=ch64_lo(y,g,w,m,A,E);var q=this.k[R];var U=this.k[R+1];var x=n[R];var I=n[R+1];var K=v(M,C,D,_,j,B,q,U,x,I);var O=b(M,C,D,_,j,B,q,U,x,I);M=s0_512_hi(t,i);C=s0_512_lo(t,i);D=maj64_hi(t,i,s,f,c,l);_=maj64_lo(t,i,s,f,c,l);var F=o(M,C,D,_);var P=u(M,C,D,_);S=A;k=E;A=w;E=m;w=y;m=g;y=o(h,p,K,O);g=u(p,p,K,O);h=c;p=l;c=s;l=f;s=t;f=i;t=o(K,O,F,P);i=u(K,O,F,P)}d(this.h,0,t,i);d(this.h,2,s,f);d(this.h,4,c,l);d(this.h,6,h,p);d(this.h,8,y,g);d(this.h,10,w,m);d(this.h,12,A,E);d(this.h,14,S,k)};SHA512.prototype._digest=function digest(e){if(e==="hex")return t.toHex32(this.h,"big");else return t.split32(this.h,"big")};function ch64_hi(e,r,n,t,i){var a=e&n^~e&i;if(a<0)a+=4294967296;return a}function ch64_lo(e,r,n,t,i,a){var s=r&t^~r&a;if(s<0)s+=4294967296;return s}function maj64_hi(e,r,n,t,i){var a=e&n^e&i^n&i;if(a<0)a+=4294967296;return a}function maj64_lo(e,r,n,t,i,a){var s=r&t^r&a^t&a;if(s<0)s+=4294967296;return s}function s0_512_hi(e,r){var n=s(e,r,28);var t=s(r,e,2);var i=s(r,e,7);var a=n^t^i;if(a<0)a+=4294967296;return a}function s0_512_lo(e,r){var n=f(e,r,28);var t=f(r,e,2);var i=f(r,e,7);var a=n^t^i;if(a<0)a+=4294967296;return a}function s1_512_hi(e,r){var n=s(e,r,14);var t=s(e,r,18);var i=s(r,e,9);var a=n^t^i;if(a<0)a+=4294967296;return a}function s1_512_lo(e,r){var n=f(e,r,14);var t=f(e,r,18);var i=f(r,e,9);var a=n^t^i;if(a<0)a+=4294967296;return a}function g0_512_hi(e,r){var n=s(e,r,1);var t=s(e,r,8);var i=c(e,r,7);var a=n^t^i;if(a<0)a+=4294967296;return a}function g0_512_lo(e,r){var n=f(e,r,1);var t=f(e,r,8);var i=l(e,r,7);var a=n^t^i;if(a<0)a+=4294967296;return a}function g1_512_hi(e,r){var n=s(e,r,19);var t=s(r,e,29);var i=c(e,r,6);var a=n^t^i;if(a<0)a+=4294967296;return a}function g1_512_lo(e,r){var n=f(e,r,19);var t=f(r,e,29);var i=l(e,r,6);var a=n^t^i;if(a<0)a+=4294967296;return a}},{"../common":49,"../utils":59,"minimalistic-assert":62}],58:[function(e,r,n){"use strict";var t=e("../utils");var i=t.rotr32;function ft_1(e,r,n,t){if(e===0)return ch32(r,n,t);if(e===1||e===3)return p32(r,n,t);if(e===2)return maj32(r,n,t)}n.ft_1=ft_1;function ch32(e,r,n){return e&r^~e&n}n.ch32=ch32;function maj32(e,r,n){return e&r^e&n^r&n}n.maj32=maj32;function p32(e,r,n){return e^r^n}n.p32=p32;function s0_256(e){return i(e,2)^i(e,13)^i(e,22)}n.s0_256=s0_256;function s1_256(e){return i(e,6)^i(e,11)^i(e,25)}n.s1_256=s1_256;function g0_256(e){return i(e,7)^i(e,18)^e>>>3}n.g0_256=g0_256;function g1_256(e){return i(e,17)^i(e,19)^e>>>10}n.g1_256=g1_256},{"../utils":59}],59:[function(e,r,n){"use strict";var t=e("minimalistic-assert");var i=e("inherits");n.inherits=i;function toArray(e,r){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if(typeof e==="string"){if(!r){for(var t=0;t<e.length;t++){var i=e.charCodeAt(t);var a=i>>8;var s=i&255;if(a)n.push(a,s);else n.push(s)}}else if(r==="hex"){e=e.replace(/[^a-z0-9]+/gi,"");if(e.length%2!==0)e="0"+e;for(t=0;t<e.length;t+=2)n.push(parseInt(e[t]+e[t+1],16))}}else{for(t=0;t<e.length;t++)n[t]=e[t]|0}return n}n.toArray=toArray;function toHex(e){var r="";for(var n=0;n<e.length;n++)r+=zero2(e[n].toString(16));return r}n.toHex=toHex;function htonl(e){var r=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return r>>>0}n.htonl=htonl;function toHex32(e,r){var n="";for(var t=0;t<e.length;t++){var i=e[t];if(r==="little")i=htonl(i);n+=zero8(i.toString(16))}return n}n.toHex32=toHex32;function zero2(e){if(e.length===1)return"0"+e;else return e}n.zero2=zero2;function zero8(e){if(e.length===7)return"0"+e;else if(e.length===6)return"00"+e;else if(e.length===5)return"000"+e;else if(e.length===4)return"0000"+e;else if(e.length===3)return"00000"+e;else if(e.length===2)return"000000"+e;else if(e.length===1)return"0000000"+e;else return e}n.zero8=zero8;function join32(e,r,n,i){var a=n-r;t(a%4===0);var s=new Array(a/4);for(var f=0,c=r;f<s.length;f++,c+=4){var l;if(i==="big")l=e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3];else l=e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c];s[f]=l>>>0}return s}n.join32=join32;function split32(e,r){var n=new Array(e.length*4);for(var t=0,i=0;t<e.length;t++,i+=4){var a=e[t];if(r==="big"){n[i]=a>>>24;n[i+1]=a>>>16&255;n[i+2]=a>>>8&255;n[i+3]=a&255}else{n[i+3]=a>>>24;n[i+2]=a>>>16&255;n[i+1]=a>>>8&255;n[i]=a&255}}return n}n.split32=split32;function rotr32(e,r){return e>>>r|e<<32-r}n.rotr32=rotr32;function rotl32(e,r){return e<<r|e>>>32-r}n.rotl32=rotl32;function sum32(e,r){return e+r>>>0}n.sum32=sum32;function sum32_3(e,r,n){return e+r+n>>>0}n.sum32_3=sum32_3;function sum32_4(e,r,n,t){return e+r+n+t>>>0}n.sum32_4=sum32_4;function sum32_5(e,r,n,t,i){return e+r+n+t+i>>>0}n.sum32_5=sum32_5;function sum64(e,r,n,t){var i=e[r];var a=e[r+1];var s=t+a>>>0;var f=(s<t?1:0)+n+i;e[r]=f>>>0;e[r+1]=s}n.sum64=sum64;function sum64_hi(e,r,n,t){var i=r+t>>>0;var a=(i<r?1:0)+e+n;return a>>>0}n.sum64_hi=sum64_hi;function sum64_lo(e,r,n,t){var i=r+t;return i>>>0}n.sum64_lo=sum64_lo;function sum64_4_hi(e,r,n,t,i,a,s,f){var c=0;var l=r;l=l+t>>>0;c+=l<r?1:0;l=l+a>>>0;c+=l<a?1:0;l=l+f>>>0;c+=l<f?1:0;var d=e+n+i+s+c;return d>>>0}n.sum64_4_hi=sum64_4_hi;function sum64_4_lo(e,r,n,t,i,a,s,f){var c=r+t+a+f;return c>>>0}n.sum64_4_lo=sum64_4_lo;function sum64_5_hi(e,r,n,t,i,a,s,f,c,l){var d=0;var o=r;o=o+t>>>0;d+=o<r?1:0;o=o+a>>>0;d+=o<a?1:0;o=o+f>>>0;d+=o<f?1:0;o=o+l>>>0;d+=o<l?1:0;var u=e+n+i+s+c+d;return u>>>0}n.sum64_5_hi=sum64_5_hi;function sum64_5_lo(e,r,n,t,i,a,s,f,c,l){var d=r+t+a+f+l;return d>>>0}n.sum64_5_lo=sum64_5_lo;function rotr64_hi(e,r,n){var t=r<<32-n|e>>>n;return t>>>0}n.rotr64_hi=rotr64_hi;function rotr64_lo(e,r,n){var t=e<<32-n|r>>>n;return t>>>0}n.rotr64_lo=rotr64_lo;function shr64_hi(e,r,n){return e>>>n}n.shr64_hi=shr64_hi;function shr64_lo(e,r,n){var t=e<<32-n|r>>>n;return t>>>0}n.shr64_lo=shr64_lo},{inherits:61,"minimalistic-assert":62}],60:[function(e,r,n){"use strict";var t=e("hash.js");var i=e("minimalistic-crypto-utils");var a=e("minimalistic-assert");function HmacDRBG(e){if(!(this instanceof HmacDRBG))return new HmacDRBG(e);this.hash=e.hash;this.predResist=!!e.predResist;this.outLen=this.hash.outSize;this.minEntropy=e.minEntropy||this.hash.hmacStrength;this._reseed=null;this.reseedInterval=null;this.K=null;this.V=null;var r=i.toArray(e.entropy,e.entropyEnc||"hex");var n=i.toArray(e.nonce,e.nonceEnc||"hex");var t=i.toArray(e.pers,e.persEnc||"hex");a(r.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._init(r,n,t)}r.exports=HmacDRBG;HmacDRBG.prototype._init=function init(e,r,n){var t=e.concat(r).concat(n);this.K=new Array(this.outLen/8);this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++){this.K[i]=0;this.V[i]=1}this._update(t);this._reseed=1;this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function hmac(){return new t.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function update(e){var r=this._hmac().update(this.V).update([0]);if(e)r=r.update(e);this.K=r.digest();this.V=this._hmac().update(this.V).digest();if(!e)return;this.K=this._hmac().update(this.V).update([1]).update(e).digest();this.V=this._hmac().update(this.V).digest()};HmacDRBG.prototype.reseed=function reseed(e,r,n,t){if(typeof r!=="string"){t=n;n=r;r=null}e=i.toArray(e,r);n=i.toArray(n,t);a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._update(e.concat(n||[]));this._reseed=1};HmacDRBG.prototype.generate=function generate(e,r,n,t){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");if(typeof r!=="string"){t=n;n=r;r=null}if(n){n=i.toArray(n,t||"hex");this._update(n)}var a=[];while(a.length<e){this.V=this._hmac().update(this.V).digest();a=a.concat(this.V)}var s=a.slice(0,e);this._update(n);this._reseed++;return i.encode(s,r)}},{"hash.js":48,"minimalistic-assert":62,"minimalistic-crypto-utils":63}],61:[function(e,r,n){if(typeof Object.create==="function"){r.exports=function inherits(e,r){e.super_=r;e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}else{r.exports=function inherits(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype;e.prototype=new n;e.prototype.constructor=e}}},{}],62:[function(e,r,n){r.exports=assert;function assert(e,r){if(!e)throw new Error(r||"Assertion failed")}assert.equal=function assertEqual(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)}},{}],63:[function(e,r,n){"use strict";var t=n;function toArray(e,r){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if(typeof e!=="string"){for(var t=0;t<e.length;t++)n[t]=e[t]|0;return n}if(r==="hex"){e=e.replace(/[^a-z0-9]+/gi,"");if(e.length%2!==0)e="0"+e;for(var t=0;t<e.length;t+=2)n.push(parseInt(e[t]+e[t+1],16))}else{for(var t=0;t<e.length;t++){var i=e.charCodeAt(t);var a=i>>8;var s=i&255;if(a)n.push(a,s);else n.push(s)}}return n}t.toArray=toArray;function zero2(e){if(e.length===1)return"0"+e;else return e}t.zero2=zero2;function toHex(e){var r="";for(var n=0;n<e.length;n++)r+=zero2(e[n].toString(16));return r}t.toHex=toHex;t.encode=function encode(e,r){if(r==="hex")return toHex(e);else return e}},{}],64:[function(e,r,n){"use strict";var t=e("./lib/utils/common").assign;var i=e("./lib/deflate");var a=e("./lib/inflate");var s=e("./lib/zlib/constants");var f={};t(f,i,a,s);r.exports=f},{"./lib/deflate":65,"./lib/inflate":66,"./lib/utils/common":67,"./lib/zlib/constants":70}],65:[function(e,r,n){"use strict";var t=e("./zlib/deflate");var i=e("./utils/common");var a=e("./utils/strings");var s=e("./zlib/messages");var f=e("./zlib/zstream");var c=Object.prototype.toString;var l=0;var d=4;var o=0;var u=1;var h=2;var p=-1;var v=0;var b=8;function Deflate(e){if(!(this instanceof Deflate))return new Deflate(e);this.options=i.assign({level:p,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},e||{});var r=this.options;if(r.raw&&r.windowBits>0){r.windowBits=-r.windowBits}else if(r.gzip&&r.windowBits>0&&r.windowBits<16){r.windowBits+=16}this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new f;this.strm.avail_out=0;var n=t.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(n!==o){throw new Error(s[n])}if(r.header){t.deflateSetHeader(this.strm,r.header)}if(r.dictionary){var l;if(typeof r.dictionary==="string"){l=a.string2buf(r.dictionary)}else if(c.call(r.dictionary)==="[object ArrayBuffer]"){l=new Uint8Array(r.dictionary)}else{l=r.dictionary}n=t.deflateSetDictionary(this.strm,l);if(n!==o){throw new Error(s[n])}this._dict_set=true}}Deflate.prototype.push=function(e,r){var n=this.strm;var s=this.options.chunkSize;var f,p;if(this.ended){return false}p=r===~~r?r:r===true?d:l;if(typeof e==="string"){n.input=a.string2buf(e)}else if(c.call(e)==="[object ArrayBuffer]"){n.input=new Uint8Array(e)}else{n.input=e}n.next_in=0;n.avail_in=n.input.length;do{if(n.avail_out===0){n.output=new i.Buf8(s);n.next_out=0;n.avail_out=s}f=t.deflate(n,p);if(f!==u&&f!==o){this.onEnd(f);this.ended=true;return false}if(n.avail_out===0||n.avail_in===0&&(p===d||p===h)){if(this.options.to==="string"){this.onData(a.buf2binstring(i.shrinkBuf(n.output,n.next_out)))}else{this.onData(i.shrinkBuf(n.output,n.next_out))}}}while((n.avail_in>0||n.avail_out===0)&&f!==u);if(p===d){f=t.deflateEnd(this.strm);this.onEnd(f);this.ended=true;return f===o}if(p===h){this.onEnd(o);n.avail_out=0;return true}return true};Deflate.prototype.onData=function(e){this.chunks.push(e)};Deflate.prototype.onEnd=function(e){if(e===o){if(this.options.to==="string"){this.result=this.chunks.join("")}else{this.result=i.flattenChunks(this.chunks)}}this.chunks=[];this.err=e;this.msg=this.strm.msg};function deflate(e,r){var n=new Deflate(r);n.push(e,true);if(n.err){throw n.msg||s[n.err]}return n.result}function deflateRaw(e,r){r=r||{};r.raw=true;return deflate(e,r)}function gzip(e,r){r=r||{};r.gzip=true;return deflate(e,r)}n.Deflate=Deflate;n.deflate=deflate;n.deflateRaw=deflateRaw;n.gzip=gzip},{"./utils/common":67,"./utils/strings":68,"./zlib/deflate":72,"./zlib/messages":77,"./zlib/zstream":79}],66:[function(e,r,n){"use strict";var t=e("./zlib/inflate");var i=e("./utils/common");var a=e("./utils/strings");var s=e("./zlib/constants");var f=e("./zlib/messages");var c=e("./zlib/zstream");var l=e("./zlib/gzheader");var d=Object.prototype.toString;function Inflate(e){if(!(this instanceof Inflate))return new Inflate(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var r=this.options;if(r.raw&&r.windowBits>=0&&r.windowBits<16){r.windowBits=-r.windowBits;if(r.windowBits===0){r.windowBits=-15}}if(r.windowBits>=0&&r.windowBits<16&&!(e&&e.windowBits)){r.windowBits+=32}if(r.windowBits>15&&r.windowBits<48){if((r.windowBits&15)===0){r.windowBits|=15}}this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new c;this.strm.avail_out=0;var n=t.inflateInit2(this.strm,r.windowBits);if(n!==s.Z_OK){throw new Error(f[n])}this.header=new l;t.inflateGetHeader(this.strm,this.header)}Inflate.prototype.push=function(e,r){var n=this.strm;var f=this.options.chunkSize;var c=this.options.dictionary;var l,o;var u,h,p;var v;var b=false;if(this.ended){return false}o=r===~~r?r:r===true?s.Z_FINISH:s.Z_NO_FLUSH;if(typeof e==="string"){n.input=a.binstring2buf(e)}else if(d.call(e)==="[object ArrayBuffer]"){n.input=new Uint8Array(e)}else{n.input=e}n.next_in=0;n.avail_in=n.input.length;do{if(n.avail_out===0){n.output=new i.Buf8(f);n.next_out=0;n.avail_out=f}l=t.inflate(n,s.Z_NO_FLUSH);if(l===s.Z_NEED_DICT&&c){if(typeof c==="string"){v=a.string2buf(c)}else if(d.call(c)==="[object ArrayBuffer]"){v=new Uint8Array(c)}else{v=c}l=t.inflateSetDictionary(this.strm,v)}if(l===s.Z_BUF_ERROR&&b===true){l=s.Z_OK;b=false}if(l!==s.Z_STREAM_END&&l!==s.Z_OK){this.onEnd(l);this.ended=true;return false}if(n.next_out){if(n.avail_out===0||l===s.Z_STREAM_END||n.avail_in===0&&(o===s.Z_FINISH||o===s.Z_SYNC_FLUSH)){if(this.options.to==="string"){u=a.utf8border(n.output,n.next_out);h=n.next_out-u;p=a.buf2string(n.output,u);n.next_out=h;n.avail_out=f-h;if(h){i.arraySet(n.output,n.output,u,h,0)}this.onData(p)}else{this.onData(i.shrinkBuf(n.output,n.next_out))}}}if(n.avail_in===0&&n.avail_out===0){b=true}}while((n.avail_in>0||n.avail_out===0)&&l!==s.Z_STREAM_END);if(l===s.Z_STREAM_END){o=s.Z_FINISH}if(o===s.Z_FINISH){l=t.inflateEnd(this.strm);this.onEnd(l);this.ended=true;return l===s.Z_OK}if(o===s.Z_SYNC_FLUSH){this.onEnd(s.Z_OK);n.avail_out=0;return true}return true};Inflate.prototype.onData=function(e){this.chunks.push(e)};Inflate.prototype.onEnd=function(e){if(e===s.Z_OK){if(this.options.to==="string"){this.result=this.chunks.join("")}else{this.result=i.flattenChunks(this.chunks)}}this.chunks=[];this.err=e;this.msg=this.strm.msg};function inflate(e,r){var n=new Inflate(r);n.push(e,true);if(n.err){throw n.msg||f[n.err]}return n.result}function inflateRaw(e,r){r=r||{};r.raw=true;return inflate(e,r)}n.Inflate=Inflate;n.inflate=inflate;n.inflateRaw=inflateRaw;n.ungzip=inflate},{"./utils/common":67,"./utils/strings":68,"./zlib/constants":70,"./zlib/gzheader":73,"./zlib/inflate":75,"./zlib/messages":77,"./zlib/zstream":79}],67:[function(e,r,n){"use strict";var t=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";function _has(e,r){return Object.prototype.hasOwnProperty.call(e,r)}n.assign=function(e){var r=Array.prototype.slice.call(arguments,1);while(r.length){var n=r.shift();if(!n){continue}if(typeof n!=="object"){throw new TypeError(n+"must be non-object")}for(var t in n){if(_has(n,t)){e[t]=n[t]}}}return e};n.shrinkBuf=function(e,r){if(e.length===r){return e}if(e.subarray){return e.subarray(0,r)}e.length=r;return e};var i={arraySet:function(e,r,n,t,i){if(r.subarray&&e.subarray){e.set(r.subarray(n,n+t),i);return}for(var a=0;a<t;a++){e[i+a]=r[n+a]}},flattenChunks:function(e){var r,n,t,i,a,s;t=0;for(r=0,n=e.length;r<n;r++){t+=e[r].length}s=new Uint8Array(t);i=0;for(r=0,n=e.length;r<n;r++){a=e[r];s.set(a,i);i+=a.length}return s}};var a={arraySet:function(e,r,n,t,i){for(var a=0;a<t;a++){e[i+a]=r[n+a]}},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){if(e){n.Buf8=Uint8Array;n.Buf16=Uint16Array;n.Buf32=Int32Array;n.assign(n,i)}else{n.Buf8=Array;n.Buf16=Array;n.Buf32=Array;n.assign(n,a)}};n.setTyped(t)},{}],68:[function(e,r,n){"use strict";var t=e("./common");var i=true;var a=true;try{String.fromCharCode.apply(null,[0])}catch(e){i=false}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=false}var s=new t.Buf8(256);for(var f=0;f<256;f++){s[f]=f>=252?6:f>=248?5:f>=240?4:f>=224?3:f>=192?2:1}s[254]=s[254]=1;n.string2buf=function(e){var r,n,i,a,s,f=e.length,c=0;for(a=0;a<f;a++){n=e.charCodeAt(a);if((n&64512)===55296&&a+1<f){i=e.charCodeAt(a+1);if((i&64512)===56320){n=65536+(n-55296<<10)+(i-56320);a++}}c+=n<128?1:n<2048?2:n<65536?3:4}r=new t.Buf8(c);for(s=0,a=0;s<c;a++){n=e.charCodeAt(a);if((n&64512)===55296&&a+1<f){i=e.charCodeAt(a+1);if((i&64512)===56320){n=65536+(n-55296<<10)+(i-56320);a++}}if(n<128){r[s++]=n}else if(n<2048){r[s++]=192|n>>>6;r[s++]=128|n&63}else if(n<65536){r[s++]=224|n>>>12;r[s++]=128|n>>>6&63;r[s++]=128|n&63}else{r[s++]=240|n>>>18;r[s++]=128|n>>>12&63;r[s++]=128|n>>>6&63;r[s++]=128|n&63}}return r};function buf2binstring(e,r){if(r<65537){if(e.subarray&&a||!e.subarray&&i){return String.fromCharCode.apply(null,t.shrinkBuf(e,r))}}var n="";for(var s=0;s<r;s++){n+=String.fromCharCode(e[s])}return n}n.buf2binstring=function(e){return buf2binstring(e,e.length)};n.binstring2buf=function(e){var r=new t.Buf8(e.length);for(var n=0,i=r.length;n<i;n++){r[n]=e.charCodeAt(n)}return r};n.buf2string=function(e,r){var n,t,i,a;var f=r||e.length;var c=new Array(f*2);for(t=0,n=0;n<f;){i=e[n++];if(i<128){c[t++]=i;continue}a=s[i];if(a>4){c[t++]=65533;n+=a-1;continue}i&=a===2?31:a===3?15:7;while(a>1&&n<f){i=i<<6|e[n++]&63;a--}if(a>1){c[t++]=65533;continue}if(i<65536){c[t++]=i}else{i-=65536;c[t++]=55296|i>>10&1023;c[t++]=56320|i&1023}}return buf2binstring(c,t)};n.utf8border=function(e,r){var n;r=r||e.length;if(r>e.length){r=e.length}n=r-1;while(n>=0&&(e[n]&192)===128){n--}if(n<0){return r}if(n===0){return r}return n+s[e[n]]>r?n:r}},{"./common":67}],69:[function(e,r,n){"use strict";function adler32(e,r,n,t){var i=e&65535|0,a=e>>>16&65535|0,s=0;while(n!==0){s=n>2e3?2e3:n;n-=s;do{i=i+r[t++]|0;a=a+i|0}while(--s);i%=65521;a%=65521}return i|a<<16|0}r.exports=adler32},{}],70:[function(e,r,n){"use strict";r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],71:[function(e,r,n){"use strict";function makeTable(){var e,r=[];for(var n=0;n<256;n++){e=n;for(var t=0;t<8;t++){e=e&1?3988292384^e>>>1:e>>>1}r[n]=e}return r}var t=makeTable();function crc32(e,r,n,i){var a=t,s=i+n;e^=-1;for(var f=i;f<s;f++){e=e>>>8^a[(e^r[f])&255]}return e^-1}r.exports=crc32},{}],72:[function(e,r,n){"use strict";var t=e("../utils/common");var i=e("./trees");var a=e("./adler32");var s=e("./crc32");var f=e("./messages");var c=0;var l=1;var d=3;var o=4;var u=5;var h=0;var p=1;var v=-2;var b=-3;var y=-5;var g=-1;var w=1;var m=2;var A=3;var E=4;var S=0;var k=2;var R=8;var M=9;var C=15;var D=8;var _=29;var j=256;var B=j+1+_;var q=30;var U=19;var x=2*B+1;var I=15;var K=3;var O=258;var F=O+K+1;var P=32;var T=42;var N=69;var z=73;var L=91;var W=103;var H=113;var G=666;var J=1;var Y=2;var Q=3;var Z=4;var X=3;function err(e,r){e.msg=f[r];return r}function rank(e){return(e<<1)-(e>4?9:0)}function zero(e){var r=e.length;while(--r>=0){e[r]=0}}function flush_pending(e){var r=e.state;var n=r.pending;if(n>e.avail_out){n=e.avail_out}if(n===0){return}t.arraySet(e.output,r.pending_buf,r.pending_out,n,e.next_out);e.next_out+=n;r.pending_out+=n;e.total_out+=n;e.avail_out-=n;r.pending-=n;if(r.pending===0){r.pending_out=0}}function flush_block_only(e,r){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,r);e.block_start=e.strstart;flush_pending(e.strm)}function put_byte(e,r){e.pending_buf[e.pending++]=r}function putShortMSB(e,r){e.pending_buf[e.pending++]=r>>>8&255;e.pending_buf[e.pending++]=r&255}function read_buf(e,r,n,i){var f=e.avail_in;if(f>i){f=i}if(f===0){return 0}e.avail_in-=f;t.arraySet(r,e.input,e.next_in,f,n);if(e.state.wrap===1){e.adler=a(e.adler,r,f,n)}else if(e.state.wrap===2){e.adler=s(e.adler,r,f,n)}e.next_in+=f;e.total_in+=f;return f}function longest_match(e,r){var n=e.max_chain_length;var t=e.strstart;var i;var a;var s=e.prev_length;var f=e.nice_match;var c=e.strstart>e.w_size-F?e.strstart-(e.w_size-F):0;var l=e.window;var d=e.w_mask;var o=e.prev;var u=e.strstart+O;var h=l[t+s-1];var p=l[t+s];if(e.prev_length>=e.good_match){n>>=2}if(f>e.lookahead){f=e.lookahead}do{i=r;if(l[i+s]!==p||l[i+s-1]!==h||l[i]!==l[t]||l[++i]!==l[t+1]){continue}t+=2;i++;do{}while(l[++t]===l[++i]&&l[++t]===l[++i]&&l[++t]===l[++i]&&l[++t]===l[++i]&&l[++t]===l[++i]&&l[++t]===l[++i]&&l[++t]===l[++i]&&l[++t]===l[++i]&&t<u);a=O-(u-t);t=u-O;if(a>s){e.match_start=r;s=a;if(a>=f){break}h=l[t+s-1];p=l[t+s]}}while((r=o[r&d])>c&&--n!==0);if(s<=e.lookahead){return s}return e.lookahead}function fill_window(e){var r=e.w_size;var n,i,a,s,f;do{s=e.window_size-e.lookahead-e.strstart;if(e.strstart>=r+(r-F)){t.arraySet(e.window,e.window,r,r,0);e.match_start-=r;e.strstart-=r;e.block_start-=r;i=e.hash_size;n=i;do{a=e.head[--n];e.head[n]=a>=r?a-r:0}while(--i);i=r;n=i;do{a=e.prev[--n];e.prev[n]=a>=r?a-r:0}while(--i);s+=r}if(e.strm.avail_in===0){break}i=read_buf(e.strm,e.window,e.strstart+e.lookahead,s);e.lookahead+=i;if(e.lookahead+e.insert>=K){f=e.strstart-e.insert;e.ins_h=e.window[f];e.ins_h=(e.ins_h<<e.hash_shift^e.window[f+1])&e.hash_mask;while(e.insert){e.ins_h=(e.ins_h<<e.hash_shift^e.window[f+K-1])&e.hash_mask;e.prev[f&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=f;f++;e.insert--;if(e.lookahead+e.insert<K){break}}}}while(e.lookahead<F&&e.strm.avail_in!==0)}function deflate_stored(e,r){var n=65535;if(n>e.pending_buf_size-5){n=e.pending_buf_size-5}for(;;){if(e.lookahead<=1){fill_window(e);if(e.lookahead===0&&r===c){return J}if(e.lookahead===0){break}}e.strstart+=e.lookahead;e.lookahead=0;var t=e.block_start+n;if(e.strstart===0||e.strstart>=t){e.lookahead=e.strstart-t;e.strstart=t;flush_block_only(e,false);if(e.strm.avail_out===0){return J}}if(e.strstart-e.block_start>=e.w_size-F){flush_block_only(e,false);if(e.strm.avail_out===0){return J}}}e.insert=0;if(r===o){flush_block_only(e,true);if(e.strm.avail_out===0){return Q}return Z}if(e.strstart>e.block_start){flush_block_only(e,false);if(e.strm.avail_out===0){return J}}return J}function deflate_fast(e,r){var n;var t;for(;;){if(e.lookahead<F){fill_window(e);if(e.lookahead<F&&r===c){return J}if(e.lookahead===0){break}}n=0;if(e.lookahead>=K){e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+K-1])&e.hash_mask;n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}if(n!==0&&e.strstart-n<=e.w_size-F){e.match_length=longest_match(e,n)}if(e.match_length>=K){t=i._tr_tally(e,e.strstart-e.match_start,e.match_length-K);e.lookahead-=e.match_length;if(e.match_length<=e.max_lazy_match&&e.lookahead>=K){e.match_length--;do{e.strstart++;e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+K-1])&e.hash_mask;n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}while(--e.match_length!==0);e.strstart++}else{e.strstart+=e.match_length;e.match_length=0;e.ins_h=e.window[e.strstart];e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask}}else{t=i._tr_tally(e,0,e.window[e.strstart]);e.lookahead--;e.strstart++}if(t){flush_block_only(e,false);if(e.strm.avail_out===0){return J}}}e.insert=e.strstart<K-1?e.strstart:K-1;if(r===o){flush_block_only(e,true);if(e.strm.avail_out===0){return Q}return Z}if(e.last_lit){flush_block_only(e,false);if(e.strm.avail_out===0){return J}}return Y}function deflate_slow(e,r){var n;var t;var a;for(;;){if(e.lookahead<F){fill_window(e);if(e.lookahead<F&&r===c){return J}if(e.lookahead===0){break}}n=0;if(e.lookahead>=K){e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+K-1])&e.hash_mask;n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}e.prev_length=e.match_length;e.prev_match=e.match_start;e.match_length=K-1;if(n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-F){e.match_length=longest_match(e,n);if(e.match_length<=5&&(e.strategy===w||e.match_length===K&&e.strstart-e.match_start>4096)){e.match_length=K-1}}if(e.prev_length>=K&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-K;t=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-K);e.lookahead-=e.prev_length-1;e.prev_length-=2;do{if(++e.strstart<=a){e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+K-1])&e.hash_mask;n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}}while(--e.prev_length!==0);e.match_available=0;e.match_length=K-1;e.strstart++;if(t){flush_block_only(e,false);if(e.strm.avail_out===0){return J}}}else if(e.match_available){t=i._tr_tally(e,0,e.window[e.strstart-1]);if(t){flush_block_only(e,false)}e.strstart++;e.lookahead--;if(e.strm.avail_out===0){return J}}else{e.match_available=1;e.strstart++;e.lookahead--}}if(e.match_available){t=i._tr_tally(e,0,e.window[e.strstart-1]);e.match_available=0}e.insert=e.strstart<K-1?e.strstart:K-1;if(r===o){flush_block_only(e,true);if(e.strm.avail_out===0){return Q}return Z}if(e.last_lit){flush_block_only(e,false);if(e.strm.avail_out===0){return J}}return Y}function deflate_rle(e,r){var n;var t;var a,s;var f=e.window;for(;;){if(e.lookahead<=O){fill_window(e);if(e.lookahead<=O&&r===c){return J}if(e.lookahead===0){break}}e.match_length=0;if(e.lookahead>=K&&e.strstart>0){a=e.strstart-1;t=f[a];if(t===f[++a]&&t===f[++a]&&t===f[++a]){s=e.strstart+O;do{}while(t===f[++a]&&t===f[++a]&&t===f[++a]&&t===f[++a]&&t===f[++a]&&t===f[++a]&&t===f[++a]&&t===f[++a]&&a<s);e.match_length=O-(s-a);if(e.match_length>e.lookahead){e.match_length=e.lookahead}}}if(e.match_length>=K){n=i._tr_tally(e,1,e.match_length-K);e.lookahead-=e.match_length;e.strstart+=e.match_length;e.match_length=0}else{n=i._tr_tally(e,0,e.window[e.strstart]);e.lookahead--;e.strstart++}if(n){flush_block_only(e,false);if(e.strm.avail_out===0){return J}}}e.insert=0;if(r===o){flush_block_only(e,true);if(e.strm.avail_out===0){return Q}return Z}if(e.last_lit){flush_block_only(e,false);if(e.strm.avail_out===0){return J}}return Y}function deflate_huff(e,r){var n;for(;;){if(e.lookahead===0){fill_window(e);if(e.lookahead===0){if(r===c){return J}break}}e.match_length=0;n=i._tr_tally(e,0,e.window[e.strstart]);e.lookahead--;e.strstart++;if(n){flush_block_only(e,false);if(e.strm.avail_out===0){return J}}}e.insert=0;if(r===o){flush_block_only(e,true);if(e.strm.avail_out===0){return Q}return Z}if(e.last_lit){flush_block_only(e,false);if(e.strm.avail_out===0){return J}}return Y}function Config(e,r,n,t,i){this.good_length=e;this.max_lazy=r;this.nice_length=n;this.max_chain=t;this.func=i}var V;V=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(e){e.window_size=2*e.w_size;zero(e.head);e.max_lazy_match=V[e.level].max_lazy;e.good_match=V[e.level].good_length;e.nice_match=V[e.level].nice_length;e.max_chain_length=V[e.level].max_chain;e.strstart=0;e.block_start=0;e.lookahead=0;e.insert=0;e.match_length=e.prev_length=K-1;e.match_available=0;e.ins_h=0}function DeflateState(){this.strm=null;this.status=0;this.pending_buf=null;this.pending_buf_size=0;this.pending_out=0;this.pending=0;this.wrap=0;this.gzhead=null;this.gzindex=0;this.method=R;this.last_flush=-1;this.w_size=0;this.w_bits=0;this.w_mask=0;this.window=null;this.window_size=0;this.prev=null;this.head=null;this.ins_h=0;this.hash_size=0;this.hash_bits=0;this.hash_mask=0;this.hash_shift=0;this.block_start=0;this.match_length=0;this.prev_match=0;this.match_available=0;this.strstart=0;this.match_start=0;this.lookahead=0;this.prev_length=0;this.max_chain_length=0;this.max_lazy_match=0;this.level=0;this.strategy=0;this.good_match=0;this.nice_match=0;this.dyn_ltree=new t.Buf16(x*2);this.dyn_dtree=new t.Buf16((2*q+1)*2);this.bl_tree=new t.Buf16((2*U+1)*2);zero(this.dyn_ltree);zero(this.dyn_dtree);zero(this.bl_tree);this.l_desc=null;this.d_desc=null;this.bl_desc=null;this.bl_count=new t.Buf16(I+1);this.heap=new t.Buf16(2*B+1);zero(this.heap);this.heap_len=0;this.heap_max=0;this.depth=new t.Buf16(2*B+1);zero(this.depth);this.l_buf=0;this.lit_bufsize=0;this.last_lit=0;this.d_buf=0;this.opt_len=0;this.static_len=0;this.matches=0;this.insert=0;this.bi_buf=0;this.bi_valid=0}function deflateResetKeep(e){var r;if(!e||!e.state){return err(e,v)}e.total_in=e.total_out=0;e.data_type=k;r=e.state;r.pending=0;r.pending_out=0;if(r.wrap<0){r.wrap=-r.wrap}r.status=r.wrap?T:H;e.adler=r.wrap===2?0:1;r.last_flush=c;i._tr_init(r);return h}function deflateReset(e){var r=deflateResetKeep(e);if(r===h){lm_init(e.state)}return r}function deflateSetHeader(e,r){if(!e||!e.state){return v}if(e.state.wrap!==2){return v}e.state.gzhead=r;return h}function deflateInit2(e,r,n,i,a,s){if(!e){return v}var f=1;if(r===g){r=6}if(i<0){f=0;i=-i}else if(i>15){f=2;i-=16}if(a<1||a>M||n!==R||i<8||i>15||r<0||r>9||s<0||s>E){return err(e,v)}if(i===8){i=9}var c=new DeflateState;e.state=c;c.strm=e;c.wrap=f;c.gzhead=null;c.w_bits=i;c.w_size=1<<c.w_bits;c.w_mask=c.w_size-1;c.hash_bits=a+7;c.hash_size=1<<c.hash_bits;c.hash_mask=c.hash_size-1;c.hash_shift=~~((c.hash_bits+K-1)/K);c.window=new t.Buf8(c.w_size*2);c.head=new t.Buf16(c.hash_size);c.prev=new t.Buf16(c.w_size);c.lit_bufsize=1<<a+6;c.pending_buf_size=c.lit_bufsize*4;c.pending_buf=new t.Buf8(c.pending_buf_size);c.d_buf=1*c.lit_bufsize;c.l_buf=(1+2)*c.lit_bufsize;c.level=r;c.strategy=s;c.method=n;return deflateReset(e)}function deflateInit(e,r){return deflateInit2(e,r,R,C,D,S)}function deflate(e,r){var n,t;var a,f;if(!e||!e.state||r>u||r<0){return e?err(e,v):v}t=e.state;if(!e.output||!e.input&&e.avail_in!==0||t.status===G&&r!==o){return err(e,e.avail_out===0?y:v)}t.strm=e;n=t.last_flush;t.last_flush=r;if(t.status===T){if(t.wrap===2){e.adler=0;put_byte(t,31);put_byte(t,139);put_byte(t,8);if(!t.gzhead){put_byte(t,0);put_byte(t,0);put_byte(t,0);put_byte(t,0);put_byte(t,0);put_byte(t,t.level===9?2:t.strategy>=m||t.level<2?4:0);put_byte(t,X);t.status=H}else{put_byte(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(!t.gzhead.extra?0:4)+(!t.gzhead.name?0:8)+(!t.gzhead.comment?0:16));put_byte(t,t.gzhead.time&255);put_byte(t,t.gzhead.time>>8&255);put_byte(t,t.gzhead.time>>16&255);put_byte(t,t.gzhead.time>>24&255);put_byte(t,t.level===9?2:t.strategy>=m||t.level<2?4:0);put_byte(t,t.gzhead.os&255);if(t.gzhead.extra&&t.gzhead.extra.length){put_byte(t,t.gzhead.extra.length&255);put_byte(t,t.gzhead.extra.length>>8&255)}if(t.gzhead.hcrc){e.adler=s(e.adler,t.pending_buf,t.pending,0)}t.gzindex=0;t.status=N}}else{var b=R+(t.w_bits-8<<4)<<8;var g=-1;if(t.strategy>=m||t.level<2){g=0}else if(t.level<6){g=1}else if(t.level===6){g=2}else{g=3}b|=g<<6;if(t.strstart!==0){b|=P}b+=31-b%31;t.status=H;putShortMSB(t,b);if(t.strstart!==0){putShortMSB(t,e.adler>>>16);putShortMSB(t,e.adler&65535)}e.adler=1}}if(t.status===N){if(t.gzhead.extra){a=t.pending;while(t.gzindex<(t.gzhead.extra.length&65535)){if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a){e.adler=s(e.adler,t.pending_buf,t.pending-a,a)}flush_pending(e);a=t.pending;if(t.pending===t.pending_buf_size){break}}put_byte(t,t.gzhead.extra[t.gzindex]&255);t.gzindex++}if(t.gzhead.hcrc&&t.pending>a){e.adler=s(e.adler,t.pending_buf,t.pending-a,a)}if(t.gzindex===t.gzhead.extra.length){t.gzindex=0;t.status=z}}else{t.status=z}}if(t.status===z){if(t.gzhead.name){a=t.pending;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a){e.adler=s(e.adler,t.pending_buf,t.pending-a,a)}flush_pending(e);a=t.pending;if(t.pending===t.pending_buf_size){f=1;break}}if(t.gzindex<t.gzhead.name.length){f=t.gzhead.name.charCodeAt(t.gzindex++)&255}else{f=0}put_byte(t,f)}while(f!==0);if(t.gzhead.hcrc&&t.pending>a){e.adler=s(e.adler,t.pending_buf,t.pending-a,a)}if(f===0){t.gzindex=0;t.status=L}}else{t.status=L}}if(t.status===L){if(t.gzhead.comment){a=t.pending;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a){e.adler=s(e.adler,t.pending_buf,t.pending-a,a)}flush_pending(e);a=t.pending;if(t.pending===t.pending_buf_size){f=1;break}}if(t.gzindex<t.gzhead.comment.length){f=t.gzhead.comment.charCodeAt(t.gzindex++)&255}else{f=0}put_byte(t,f)}while(f!==0);if(t.gzhead.hcrc&&t.pending>a){e.adler=s(e.adler,t.pending_buf,t.pending-a,a)}if(f===0){t.status=W}}else{t.status=W}}if(t.status===W){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size){flush_pending(e)}if(t.pending+2<=t.pending_buf_size){put_byte(t,e.adler&255);put_byte(t,e.adler>>8&255);e.adler=0;t.status=H}}else{t.status=H}}if(t.pending!==0){flush_pending(e);if(e.avail_out===0){t.last_flush=-1;return h}}else if(e.avail_in===0&&rank(r)<=rank(n)&&r!==o){return err(e,y)}if(t.status===G&&e.avail_in!==0){return err(e,y)}if(e.avail_in!==0||t.lookahead!==0||r!==c&&t.status!==G){var w=t.strategy===m?deflate_huff(t,r):t.strategy===A?deflate_rle(t,r):V[t.level].func(t,r);if(w===Q||w===Z){t.status=G}if(w===J||w===Q){if(e.avail_out===0){t.last_flush=-1}return h}if(w===Y){if(r===l){i._tr_align(t)}else if(r!==u){i._tr_stored_block(t,0,0,false);if(r===d){zero(t.head);if(t.lookahead===0){t.strstart=0;t.block_start=0;t.insert=0}}}flush_pending(e);if(e.avail_out===0){t.last_flush=-1;return h}}}if(r!==o){return h}if(t.wrap<=0){return p}if(t.wrap===2){put_byte(t,e.adler&255);put_byte(t,e.adler>>8&255);put_byte(t,e.adler>>16&255);put_byte(t,e.adler>>24&255);put_byte(t,e.total_in&255);put_byte(t,e.total_in>>8&255);put_byte(t,e.total_in>>16&255);put_byte(t,e.total_in>>24&255)}else{putShortMSB(t,e.adler>>>16);putShortMSB(t,e.adler&65535)}flush_pending(e);if(t.wrap>0){t.wrap=-t.wrap}return t.pending!==0?h:p}function deflateEnd(e){var r;if(!e||!e.state){return v}r=e.state.status;if(r!==T&&r!==N&&r!==z&&r!==L&&r!==W&&r!==H&&r!==G){return err(e,v)}e.state=null;return r===H?err(e,b):h}function deflateSetDictionary(e,r){var n=r.length;var i;var s,f;var c;var l;var d;var o;var u;if(!e||!e.state){return v}i=e.state;c=i.wrap;if(c===2||c===1&&i.status!==T||i.lookahead){return v}if(c===1){e.adler=a(e.adler,r,n,0)}i.wrap=0;if(n>=i.w_size){if(c===0){zero(i.head);i.strstart=0;i.block_start=0;i.insert=0}u=new t.Buf8(i.w_size);t.arraySet(u,r,n-i.w_size,i.w_size,0);r=u;n=i.w_size}l=e.avail_in;d=e.next_in;o=e.input;e.avail_in=n;e.next_in=0;e.input=r;fill_window(i);while(i.lookahead>=K){s=i.strstart;f=i.lookahead-(K-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[s+K-1])&i.hash_mask;i.prev[s&i.w_mask]=i.head[i.ins_h];i.head[i.ins_h]=s;s++}while(--f);i.strstart=s;i.lookahead=K-1;fill_window(i)}i.strstart+=i.lookahead;i.block_start=i.strstart;i.insert=i.lookahead;i.lookahead=0;i.match_length=i.prev_length=K-1;i.match_available=0;e.next_in=d;e.input=o;e.avail_in=l;i.wrap=c;return h}n.deflateInit=deflateInit;n.deflateInit2=deflateInit2;n.deflateReset=deflateReset;n.deflateResetKeep=deflateResetKeep;n.deflateSetHeader=deflateSetHeader;n.deflate=deflate;n.deflateEnd=deflateEnd;n.deflateSetDictionary=deflateSetDictionary;n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":67,"./adler32":69,"./crc32":71,"./messages":77,"./trees":78}],73:[function(e,r,n){"use strict";function GZheader(){this.text=0;this.time=0;this.xflags=0;this.os=0;this.extra=null;this.extra_len=0;this.name="";this.comment="";this.hcrc=0;this.done=false}r.exports=GZheader},{}],74:[function(e,r,n){"use strict";var t=30;var i=12;r.exports=function inflate_fast(e,r){var n;var a;var s;var f;var c;var l;var d;var o;var u;var h;var p;var v;var b;var y;var g;var w;var m;var A;var E;var S;var k;var R;var M;var C,D;n=e.state;a=e.next_in;C=e.input;s=a+(e.avail_in-5);f=e.next_out;D=e.output;c=f-(r-e.avail_out);l=f+(e.avail_out-257);d=n.dmax;o=n.wsize;u=n.whave;h=n.wnext;p=n.window;v=n.hold;b=n.bits;y=n.lencode;g=n.distcode;w=(1<<n.lenbits)-1;m=(1<<n.distbits)-1;e:do{if(b<15){v+=C[a++]<<b;b+=8;v+=C[a++]<<b;b+=8}A=y[v&w];r:for(;;){E=A>>>24;v>>>=E;b-=E;E=A>>>16&255;if(E===0){D[f++]=A&65535}else if(E&16){S=A&65535;E&=15;if(E){if(b<E){v+=C[a++]<<b;b+=8}S+=v&(1<<E)-1;v>>>=E;b-=E}if(b<15){v+=C[a++]<<b;b+=8;v+=C[a++]<<b;b+=8}A=g[v&m];n:for(;;){E=A>>>24;v>>>=E;b-=E;E=A>>>16&255;if(E&16){k=A&65535;E&=15;if(b<E){v+=C[a++]<<b;b+=8;if(b<E){v+=C[a++]<<b;b+=8}}k+=v&(1<<E)-1;if(k>d){e.msg="invalid distance too far back";n.mode=t;break e}v>>>=E;b-=E;E=f-c;if(k>E){E=k-E;if(E>u){if(n.sane){e.msg="invalid distance too far back";n.mode=t;break e}}R=0;M=p;if(h===0){R+=o-E;if(E<S){S-=E;do{D[f++]=p[R++]}while(--E);R=f-k;M=D}}else if(h<E){R+=o+h-E;E-=h;if(E<S){S-=E;do{D[f++]=p[R++]}while(--E);R=0;if(h<S){E=h;S-=E;do{D[f++]=p[R++]}while(--E);R=f-k;M=D}}}else{R+=h-E;if(E<S){S-=E;do{D[f++]=p[R++]}while(--E);R=f-k;M=D}}while(S>2){D[f++]=M[R++];D[f++]=M[R++];D[f++]=M[R++];S-=3}if(S){D[f++]=M[R++];if(S>1){D[f++]=M[R++]}}}else{R=f-k;do{D[f++]=D[R++];D[f++]=D[R++];D[f++]=D[R++];S-=3}while(S>2);if(S){D[f++]=D[R++];if(S>1){D[f++]=D[R++]}}}}else if((E&64)===0){A=g[(A&65535)+(v&(1<<E)-1)];continue n}else{e.msg="invalid distance code";n.mode=t;break e}break}}else if((E&64)===0){A=y[(A&65535)+(v&(1<<E)-1)];continue r}else if(E&32){n.mode=i;break e}else{e.msg="invalid literal/length code";n.mode=t;break e}break}}while(a<s&&f<l);S=b>>3;a-=S;b-=S<<3;v&=(1<<b)-1;e.next_in=a;e.next_out=f;e.avail_in=a<s?5+(s-a):5-(a-s);e.avail_out=f<l?257+(l-f):257-(f-l);n.hold=v;n.bits=b;return}},{}],75:[function(e,r,n){"use strict";var t=e("../utils/common");var i=e("./adler32");var a=e("./crc32");var s=e("./inffast");var f=e("./inftrees");var c=0;var l=1;var d=2;var o=4;var u=5;var h=6;var p=0;var v=1;var b=2;var y=-2;var g=-3;var w=-4;var m=-5;var A=8;var E=1;var S=2;var k=3;var R=4;var M=5;var C=6;var D=7;var _=8;var j=9;var B=10;var q=11;var U=12;var x=13;var I=14;var K=15;var O=16;var F=17;var P=18;var T=19;var N=20;var z=21;var L=22;var W=23;var H=24;var G=25;var J=26;var Y=27;var Q=28;var Z=29;var X=30;var V=31;var $=32;var ee=852;var re=592;var ne=15;var te=ne;function zswap32(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function InflateState(){this.mode=0;this.last=false;this.wrap=0;this.havedict=false;this.flags=0;this.dmax=0;this.check=0;this.total=0;this.head=null;this.wbits=0;this.wsize=0;this.whave=0;this.wnext=0;this.window=null;this.hold=0;this.bits=0;this.length=0;this.offset=0;this.extra=0;this.lencode=null;this.distcode=null;this.lenbits=0;this.distbits=0;this.ncode=0;this.nlen=0;this.ndist=0;this.have=0;this.next=null;this.lens=new t.Buf16(320);this.work=new t.Buf16(288);this.lendyn=null;this.distdyn=null;this.sane=0;this.back=0;this.was=0}function inflateResetKeep(e){var r;if(!e||!e.state){return y}r=e.state;e.total_in=e.total_out=r.total=0;e.msg="";if(r.wrap){e.adler=r.wrap&1}r.mode=E;r.last=0;r.havedict=0;r.dmax=32768;r.head=null;r.hold=0;r.bits=0;r.lencode=r.lendyn=new t.Buf32(ee);r.distcode=r.distdyn=new t.Buf32(re);r.sane=1;r.back=-1;return p}function inflateReset(e){var r;if(!e||!e.state){return y}r=e.state;r.wsize=0;r.whave=0;r.wnext=0;return inflateResetKeep(e)}function inflateReset2(e,r){var n;var t;if(!e||!e.state){return y}t=e.state;if(r<0){n=0;r=-r}else{n=(r>>4)+1;if(r<48){r&=15}}if(r&&(r<8||r>15)){return y}if(t.window!==null&&t.wbits!==r){t.window=null}t.wrap=n;t.wbits=r;return inflateReset(e)}function inflateInit2(e,r){var n;var t;if(!e){return y}t=new InflateState;e.state=t;t.window=null;n=inflateReset2(e,r);if(n!==p){e.state=null}return n}function inflateInit(e){return inflateInit2(e,te)}var ie=true;var ae,se;function fixedtables(e){if(ie){var r;ae=new t.Buf32(512);se=new t.Buf32(32);r=0;while(r<144){e.lens[r++]=8}while(r<256){e.lens[r++]=9}while(r<280){e.lens[r++]=7}while(r<288){e.lens[r++]=8}f(l,e.lens,0,288,ae,0,e.work,{bits:9});r=0;while(r<32){e.lens[r++]=5}f(d,e.lens,0,32,se,0,e.work,{bits:5});ie=false}e.lencode=ae;e.lenbits=9;e.distcode=se;e.distbits=5}function updatewindow(e,r,n,i){var a;var s=e.state;if(s.window===null){s.wsize=1<<s.wbits;s.wnext=0;s.whave=0;s.window=new t.Buf8(s.wsize)}if(i>=s.wsize){t.arraySet(s.window,r,n-s.wsize,s.wsize,0);s.wnext=0;s.whave=s.wsize}else{a=s.wsize-s.wnext;if(a>i){a=i}t.arraySet(s.window,r,n-i,a,s.wnext);i-=a;if(i){t.arraySet(s.window,r,n-i,i,0);s.wnext=i;s.whave=s.wsize}else{s.wnext+=a;if(s.wnext===s.wsize){s.wnext=0}if(s.whave<s.wsize){s.whave+=a}}}return 0}function inflate(e,r){var n;var ee,re;var ne;var te;var ie,ae;var se;var fe;var ce,le;var de;var oe;var ue;var he=0;var pe,ve,be;var ye,ge,we;var me;var Ae;var Ee=new t.Buf8(4);var Se;var ke;var Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0){return y}n=e.state;if(n.mode===U){n.mode=x}te=e.next_out;re=e.output;ae=e.avail_out;ne=e.next_in;ee=e.input;ie=e.avail_in;se=n.hold;fe=n.bits;ce=ie;le=ae;Ae=p;e:for(;;){switch(n.mode){case E:if(n.wrap===0){n.mode=x;break}while(fe<16){if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}if(n.wrap&2&&se===35615){n.check=0;Ee[0]=se&255;Ee[1]=se>>>8&255;n.check=a(n.check,Ee,2,0);se=0;fe=0;n.mode=S;break}n.flags=0;if(n.head){n.head.done=false}if(!(n.wrap&1)||(((se&255)<<8)+(se>>8))%31){e.msg="incorrect header check";n.mode=X;break}if((se&15)!==A){e.msg="unknown compression method";n.mode=X;break}se>>>=4;fe-=4;me=(se&15)+8;if(n.wbits===0){n.wbits=me}else if(me>n.wbits){e.msg="invalid window size";n.mode=X;break}n.dmax=1<<me;e.adler=n.check=1;n.mode=se&512?B:U;se=0;fe=0;break;case S:while(fe<16){if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}n.flags=se;if((n.flags&255)!==A){e.msg="unknown compression method";n.mode=X;break}if(n.flags&57344){e.msg="unknown header flags set";n.mode=X;break}if(n.head){n.head.text=se>>8&1}if(n.flags&512){Ee[0]=se&255;Ee[1]=se>>>8&255;n.check=a(n.check,Ee,2,0)}se=0;fe=0;n.mode=k;case k:while(fe<32){if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}if(n.head){n.head.time=se}if(n.flags&512){Ee[0]=se&255;Ee[1]=se>>>8&255;Ee[2]=se>>>16&255;Ee[3]=se>>>24&255;n.check=a(n.check,Ee,4,0)}se=0;fe=0;n.mode=R;case R:while(fe<16){if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}if(n.head){n.head.xflags=se&255;n.head.os=se>>8}if(n.flags&512){Ee[0]=se&255;Ee[1]=se>>>8&255;n.check=a(n.check,Ee,2,0)}se=0;fe=0;n.mode=M;case M:if(n.flags&1024){while(fe<16){if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}n.length=se;if(n.head){n.head.extra_len=se}if(n.flags&512){Ee[0]=se&255;Ee[1]=se>>>8&255;n.check=a(n.check,Ee,2,0)}se=0;fe=0}else if(n.head){n.head.extra=null}n.mode=C;case C:if(n.flags&1024){de=n.length;if(de>ie){de=ie}if(de){if(n.head){me=n.head.extra_len-n.length;if(!n.head.extra){n.head.extra=new Array(n.head.extra_len)}t.arraySet(n.head.extra,ee,ne,de,me)}if(n.flags&512){n.check=a(n.check,ee,de,ne)}ie-=de;ne+=de;n.length-=de}if(n.length){break e}}n.length=0;n.mode=D;case D:if(n.flags&2048){if(ie===0){break e}de=0;do{me=ee[ne+de++];if(n.head&&me&&n.length<65536){n.head.name+=String.fromCharCode(me)}}while(me&&de<ie);if(n.flags&512){n.check=a(n.check,ee,de,ne)}ie-=de;ne+=de;if(me){break e}}else if(n.head){n.head.name=null}n.length=0;n.mode=_;case _:if(n.flags&4096){if(ie===0){break e}de=0;do{me=ee[ne+de++];if(n.head&&me&&n.length<65536){n.head.comment+=String.fromCharCode(me)}}while(me&&de<ie);if(n.flags&512){n.check=a(n.check,ee,de,ne)}ie-=de;ne+=de;if(me){break e}}else if(n.head){n.head.comment=null}n.mode=j;case j:if(n.flags&512){while(fe<16){if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}if(se!==(n.check&65535)){e.msg="header crc mismatch";n.mode=X;break}se=0;fe=0}if(n.head){n.head.hcrc=n.flags>>9&1;n.head.done=true}e.adler=n.check=0;n.mode=U;break;case B:while(fe<32){if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}e.adler=n.check=zswap32(se);se=0;fe=0;n.mode=q;case q:if(n.havedict===0){e.next_out=te;e.avail_out=ae;e.next_in=ne;e.avail_in=ie;n.hold=se;n.bits=fe;return b}e.adler=n.check=1;n.mode=U;case U:if(r===u||r===h){break e}case x:if(n.last){se>>>=fe&7;fe-=fe&7;n.mode=Y;break}while(fe<3){if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}n.last=se&1;se>>>=1;fe-=1;switch(se&3){case 0:n.mode=I;break;case 1:fixedtables(n);n.mode=N;if(r===h){se>>>=2;fe-=2;break e}break;case 2:n.mode=F;break;case 3:e.msg="invalid block type";n.mode=X}se>>>=2;fe-=2;break;case I:se>>>=fe&7;fe-=fe&7;while(fe<32){if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}if((se&65535)!==(se>>>16^65535)){e.msg="invalid stored block lengths";n.mode=X;break}n.length=se&65535;se=0;fe=0;n.mode=K;if(r===h){break e}case K:n.mode=O;case O:de=n.length;if(de){if(de>ie){de=ie}if(de>ae){de=ae}if(de===0){break e}t.arraySet(re,ee,ne,de,te);ie-=de;ne+=de;ae-=de;te+=de;n.length-=de;break}n.mode=U;break;case F:while(fe<14){if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}n.nlen=(se&31)+257;se>>>=5;fe-=5;n.ndist=(se&31)+1;se>>>=5;fe-=5;n.ncode=(se&15)+4;se>>>=4;fe-=4;if(n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols";n.mode=X;break}n.have=0;n.mode=P;case P:while(n.have<n.ncode){while(fe<3){if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}n.lens[Re[n.have++]]=se&7;se>>>=3;fe-=3}while(n.have<19){n.lens[Re[n.have++]]=0}n.lencode=n.lendyn;n.lenbits=7;Se={bits:n.lenbits};Ae=f(c,n.lens,0,19,n.lencode,0,n.work,Se);n.lenbits=Se.bits;if(Ae){e.msg="invalid code lengths set";n.mode=X;break}n.have=0;n.mode=T;case T:while(n.have<n.nlen+n.ndist){for(;;){he=n.lencode[se&(1<<n.lenbits)-1];pe=he>>>24;ve=he>>>16&255;be=he&65535;if(pe<=fe){break}if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}if(be<16){se>>>=pe;fe-=pe;n.lens[n.have++]=be}else{if(be===16){ke=pe+2;while(fe<ke){if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}se>>>=pe;fe-=pe;if(n.have===0){e.msg="invalid bit length repeat";n.mode=X;break}me=n.lens[n.have-1];de=3+(se&3);se>>>=2;fe-=2}else if(be===17){ke=pe+3;while(fe<ke){if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}se>>>=pe;fe-=pe;me=0;de=3+(se&7);se>>>=3;fe-=3}else{ke=pe+7;while(fe<ke){if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}se>>>=pe;fe-=pe;me=0;de=11+(se&127);se>>>=7;fe-=7}if(n.have+de>n.nlen+n.ndist){e.msg="invalid bit length repeat";n.mode=X;break}while(de--){n.lens[n.have++]=me}}}if(n.mode===X){break}if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block";n.mode=X;break}n.lenbits=9;Se={bits:n.lenbits};Ae=f(l,n.lens,0,n.nlen,n.lencode,0,n.work,Se);n.lenbits=Se.bits;if(Ae){e.msg="invalid literal/lengths set";n.mode=X;break}n.distbits=6;n.distcode=n.distdyn;Se={bits:n.distbits};Ae=f(d,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Se);n.distbits=Se.bits;if(Ae){e.msg="invalid distances set";n.mode=X;break}n.mode=N;if(r===h){break e}case N:n.mode=z;case z:if(ie>=6&&ae>=258){e.next_out=te;e.avail_out=ae;e.next_in=ne;e.avail_in=ie;n.hold=se;n.bits=fe;s(e,le);te=e.next_out;re=e.output;ae=e.avail_out;ne=e.next_in;ee=e.input;ie=e.avail_in;se=n.hold;fe=n.bits;if(n.mode===U){n.back=-1}break}n.back=0;for(;;){he=n.lencode[se&(1<<n.lenbits)-1];pe=he>>>24;ve=he>>>16&255;be=he&65535;if(pe<=fe){break}if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}if(ve&&(ve&240)===0){ye=pe;ge=ve;we=be;for(;;){he=n.lencode[we+((se&(1<<ye+ge)-1)>>ye)];pe=he>>>24;ve=he>>>16&255;be=he&65535;if(ye+pe<=fe){break}if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}se>>>=ye;fe-=ye;n.back+=ye}se>>>=pe;fe-=pe;n.back+=pe;n.length=be;if(ve===0){n.mode=J;break}if(ve&32){n.back=-1;n.mode=U;break}if(ve&64){e.msg="invalid literal/length code";n.mode=X;break}n.extra=ve&15;n.mode=L;case L:if(n.extra){ke=n.extra;while(fe<ke){if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}n.length+=se&(1<<n.extra)-1;se>>>=n.extra;fe-=n.extra;n.back+=n.extra}n.was=n.length;n.mode=W;case W:for(;;){he=n.distcode[se&(1<<n.distbits)-1];pe=he>>>24;ve=he>>>16&255;be=he&65535;if(pe<=fe){break}if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}if((ve&240)===0){ye=pe;ge=ve;we=be;for(;;){he=n.distcode[we+((se&(1<<ye+ge)-1)>>ye)];pe=he>>>24;ve=he>>>16&255;be=he&65535;if(ye+pe<=fe){break}if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}se>>>=ye;fe-=ye;n.back+=ye}se>>>=pe;fe-=pe;n.back+=pe;if(ve&64){e.msg="invalid distance code";n.mode=X;break}n.offset=be;n.extra=ve&15;n.mode=H;case H:if(n.extra){ke=n.extra;while(fe<ke){if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}n.offset+=se&(1<<n.extra)-1;se>>>=n.extra;fe-=n.extra;n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back";n.mode=X;break}n.mode=G;case G:if(ae===0){break e}de=le-ae;if(n.offset>de){de=n.offset-de;if(de>n.whave){if(n.sane){e.msg="invalid distance too far back";n.mode=X;break}}if(de>n.wnext){de-=n.wnext;oe=n.wsize-de}else{oe=n.wnext-de}if(de>n.length){de=n.length}ue=n.window}else{ue=re;oe=te-n.offset;de=n.length}if(de>ae){de=ae}ae-=de;n.length-=de;do{re[te++]=ue[oe++]}while(--de);if(n.length===0){n.mode=z}break;case J:if(ae===0){break e}re[te++]=n.length;ae--;n.mode=z;break;case Y:if(n.wrap){while(fe<32){if(ie===0){break e}ie--;se|=ee[ne++]<<fe;fe+=8}le-=ae;e.total_out+=le;n.total+=le;if(le){e.adler=n.check=n.flags?a(n.check,re,le,te-le):i(n.check,re,le,te-le)}le=ae;if((n.flags?se:zswap32(se))!==n.check){e.msg="incorrect data check";n.mode=X;break}se=0;fe=0}n.mode=Q;case Q:if(n.wrap&&n.flags){while(fe<32){if(ie===0){break e}ie--;se+=ee[ne++]<<fe;fe+=8}if(se!==(n.total&4294967295)){e.msg="incorrect length check";n.mode=X;break}se=0;fe=0}n.mode=Z;case Z:Ae=v;break e;case X:Ae=g;break e;case V:return w;case $:default:return y}}e.next_out=te;e.avail_out=ae;e.next_in=ne;e.avail_in=ie;n.hold=se;n.bits=fe;if(n.wsize||le!==e.avail_out&&n.mode<X&&(n.mode<Y||r!==o)){if(updatewindow(e,e.output,e.next_out,le-e.avail_out)){n.mode=V;return w}}ce-=e.avail_in;le-=e.avail_out;e.total_in+=ce;e.total_out+=le;n.total+=le;if(n.wrap&&le){e.adler=n.check=n.flags?a(n.check,re,le,e.next_out-le):i(n.check,re,le,e.next_out-le)}e.data_type=n.bits+(n.last?64:0)+(n.mode===U?128:0)+(n.mode===N||n.mode===K?256:0);if((ce===0&&le===0||r===o)&&Ae===p){Ae=m}return Ae}function inflateEnd(e){if(!e||!e.state){return y}var r=e.state;if(r.window){r.window=null}e.state=null;return p}function inflateGetHeader(e,r){var n;if(!e||!e.state){return y}n=e.state;if((n.wrap&2)===0){return y}n.head=r;r.done=false;return p}function inflateSetDictionary(e,r){var n=r.length;var t;var a;var s;if(!e||!e.state){return y}t=e.state;if(t.wrap!==0&&t.mode!==q){return y}if(t.mode===q){a=1;a=i(a,r,n,0);if(a!==t.check){return g}}s=updatewindow(e,r,n,n);if(s){t.mode=V;return w}t.havedict=1;return p}n.inflateReset=inflateReset;n.inflateReset2=inflateReset2;n.inflateResetKeep=inflateResetKeep;n.inflateInit=inflateInit;n.inflateInit2=inflateInit2;n.inflate=inflate;n.inflateEnd=inflateEnd;n.inflateGetHeader=inflateGetHeader;n.inflateSetDictionary=inflateSetDictionary;n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":67,"./adler32":69,"./crc32":71,"./inffast":74,"./inftrees":76}],76:[function(e,r,n){"use strict";var t=e("../utils/common");var i=15;var a=852;var s=592;var f=0;var c=1;var l=2;var d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];var o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78];var u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0];var h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function inflate_table(e,r,n,p,v,b,y,g){var w=g.bits;var m=0;var A=0;var E=0,S=0;var k=0;var R=0;var M=0;var C=0;var D=0;var _=0;var j;var B;var q;var U;var x;var I=null;var K=0;var O;var F=new t.Buf16(i+1);var P=new t.Buf16(i+1);var T=null;var N=0;var z,L,W;for(m=0;m<=i;m++){F[m]=0}for(A=0;A<p;A++){F[r[n+A]]++}k=w;for(S=i;S>=1;S--){if(F[S]!==0){break}}if(k>S){k=S}if(S===0){v[b++]=1<<24|64<<16|0;v[b++]=1<<24|64<<16|0;g.bits=1;return 0}for(E=1;E<S;E++){if(F[E]!==0){break}}if(k<E){k=E}C=1;for(m=1;m<=i;m++){C<<=1;C-=F[m];if(C<0){return-1}}if(C>0&&(e===f||S!==1)){return-1}P[1]=0;for(m=1;m<i;m++){P[m+1]=P[m]+F[m]}for(A=0;A<p;A++){if(r[n+A]!==0){y[P[r[n+A]]++]=A}}if(e===f){I=T=y;O=19}else if(e===c){I=d;K-=257;T=o;N-=257;O=256}else{I=u;T=h;O=-1}_=0;A=0;m=E;x=b;R=k;M=0;q=-1;D=1<<k;U=D-1;if(e===c&&D>a||e===l&&D>s){return 1}for(;;){z=m-M;if(y[A]<O){L=0;W=y[A]}else if(y[A]>O){L=T[N+y[A]];W=I[K+y[A]]}else{L=32+64;W=0}j=1<<m-M;B=1<<R;E=B;do{B-=j;v[x+(_>>M)+B]=z<<24|L<<16|W|0}while(B!==0);j=1<<m-1;while(_&j){j>>=1}if(j!==0){_&=j-1;_+=j}else{_=0}A++;if(--F[m]===0){if(m===S){break}m=r[n+y[A]]}if(m>k&&(_&U)!==q){if(M===0){M=k}x+=E;R=m-M;C=1<<R;while(R+M<S){C-=F[R+M];if(C<=0){break}R++;C<<=1}D+=1<<R;if(e===c&&D>a||e===l&&D>s){return 1}q=_&U;v[q]=k<<24|R<<16|x-b|0}}if(_!==0){v[x+_]=m-M<<24|64<<16|0}g.bits=k;return 0}},{"../utils/common":67}],77:[function(e,r,n){"use strict";r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],78:[function(e,r,n){"use strict";var t=e("../utils/common");var i=4;var a=0;var s=1;var f=2;function zero(e){var r=e.length;while(--r>=0){e[r]=0}}var c=0;var l=1;var d=2;var o=3;var u=258;var h=29;var p=256;var v=p+1+h;var b=30;var y=19;var g=2*v+1;var w=15;var m=16;var A=7;var E=256;var S=16;var k=17;var R=18;var M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];var C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];var _=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var j=512;var B=new Array((v+2)*2);zero(B);var q=new Array(b*2);zero(q);var U=new Array(j);zero(U);var x=new Array(u-o+1);zero(x);var I=new Array(h);zero(I);var K=new Array(b);zero(K);function StaticTreeDesc(e,r,n,t,i){this.static_tree=e;this.extra_bits=r;this.extra_base=n;this.elems=t;this.max_length=i;this.has_stree=e&&e.length}var O;var F;var P;function TreeDesc(e,r){this.dyn_tree=e;this.max_code=0;this.stat_desc=r}function d_code(e){return e<256?U[e]:U[256+(e>>>7)]}function put_short(e,r){e.pending_buf[e.pending++]=r&255;e.pending_buf[e.pending++]=r>>>8&255}function send_bits(e,r,n){if(e.bi_valid>m-n){e.bi_buf|=r<<e.bi_valid&65535;put_short(e,e.bi_buf);e.bi_buf=r>>m-e.bi_valid;e.bi_valid+=n-m}else{e.bi_buf|=r<<e.bi_valid&65535;e.bi_valid+=n}}function send_code(e,r,n){send_bits(e,n[r*2],n[r*2+1])}function bi_reverse(e,r){var n=0;do{n|=e&1;e>>>=1;n<<=1}while(--r>0);return n>>>1}function bi_flush(e){if(e.bi_valid===16){put_short(e,e.bi_buf);e.bi_buf=0;e.bi_valid=0}else if(e.bi_valid>=8){e.pending_buf[e.pending++]=e.bi_buf&255;e.bi_buf>>=8;e.bi_valid-=8}}function gen_bitlen(e,r){var n=r.dyn_tree;var t=r.max_code;var i=r.stat_desc.static_tree;var a=r.stat_desc.has_stree;var s=r.stat_desc.extra_bits;var f=r.stat_desc.extra_base;var c=r.stat_desc.max_length;var l;var d,o;var u;var h;var p;var v=0;for(u=0;u<=w;u++){e.bl_count[u]=0}n[e.heap[e.heap_max]*2+1]=0;for(l=e.heap_max+1;l<g;l++){d=e.heap[l];u=n[n[d*2+1]*2+1]+1;if(u>c){u=c;v++}n[d*2+1]=u;if(d>t){continue}e.bl_count[u]++;h=0;if(d>=f){h=s[d-f]}p=n[d*2];e.opt_len+=p*(u+h);if(a){e.static_len+=p*(i[d*2+1]+h)}}if(v===0){return}do{u=c-1;while(e.bl_count[u]===0){u--}e.bl_count[u]--;e.bl_count[u+1]+=2;e.bl_count[c]--;v-=2}while(v>0);for(u=c;u!==0;u--){d=e.bl_count[u];while(d!==0){o=e.heap[--l];if(o>t){continue}if(n[o*2+1]!==u){e.opt_len+=(u-n[o*2+1])*n[o*2];n[o*2+1]=u}d--}}}function gen_codes(e,r,n){var t=new Array(w+1);var i=0;var a;var s;for(a=1;a<=w;a++){t[a]=i=i+n[a-1]<<1}for(s=0;s<=r;s++){var f=e[s*2+1];if(f===0){continue}e[s*2]=bi_reverse(t[f]++,f)}}function tr_static_init(){var e;var r;var n;var t;var i;var a=new Array(w+1);n=0;for(t=0;t<h-1;t++){I[t]=n;for(e=0;e<1<<M[t];e++){x[n++]=t}}x[n-1]=t;i=0;for(t=0;t<16;t++){K[t]=i;for(e=0;e<1<<C[t];e++){U[i++]=t}}i>>=7;for(;t<b;t++){K[t]=i<<7;for(e=0;e<1<<C[t]-7;e++){U[256+i++]=t}}for(r=0;r<=w;r++){a[r]=0}e=0;while(e<=143){B[e*2+1]=8;e++;a[8]++}while(e<=255){B[e*2+1]=9;e++;a[9]++}while(e<=279){B[e*2+1]=7;e++;a[7]++}while(e<=287){B[e*2+1]=8;e++;a[8]++}gen_codes(B,v+1,a);for(e=0;e<b;e++){q[e*2+1]=5;q[e*2]=bi_reverse(e,5)}O=new StaticTreeDesc(B,M,p+1,v,w);F=new StaticTreeDesc(q,C,0,b,w);P=new StaticTreeDesc(new Array(0),D,0,y,A)}function init_block(e){var r;for(r=0;r<v;r++){e.dyn_ltree[r*2]=0}for(r=0;r<b;r++){e.dyn_dtree[r*2]=0}for(r=0;r<y;r++){e.bl_tree[r*2]=0}e.dyn_ltree[E*2]=1;e.opt_len=e.static_len=0;e.last_lit=e.matches=0}function bi_windup(e){if(e.bi_valid>8){put_short(e,e.bi_buf)}else if(e.bi_valid>0){e.pending_buf[e.pending++]=e.bi_buf}e.bi_buf=0;e.bi_valid=0}function copy_block(e,r,n,i){bi_windup(e);if(i){put_short(e,n);put_short(e,~n)}t.arraySet(e.pending_buf,e.window,r,n,e.pending);e.pending+=n}function smaller(e,r,n,t){var i=r*2;var a=n*2;return e[i]<e[a]||e[i]===e[a]&&t[r]<=t[n]}function pqdownheap(e,r,n){var t=e.heap[n];var i=n<<1;while(i<=e.heap_len){if(i<e.heap_len&&smaller(r,e.heap[i+1],e.heap[i],e.depth)){i++}if(smaller(r,t,e.heap[i],e.depth)){break}e.heap[n]=e.heap[i];n=i;i<<=1}e.heap[n]=t}function compress_block(e,r,n){var t;var i;var a=0;var s;var f;if(e.last_lit!==0){do{t=e.pending_buf[e.d_buf+a*2]<<8|e.pending_buf[e.d_buf+a*2+1];i=e.pending_buf[e.l_buf+a];a++;if(t===0){send_code(e,i,r)}else{s=x[i];send_code(e,s+p+1,r);f=M[s];if(f!==0){i-=I[s];send_bits(e,i,f)}t--;s=d_code(t);send_code(e,s,n);f=C[s];if(f!==0){t-=K[s];send_bits(e,t,f)}}}while(a<e.last_lit)}send_code(e,E,r)}function build_tree(e,r){var n=r.dyn_tree;var t=r.stat_desc.static_tree;var i=r.stat_desc.has_stree;var a=r.stat_desc.elems;var s,f;var c=-1;var l;e.heap_len=0;e.heap_max=g;for(s=0;s<a;s++){if(n[s*2]!==0){e.heap[++e.heap_len]=c=s;e.depth[s]=0}else{n[s*2+1]=0}}while(e.heap_len<2){l=e.heap[++e.heap_len]=c<2?++c:0;n[l*2]=1;e.depth[l]=0;e.opt_len--;if(i){e.static_len-=t[l*2+1]}}r.max_code=c;for(s=e.heap_len>>1;s>=1;s--){pqdownheap(e,n,s)}l=a;do{s=e.heap[1];e.heap[1]=e.heap[e.heap_len--];pqdownheap(e,n,1);f=e.heap[1];e.heap[--e.heap_max]=s;e.heap[--e.heap_max]=f;n[l*2]=n[s*2]+n[f*2];e.depth[l]=(e.depth[s]>=e.depth[f]?e.depth[s]:e.depth[f])+1;n[s*2+1]=n[f*2+1]=l;e.heap[1]=l++;pqdownheap(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1];gen_bitlen(e,r);gen_codes(n,c,e.bl_count)}function scan_tree(e,r,n){var t;var i=-1;var a;var s=r[0*2+1];var f=0;var c=7;var l=4;if(s===0){c=138;l=3}r[(n+1)*2+1]=65535;for(t=0;t<=n;t++){a=s;s=r[(t+1)*2+1];if(++f<c&&a===s){continue}else if(f<l){e.bl_tree[a*2]+=f}else if(a!==0){if(a!==i){e.bl_tree[a*2]++}e.bl_tree[S*2]++}else if(f<=10){e.bl_tree[k*2]++}else{e.bl_tree[R*2]++}f=0;i=a;if(s===0){c=138;l=3}else if(a===s){c=6;l=3}else{c=7;l=4}}}function send_tree(e,r,n){var t;var i=-1;var a;var s=r[0*2+1];var f=0;var c=7;var l=4;if(s===0){c=138;l=3}for(t=0;t<=n;t++){a=s;s=r[(t+1)*2+1];if(++f<c&&a===s){continue}else if(f<l){do{send_code(e,a,e.bl_tree)}while(--f!==0)}else if(a!==0){if(a!==i){send_code(e,a,e.bl_tree);f--}send_code(e,S,e.bl_tree);send_bits(e,f-3,2)}else if(f<=10){send_code(e,k,e.bl_tree);send_bits(e,f-3,3)}else{send_code(e,R,e.bl_tree);send_bits(e,f-11,7)}f=0;i=a;if(s===0){c=138;l=3}else if(a===s){c=6;l=3}else{c=7;l=4}}}function build_bl_tree(e){var r;scan_tree(e,e.dyn_ltree,e.l_desc.max_code);scan_tree(e,e.dyn_dtree,e.d_desc.max_code);build_tree(e,e.bl_desc);for(r=y-1;r>=3;r--){if(e.bl_tree[_[r]*2+1]!==0){break}}e.opt_len+=3*(r+1)+5+5+4;return r}function send_all_trees(e,r,n,t){var i;send_bits(e,r-257,5);send_bits(e,n-1,5);send_bits(e,t-4,4);for(i=0;i<t;i++){send_bits(e,e.bl_tree[_[i]*2+1],3)}send_tree(e,e.dyn_ltree,r-1);send_tree(e,e.dyn_dtree,n-1)}function detect_data_type(e){var r=4093624447;var n;for(n=0;n<=31;n++,r>>>=1){if(r&1&&e.dyn_ltree[n*2]!==0){return a}}if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0){return s}for(n=32;n<p;n++){if(e.dyn_ltree[n*2]!==0){return s}}return a}var T=false;function _tr_init(e){if(!T){tr_static_init();T=true}e.l_desc=new TreeDesc(e.dyn_ltree,O);e.d_desc=new TreeDesc(e.dyn_dtree,F);e.bl_desc=new TreeDesc(e.bl_tree,P);e.bi_buf=0;e.bi_valid=0;init_block(e)}function _tr_stored_block(e,r,n,t){send_bits(e,(c<<1)+(t?1:0),3);copy_block(e,r,n,true)}function _tr_align(e){send_bits(e,l<<1,3);send_code(e,E,B);bi_flush(e)}function _tr_flush_block(e,r,n,t){var a,s;var c=0;if(e.level>0){if(e.strm.data_type===f){e.strm.data_type=detect_data_type(e)}build_tree(e,e.l_desc);build_tree(e,e.d_desc);c=build_bl_tree(e);a=e.opt_len+3+7>>>3;s=e.static_len+3+7>>>3;if(s<=a){a=s}}else{a=s=n+5}if(n+4<=a&&r!==-1){_tr_stored_block(e,r,n,t)}else if(e.strategy===i||s===a){send_bits(e,(l<<1)+(t?1:0),3);compress_block(e,B,q)}else{send_bits(e,(d<<1)+(t?1:0),3);send_all_trees(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1);compress_block(e,e.dyn_ltree,e.dyn_dtree)}init_block(e);if(t){bi_windup(e)}}function _tr_tally(e,r,n){e.pending_buf[e.d_buf+e.last_lit*2]=r>>>8&255;e.pending_buf[e.d_buf+e.last_lit*2+1]=r&255;e.pending_buf[e.l_buf+e.last_lit]=n&255;e.last_lit++;if(r===0){e.dyn_ltree[n*2]++}else{e.matches++;r--;e.dyn_ltree[(x[n]+p+1)*2]++;e.dyn_dtree[d_code(r)*2]++}return e.last_lit===e.lit_bufsize-1}n._tr_init=_tr_init;n._tr_stored_block=_tr_stored_block;n._tr_flush_block=_tr_flush_block;n._tr_tally=_tr_tally;n._tr_align=_tr_align},{"../utils/common":67}],79:[function(e,r,n){"use strict";function ZStream(){this.input=null;this.next_in=0;this.avail_in=0;this.total_in=0;this.output=null;this.next_out=0;this.avail_out=0;this.total_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}r.exports=ZStream},{}],80:[function(e,r,n){var t=r.exports={};var i;var a;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){i=setTimeout}else{i=defaultSetTimout}}catch(e){i=defaultSetTimout}try{if(typeof clearTimeout==="function"){a=clearTimeout}else{a=defaultClearTimeout}}catch(e){a=defaultClearTimeout}})();function runTimeout(e){if(i===setTimeout){return setTimeout(e,0)}if((i===defaultSetTimout||!i)&&setTimeout){i=setTimeout;return setTimeout(e,0)}try{return i(e,0)}catch(r){try{return i.call(null,e,0)}catch(r){return i.call(this,e,0)}}}function runClearTimeout(e){if(a===clearTimeout){return clearTimeout(e)}if((a===defaultClearTimeout||!a)&&clearTimeout){a=clearTimeout;return clearTimeout(e)}try{return a(e)}catch(r){try{return a.call(null,e)}catch(r){return a.call(this,e)}}}var s=[];var f=false;var c;var l=-1;function cleanUpNextTick(){if(!f||!c){return}f=false;if(c.length){s=c.concat(s)}else{l=-1}if(s.length){drainQueue()}}function drainQueue(){if(f){return}var e=runTimeout(cleanUpNextTick);f=true;var r=s.length;while(r){c=s;s=[];while(++l<r){if(c){c[l].run()}}l=-1;r=s.length}c=null;f=false;runClearTimeout(e)}t.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){r[n-1]=arguments[n]}}s.push(new Item(e,r));if(s.length===1&&!f){runTimeout(drainQueue)}};function Item(e,r){this.fun=e;this.array=r}Item.prototype.run=function(){this.fun.apply(null,this.array)};t.title="browser";t.browser=true;t.env={};t.argv=[];t.version="";t.versions={};function noop(){}t.on=noop;t.addListener=noop;t.once=noop;t.off=noop;t.removeListener=noop;t.removeAllListeners=noop;t.emit=noop;t.prependListener=noop;t.prependOnceListener=noop;t.listeners=function(e){return[]};t.binding=function(e){throw new Error("process.binding is not supported")};t.cwd=function(){return"/"};t.chdir=function(e){throw new Error("process.chdir is not supported")};t.umask=function(){return 0}},{}],81:[function(e,r,n){"use strict";var t=[0,1,3,7,15,31,63,127,255];var i=function BitReader(e){this.stream=e;this.bitOffset=0;this.curByte=0;this.hasByte=false};i.prototype._ensureByte=function(){if(!this.hasByte){this.curByte=this.stream.readByte();this.hasByte=true}};i.prototype.read=function(e){var r=0;while(e>0){this._ensureByte();var n=8-this.bitOffset;if(e>=n){r<<=n;r|=t[n]&this.curByte;this.hasByte=false;this.bitOffset=0;e-=n}else{r<<=e;var i=n-e;r|=(this.curByte&t[e]<<i)>>i;this.bitOffset+=e;e=0}}return r};i.prototype.seek=function(e){var r=e%8;var n=(e-r)/8;this.bitOffset=r;this.stream.seek(n);this.hasByte=false};i.prototype.pi=function(){var e=new Uint8Array(6),r;for(r=0;r<e.length;r++){e[r]=this.read(8)}return bufToHex(e)};function bufToHex(e){return Array.prototype.map.call(e,e=>("00"+e.toString(16)).slice(-2)).join("")}r.exports=i},{}],82:[function(e,r,n){"use strict";r.exports=function(){var e=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]);var r=function CRC32(){var r=4294967295;this.getCRC=function(){return~r>>>0};this.updateCRC=function(n){r=r<<8^e[(r>>>24^n)&255]};this.updateCRCRun=function(n,t){while(t-- >0){r=r<<8^e[(r>>>24^n)&255]}}};return r}()},{}],83:[function(e,r,n){"use strict";var t=e("./bitreader");var i=e("./stream");var a=e("./crc32");var s=20;var f=258;var c=0;var l=1;var d=2;var o=6;var u=50;var h="314159265359";var p="177245385090";var v=function mtf(e,r){var n=e[r],t;for(t=r;t>0;t--){e[t]=e[t-1]}e[0]=n;return n};var b={OK:0,LAST_BLOCK:-1,NOT_BZIP_DATA:-2,UNEXPECTED_INPUT_EOF:-3,UNEXPECTED_OUTPUT_EOF:-4,DATA_ERROR:-5,OUT_OF_MEMORY:-6,OBSOLETE_INPUT:-7,END_OF_BLOCK:-8};var y={};y[b.LAST_BLOCK]="Bad file checksum";y[b.NOT_BZIP_DATA]="Not bzip data";y[b.UNEXPECTED_INPUT_EOF]="Unexpected input EOF";y[b.UNEXPECTED_OUTPUT_EOF]="Unexpected output EOF";y[b.DATA_ERROR]="Data error";y[b.OUT_OF_MEMORY]="Out of memory";y[b.OBSOLETE_INPUT]="Obsolete (pre 0.9.5) bzip format not supported.";var g=function _throw(e,r){var n=y[e]||"unknown error";if(r){n+=": "+r}var t=new TypeError(n);t.errorCode=e;throw t};var w=function Bunzip(e,r){this.writePos=this.writeCurrent=this.writeCount=0;this._start_bunzip(e,r)};w.prototype._init_block=function(){var e=this._get_next_block();if(!e){this.writeCount=-1;return false}this.blockCRC=new a;return true};w.prototype._start_bunzip=function(e,r){var n=new Uint8Array(4);if(e.read(n,0,4)!==4||String.fromCharCode(n[0],n[1],n[2])!=="BZh")g(b.NOT_BZIP_DATA,"bad magic");var i=n[3]-48;if(i<1||i>9)g(b.NOT_BZIP_DATA,"level out of range");this.reader=new t(e);this.dbufSize=1e5*i;this.nextoutput=0;this.outputStream=r;this.streamCRC=0};w.prototype._get_next_block=function(){var e,r,n;var t=this.reader;var i=t.pi();if(i===p){return false}if(i!==h)g(b.NOT_BZIP_DATA);this.targetBlockCRC=t.read(32)>>>0;this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0;if(t.read(1))g(b.OBSOLETE_INPUT);var a=t.read(24);if(a>this.dbufSize)g(b.DATA_ERROR,"initial position out of bounds");var y=t.read(16);var w=new Uint8Array(256),m=0;for(e=0;e<16;e++){if(y&1<<15-e){var A=e*16;n=t.read(16);for(r=0;r<16;r++)if(n&1<<15-r)w[m++]=A+r}}var E=t.read(3);if(E<d||E>o)g(b.DATA_ERROR);var S=t.read(15);if(S===0)g(b.DATA_ERROR);var k=new Uint8Array(256);for(e=0;e<E;e++)k[e]=e;var R=new Uint8Array(S);for(e=0;e<S;e++){for(r=0;t.read(1);r++)if(r>=E)g(b.DATA_ERROR);R[e]=v(k,r)}var M=m+2;var C=[],D;for(r=0;r<E;r++){var _=new Uint8Array(M),j=new Uint16Array(s+1);y=t.read(5);for(e=0;e<M;e++){for(;;){if(y<1||y>s)g(b.DATA_ERROR);if(!t.read(1))break;if(!t.read(1))y++;else y--}_[e]=y}var B,q;B=q=_[0];for(e=1;e<M;e++){if(_[e]>q)q=_[e];else if(_[e]<B)B=_[e]}D={};C.push(D);D.permute=new Uint16Array(f);D.limit=new Uint32Array(s+2);D.base=new Uint32Array(s+1);D.minLen=B;D.maxLen=q;var U=0;for(e=B;e<=q;e++){j[e]=D.limit[e]=0;for(y=0;y<M;y++)if(_[y]===e)D.permute[U++]=y}for(e=0;e<M;e++)j[_[e]]++;U=y=0;for(e=B;e<q;e++){U+=j[e];D.limit[e]=U-1;U<<=1;y+=j[e];D.base[e+1]=U-y}D.limit[q+1]=Number.MAX_VALUE;D.limit[q]=U+j[q]-1;D.base[B]=0}var x=new Uint32Array(256);for(e=0;e<256;e++)k[e]=e;var I=0,K=0,O=0,F;var P=this.dbuf=new Uint32Array(this.dbufSize);M=0;for(;;){if(!M--){M=u-1;if(O>=S){g(b.DATA_ERROR)}D=C[R[O++]]}e=D.minLen;r=t.read(e);for(;;e++){if(e>D.maxLen){g(b.DATA_ERROR)}if(r<=D.limit[e])break;r=r<<1|t.read(1)}r-=D.base[e];if(r<0||r>=f){g(b.DATA_ERROR)}var T=D.permute[r];if(T===c||T===l){if(!I){I=1;y=0}if(T===c)y+=I;else y+=2*I;I<<=1;continue}if(I){I=0;if(K+y>this.dbufSize){g(b.DATA_ERROR)}F=w[k[0]];x[F]+=y;while(y--)P[K++]=F}if(T>m)break;if(K>=this.dbufSize){g(b.DATA_ERROR)}e=T-1;F=v(k,e);F=w[F];x[F]++;P[K++]=F}if(a<0||a>=K){g(b.DATA_ERROR)}r=0;for(e=0;e<256;e++){n=r+x[e];x[e]=r;r=n}for(e=0;e<K;e++){F=P[e]&255;P[x[F]]|=e<<8;x[F]++}var N=0,z=0,L=0;if(K){N=P[a];z=N&255;N>>=8;L=-1}this.writePos=N;this.writeCurrent=z;this.writeCount=K;this.writeRun=L;return true};w.prototype._read_bunzip=function(e,r){var n,t,i;if(this.writeCount<0){return 0}var a=0;var s=this.dbuf,f=this.writePos,c=this.writeCurrent;var l=this.writeCount,d=this.outputsize;var o=this.writeRun;while(l){l--;t=c;f=s[f];c=f&255;f>>=8;if(o++===3){n=c;i=t;c=-1}else{n=1;i=c}this.blockCRC.updateCRCRun(i,n);while(n--){this.outputStream.writeByte(i);this.nextoutput++}if(c!=t)o=0}this.writeCount=l;if(this.blockCRC.getCRC()!==this.targetBlockCRC){g(b.DATA_ERROR,"Bad block CRC "+"(got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")")}return this.nextoutput};var m=function coerceInputStream(e){if("readByte"in e){return e}var r=new i;r.pos=0;r.readByte=function(){return e[this.pos++]};r.seek=function(e){this.pos=e};r.eof=function(){return this.pos>=e.length};return r};var A=function coerceOutputStream(e){var r=new i;var n=true;if(e){if(typeof e==="number"){r.buffer=new Uint8Array(e);n=false}else if("writeByte"in e){return e}else{r.buffer=e;n=false}}else{r.buffer=new Uint8Array(16384)}r.pos=0;r.writeByte=function(e){if(n&&this.pos>=this.buffer.length){var r=new Uint8Array(this.buffer.length*2);r.set(this.buffer);this.buffer=r}this.buffer[this.pos++]=e};r.getBuffer=function(){if(this.pos!==this.buffer.length){if(!n)throw new TypeError("outputsize does not match decoded input");var e=new Uint8Array(this.pos);e.set(this.buffer.subarray(0,this.pos));this.buffer=e}return this.buffer};r._coerced=true;return r};w.Err=b;w.decode=function(e,r,n){var t=m(e);var i=A(r);var a=new w(t,i);while(true){if("eof"in t&&t.eof())break;if(a._init_block()){a._read_bunzip()}else{var s=a.reader.read(32)>>>0;if(s!==a.streamCRC){g(b.DATA_ERROR,"Bad stream CRC "+"(got "+a.streamCRC.toString(16)+" expected "+s.toString(16)+")")}if(n&&"eof"in t&&!t.eof()){a._start_bunzip(t,i)}else break}}if("getBuffer"in i)return i.getBuffer()};w.decodeBlock=function(e,r,n){var t=m(e);var i=A(n);var s=new w(t,i);s.reader.seek(r);var f=s._get_next_block();if(f){s.blockCRC=new a;s.writeCopies=0;s._read_bunzip()}if("getBuffer"in i)return i.getBuffer()};w.table=function(e,r,n){var t=new i;t.delegate=m(e);t.pos=0;t.readByte=function(){this.pos++;return this.delegate.readByte()};if(t.delegate.eof){t.eof=t.delegate.eof.bind(t.delegate)}var a=new i;a.pos=0;a.writeByte=function(){this.pos++};var s=new w(t,a);var f=s.dbufSize;while(true){if("eof"in t&&t.eof())break;var c=t.pos*8+s.reader.bitOffset;if(s.reader.hasByte){c-=8}if(s._init_block()){var l=a.pos;s._read_bunzip();r(c,a.pos-l)}else{var d=s.reader.read(32);if(n&&"eof"in t&&!t.eof()){s._start_bunzip(t,a);console.assert(s.dbufSize===f,"shouldn't change block size within multistream file")}else break}}};w.Stream=i;r.exports=w},{"./bitreader":81,"./crc32":82,"./stream":84}],84:[function(e,r,n){"use strict";var t=function Stream(){};t.prototype.readByte=function(){throw new Error("abstract method readByte() not implemented")};t.prototype.read=function(e,r,n){var t=0;while(t<n){var i=this.readByte();if(i<0){return t===0?-1:t}e[r++]=i;t++}return t};t.prototype.seek=function(e){throw new Error("abstract method seek() not implemented")};t.prototype.writeByte=function(e){throw new Error("abstract method readByte() not implemented")};t.prototype.write=function(e,r,n){var t;for(t=0;t<n;t++){this.writeByte(e[r++])}return n};t.prototype.flush=function(){};r.exports=t},{}],85:[function(e,r,n){"use strict";function inRange(e,r,n){return r<=e&&e<=n}function ToDictionary(e){if(e===undefined)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(e){var r=String(e);var n=r.length;var t=0;var i=[];while(t<n){var a=r.charCodeAt(t);if(a<55296||a>57343){i.push(a)}else if(56320<=a&&a<=57343){i.push(65533)}else if(55296<=a&&a<=56319){if(t===n-1){i.push(65533)}else{var s=e.charCodeAt(t+1);if(56320<=s&&s<=57343){var f=a&1023;var c=s&1023;i.push(65536+(f<<10)+c);t+=1}else{i.push(65533)}}}t+=1}return i}function codePointsToString(e){var r="";for(var n=0;n<e.length;++n){var t=e[n];if(t<=65535){r+=String.fromCharCode(t)}else{t-=65536;r+=String.fromCharCode((t>>10)+55296,(t&1023)+56320)}}return r}var t=-1;function Stream(e){this.tokens=[].slice.call(e)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){if(!this.tokens.length)return t;return this.tokens.shift()},prepend:function(e){if(Array.isArray(e)){var r=e;while(r.length)this.tokens.unshift(r.pop())}else{this.tokens.unshift(e)}},push:function(e){if(Array.isArray(e)){var r=e;while(r.length)this.tokens.push(r.shift())}else{this.tokens.push(e)}}};var i=-1;function decoderError(e,r){if(e)throw TypeError("Decoder error");return r||65533}var a="utf-8";function TextDecoder(e,r){if(!(this instanceof TextDecoder)){return new TextDecoder(e,r)}e=e!==undefined?String(e).toLowerCase():a;if(e!==a){throw new Error("Encoding not supported. Only utf-8 is supported")}r=ToDictionary(r);this._streaming=false;this._BOMseen=false;this._decoder=null;this._fatal=Boolean(r["fatal"]);this._ignoreBOM=Boolean(r["ignoreBOM"]);Object.defineProperty(this,"encoding",{value:"utf-8"});Object.defineProperty(this,"fatal",{value:this._fatal});Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TextDecoder.prototype={decode:function decode(e,r){var n;if(typeof e==="object"&&e instanceof ArrayBuffer){n=new Uint8Array(e)}else if(typeof e==="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer){n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}else{n=new Uint8Array(0)}r=ToDictionary(r);if(!this._streaming){this._decoder=new UTF8Decoder({fatal:this._fatal});this._BOMseen=false}this._streaming=Boolean(r["stream"]);var t=new Stream(n);var a=[];var s;while(!t.endOfStream()){s=this._decoder.handler(t,t.read());if(s===i)break;if(s===null)continue;if(Array.isArray(s))a.push.apply(a,s);else a.push(s)}if(!this._streaming){do{s=this._decoder.handler(t,t.read());if(s===i)break;if(s===null)continue;if(Array.isArray(s))a.push.apply(a,s);else a.push(s)}while(!t.endOfStream());this._decoder=null}if(a.length){if(["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen){if(a[0]===65279){this._BOMseen=true;a.shift()}else{this._BOMseen=true}}}return codePointsToString(a)}};function TextEncoder(e,r){if(!(this instanceof TextEncoder))return new TextEncoder(e,r);e=e!==undefined?String(e).toLowerCase():a;if(e!==a){throw new Error("Encoding not supported. Only utf-8 is supported")}r=ToDictionary(r);this._streaming=false;this._encoder=null;this._options={fatal:Boolean(r["fatal"])};Object.defineProperty(this,"encoding",{value:"utf-8"})}TextEncoder.prototype={encode:function encode(e,r){e=e?String(e):"";r=ToDictionary(r);if(!this._streaming)this._encoder=new UTF8Encoder(this._options);this._streaming=Boolean(r["stream"]);var n=[];var t=new Stream(stringToCodePoints(e));var a;while(!t.endOfStream()){a=this._encoder.handler(t,t.read());if(a===i)break;if(Array.isArray(a))n.push.apply(n,a);else n.push(a)}if(!this._streaming){while(true){a=this._encoder.handler(t,t.read());if(a===i)break;if(Array.isArray(a))n.push.apply(n,a);else n.push(a)}this._encoder=null}return new Uint8Array(n)}};function UTF8Decoder(e){var r=e.fatal;var n=0,a=0,s=0,f=128,c=191;this.handler=function(e,l){if(l===t&&s!==0){s=0;return decoderError(r)}if(l===t)return i;if(s===0){if(inRange(l,0,127)){return l}if(inRange(l,194,223)){s=1;n=l-192}else if(inRange(l,224,239)){if(l===224)f=160;if(l===237)c=159;s=2;n=l-224}else if(inRange(l,240,244)){if(l===240)f=144;if(l===244)c=143;s=3;n=l-240}else{return decoderError(r)}n=n<<6*s;return null}if(!inRange(l,f,c)){n=s=a=0;f=128;c=191;e.prepend(l);return decoderError(r)}f=128;c=191;a+=1;n+=l-128<<6*(s-a);if(a!==s)return null;var d=n;n=s=a=0;return d}}function UTF8Encoder(e){var r=e.fatal;this.handler=function(e,r){if(r===t)return i;if(inRange(r,0,127))return r;var n,a;if(inRange(r,128,2047)){n=1;a=192}else if(inRange(r,2048,65535)){n=2;a=224}else if(inRange(r,65536,1114111)){n=3;a=240}var s=[(r>>6*n)+a];while(n>0){var f=r>>6*(n-1);s.push(128|f&63);n-=1}return s}}n.TextEncoder=TextEncoder;n.TextDecoder=TextDecoder},{}],86:[function(e,r,n){(function(r){"use strict";var n=function(e){var r,n=new Float64Array(16);if(e)for(r=0;r<e.length;r++)n[r]=e[r];return n};var t=function(){throw new Error("no PRNG")};var i=new Uint8Array(32);i[0]=9;var a=n(),s=n([1]),f=n([56129,1]),c=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),o=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),u=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function vn(e,r,n,t,i){var a,s=0;for(a=0;a<i;a++)s|=e[r+a]^n[t+a];return(1&s-1>>>8)-1}function crypto_verify_32(e,r,n,t){return vn(e,r,n,t,32)}function set25519(e,r){var n;for(n=0;n<16;n++)e[n]=r[n]|0}function car25519(e){var r,n,t=1;for(r=0;r<16;r++){n=e[r]+t+65535;t=Math.floor(n/65536);e[r]=n-t*65536}e[0]+=t-1+37*(t-1)}function sel25519(e,r,n){var t,i=~(n-1);for(var a=0;a<16;a++){t=i&(e[a]^r[a]);e[a]^=t;r[a]^=t}}function pack25519(e,r){var t,i,a;var s=n(),f=n();for(t=0;t<16;t++)f[t]=r[t];car25519(f);car25519(f);car25519(f);for(i=0;i<2;i++){s[0]=f[0]-65517;for(t=1;t<15;t++){s[t]=f[t]-65535-(s[t-1]>>16&1);s[t-1]&=65535}s[15]=f[15]-32767-(s[14]>>16&1);a=s[15]>>16&1;s[14]&=65535;sel25519(f,s,1-a)}for(t=0;t<16;t++){e[2*t]=f[t]&255;e[2*t+1]=f[t]>>8}}function neq25519(e,r){var n=new Uint8Array(32),t=new Uint8Array(32);pack25519(n,e);pack25519(t,r);return crypto_verify_32(n,0,t,0)}function par25519(e){var r=new Uint8Array(32);pack25519(r,e);return r[0]&1}function unpack25519(e,r){var n;for(n=0;n<16;n++)e[n]=r[2*n]+(r[2*n+1]<<8);e[15]&=32767}function A(e,r,n){for(var t=0;t<16;t++)e[t]=r[t]+n[t]}function Z(e,r,n){for(var t=0;t<16;t++)e[t]=r[t]-n[t]}function M(e,r,n){var t,i,a=0,s=0,f=0,c=0,l=0,d=0,o=0,u=0,h=0,p=0,v=0,b=0,y=0,g=0,w=0,m=0,A=0,E=0,S=0,k=0,R=0,M=0,C=0,D=0,_=0,j=0,B=0,q=0,U=0,x=0,I=0,K=n[0],O=n[1],F=n[2],P=n[3],T=n[4],N=n[5],z=n[6],L=n[7],W=n[8],H=n[9],G=n[10],J=n[11],Y=n[12],Q=n[13],Z=n[14],X=n[15];t=r[0];a+=t*K;s+=t*O;f+=t*F;c+=t*P;l+=t*T;d+=t*N;o+=t*z;u+=t*L;h+=t*W;p+=t*H;v+=t*G;b+=t*J;y+=t*Y;g+=t*Q;w+=t*Z;m+=t*X;t=r[1];s+=t*K;f+=t*O;c+=t*F;l+=t*P;d+=t*T;o+=t*N;u+=t*z;h+=t*L;p+=t*W;v+=t*H;b+=t*G;y+=t*J;g+=t*Y;w+=t*Q;m+=t*Z;A+=t*X;t=r[2];f+=t*K;c+=t*O;l+=t*F;d+=t*P;o+=t*T;u+=t*N;h+=t*z;p+=t*L;v+=t*W;b+=t*H;y+=t*G;g+=t*J;w+=t*Y;m+=t*Q;A+=t*Z;E+=t*X;t=r[3];c+=t*K;l+=t*O;d+=t*F;o+=t*P;u+=t*T;h+=t*N;p+=t*z;v+=t*L;b+=t*W;y+=t*H;g+=t*G;w+=t*J;m+=t*Y;A+=t*Q;E+=t*Z;S+=t*X;t=r[4];l+=t*K;d+=t*O;o+=t*F;u+=t*P;h+=t*T;p+=t*N;v+=t*z;b+=t*L;y+=t*W;g+=t*H;w+=t*G;m+=t*J;A+=t*Y;E+=t*Q;S+=t*Z;k+=t*X;t=r[5];d+=t*K;o+=t*O;u+=t*F;h+=t*P;p+=t*T;v+=t*N;b+=t*z;y+=t*L;g+=t*W;w+=t*H;m+=t*G;A+=t*J;E+=t*Y;S+=t*Q;k+=t*Z;R+=t*X;t=r[6];o+=t*K;u+=t*O;h+=t*F;p+=t*P;v+=t*T;b+=t*N;y+=t*z;g+=t*L;w+=t*W;m+=t*H;A+=t*G;E+=t*J;S+=t*Y;k+=t*Q;R+=t*Z;M+=t*X;t=r[7];u+=t*K;h+=t*O;p+=t*F;v+=t*P;b+=t*T;y+=t*N;g+=t*z;w+=t*L;m+=t*W;A+=t*H;E+=t*G;S+=t*J;k+=t*Y;R+=t*Q;M+=t*Z;C+=t*X;t=r[8];h+=t*K;p+=t*O;v+=t*F;b+=t*P;y+=t*T;g+=t*N;w+=t*z;m+=t*L;A+=t*W;E+=t*H;S+=t*G;k+=t*J;R+=t*Y;M+=t*Q;C+=t*Z;D+=t*X;t=r[9];p+=t*K;v+=t*O;b+=t*F;y+=t*P;g+=t*T;w+=t*N;m+=t*z;A+=t*L;E+=t*W;S+=t*H;k+=t*G;R+=t*J;M+=t*Y;C+=t*Q;D+=t*Z;_+=t*X;t=r[10];v+=t*K;b+=t*O;y+=t*F;g+=t*P;w+=t*T;m+=t*N;A+=t*z;E+=t*L;S+=t*W;k+=t*H;R+=t*G;M+=t*J;C+=t*Y;D+=t*Q;_+=t*Z;j+=t*X;t=r[11];b+=t*K;y+=t*O;g+=t*F;w+=t*P;m+=t*T;A+=t*N;E+=t*z;S+=t*L;k+=t*W;R+=t*H;M+=t*G;C+=t*J;D+=t*Y;_+=t*Q;j+=t*Z;B+=t*X;t=r[12];y+=t*K;g+=t*O;w+=t*F;m+=t*P;A+=t*T;E+=t*N;S+=t*z;k+=t*L;R+=t*W;M+=t*H;C+=t*G;D+=t*J;_+=t*Y;j+=t*Q;B+=t*Z;q+=t*X;t=r[13];g+=t*K;w+=t*O;m+=t*F;A+=t*P;E+=t*T;S+=t*N;k+=t*z;R+=t*L;M+=t*W;C+=t*H;D+=t*G;_+=t*J;j+=t*Y;B+=t*Q;q+=t*Z;U+=t*X;t=r[14];w+=t*K;m+=t*O;A+=t*F;E+=t*P;S+=t*T;k+=t*N;R+=t*z;M+=t*L;C+=t*W;D+=t*H;_+=t*G;j+=t*J;B+=t*Y;q+=t*Q;U+=t*Z;x+=t*X;t=r[15];m+=t*K;A+=t*O;E+=t*F;S+=t*P;k+=t*T;R+=t*N;M+=t*z;C+=t*L;D+=t*W;_+=t*H;j+=t*G;B+=t*J;q+=t*Y;U+=t*Q;x+=t*Z;I+=t*X;a+=38*A;s+=38*E;f+=38*S;c+=38*k;l+=38*R;d+=38*M;o+=38*C;u+=38*D;h+=38*_;p+=38*j;v+=38*B;b+=38*q;y+=38*U;g+=38*x;w+=38*I;i=1;t=a+i+65535;i=Math.floor(t/65536);a=t-i*65536;t=s+i+65535;i=Math.floor(t/65536);s=t-i*65536;t=f+i+65535;i=Math.floor(t/65536);f=t-i*65536;t=c+i+65535;i=Math.floor(t/65536);c=t-i*65536;t=l+i+65535;i=Math.floor(t/65536);l=t-i*65536;t=d+i+65535;i=Math.floor(t/65536);d=t-i*65536;t=o+i+65535;i=Math.floor(t/65536);o=t-i*65536;t=u+i+65535;i=Math.floor(t/65536);u=t-i*65536;t=h+i+65535;i=Math.floor(t/65536);h=t-i*65536;t=p+i+65535;i=Math.floor(t/65536);p=t-i*65536;t=v+i+65535;i=Math.floor(t/65536);v=t-i*65536;t=b+i+65535;i=Math.floor(t/65536);b=t-i*65536;t=y+i+65535;i=Math.floor(t/65536);y=t-i*65536;t=g+i+65535;i=Math.floor(t/65536);g=t-i*65536;t=w+i+65535;i=Math.floor(t/65536);w=t-i*65536;t=m+i+65535;i=Math.floor(t/65536);m=t-i*65536;a+=i-1+37*(i-1);i=1;t=a+i+65535;i=Math.floor(t/65536);a=t-i*65536;t=s+i+65535;i=Math.floor(t/65536);s=t-i*65536;t=f+i+65535;i=Math.floor(t/65536);f=t-i*65536;t=c+i+65535;i=Math.floor(t/65536);c=t-i*65536;t=l+i+65535;i=Math.floor(t/65536);l=t-i*65536;t=d+i+65535;i=Math.floor(t/65536);d=t-i*65536;t=o+i+65535;i=Math.floor(t/65536);o=t-i*65536;t=u+i+65535;i=Math.floor(t/65536);u=t-i*65536;t=h+i+65535;i=Math.floor(t/65536);h=t-i*65536;t=p+i+65535;i=Math.floor(t/65536);p=t-i*65536;t=v+i+65535;i=Math.floor(t/65536);v=t-i*65536;t=b+i+65535;i=Math.floor(t/65536);b=t-i*65536;t=y+i+65535;i=Math.floor(t/65536);y=t-i*65536;t=g+i+65535;i=Math.floor(t/65536);g=t-i*65536;t=w+i+65535;i=Math.floor(t/65536);w=t-i*65536;t=m+i+65535;i=Math.floor(t/65536);m=t-i*65536;a+=i-1+37*(i-1);e[0]=a;e[1]=s;e[2]=f;e[3]=c;e[4]=l;e[5]=d;e[6]=o;e[7]=u;e[8]=h;e[9]=p;e[10]=v;e[11]=b;e[12]=y;e[13]=g;e[14]=w;e[15]=m}function S(e,r){M(e,r,r)}function inv25519(e,r){var t=n();var i;for(i=0;i<16;i++)t[i]=r[i];for(i=253;i>=0;i--){S(t,t);if(i!==2&&i!==4)M(t,t,r)}for(i=0;i<16;i++)e[i]=t[i]}function pow2523(e,r){var t=n();var i;for(i=0;i<16;i++)t[i]=r[i];for(i=250;i>=0;i--){S(t,t);if(i!==1)M(t,t,r)}for(i=0;i<16;i++)e[i]=t[i]}function crypto_scalarmult(e,r,t){var i=new Uint8Array(32);var a=new Float64Array(80),s,c;var l=n(),d=n(),o=n(),u=n(),h=n(),p=n();for(c=0;c<31;c++)i[c]=r[c];i[31]=r[31]&127|64;i[0]&=248;unpack25519(a,t);for(c=0;c<16;c++){d[c]=a[c];u[c]=l[c]=o[c]=0}l[0]=u[0]=1;for(c=254;c>=0;--c){s=i[c>>>3]>>>(c&7)&1;sel25519(l,d,s);sel25519(o,u,s);A(h,l,o);Z(l,l,o);A(o,d,u);Z(d,d,u);S(u,h);S(p,l);M(l,o,l);M(o,d,h);A(h,l,o);Z(l,l,o);S(d,l);Z(o,u,p);M(l,o,f);A(l,l,u);M(o,o,l);M(l,u,p);M(u,d,a);S(d,h);sel25519(l,d,s);sel25519(o,u,s)}for(c=0;c<16;c++){a[c+16]=l[c];a[c+32]=o[c];a[c+48]=d[c];a[c+64]=u[c]}var v=a.subarray(32);var b=a.subarray(16);inv25519(v,v);M(b,b,v);pack25519(e,b);return 0}function crypto_scalarmult_base(e,r){return crypto_scalarmult(e,r,i)}function crypto_box_keypair(e,r){t(r,32);return crypto_scalarmult_base(e,r)}function add(e,r){var t=n(),i=n(),a=n(),s=n(),f=n(),c=n(),d=n(),o=n(),u=n();Z(t,e[1],e[0]);Z(u,r[1],r[0]);M(t,t,u);A(i,e[0],e[1]);A(u,r[0],r[1]);M(i,i,u);M(a,e[3],r[3]);M(a,a,l);M(s,e[2],r[2]);A(s,s,s);Z(f,i,t);Z(c,s,a);A(d,s,a);A(o,i,t);M(e[0],f,c);M(e[1],o,d);M(e[2],d,c);M(e[3],f,o)}function cswap(e,r,n){var t;for(t=0;t<4;t++){sel25519(e[t],r[t],n)}}function pack(e,r){var t=n(),i=n(),a=n();inv25519(a,r[2]);M(t,r[0],a);M(i,r[1],a);pack25519(e,i);e[31]^=par25519(t)<<7}function scalarmult(e,r,n){var t,i;set25519(e[0],a);set25519(e[1],s);set25519(e[2],s);set25519(e[3],a);for(i=255;i>=0;--i){t=n[i/8|0]>>(i&7)&1;cswap(e,r,t);add(r,e);add(e,e);cswap(e,r,t)}}function scalarbase(e,r){var t=[n(),n(),n(),n()];set25519(t[0],d);set25519(t[1],o);set25519(t[2],s);M(t[3],d,o);scalarmult(e,t,r)}function crypto_sign_keypair(e,i,a){var s;var f=[n(),n(),n(),n()];var c;if(!a)t(i,32);s=r.hash(i.subarray(0,32));s[0]&=248;s[31]&=127;s[31]|=64;scalarbase(f,s);pack(e,f);for(c=0;c<32;c++)i[c+32]=e[c];return 0}var h=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function modL(e,r){var n,t,i,a;for(t=63;t>=32;--t){n=0;for(i=t-32,a=t-12;i<a;++i){r[i]+=n-16*r[t]*h[i-(t-32)];n=r[i]+128>>8;r[i]-=n*256}r[i]+=n;r[t]=0}n=0;for(i=0;i<32;i++){r[i]+=n-(r[31]>>4)*h[i];n=r[i]>>8;r[i]&=255}for(i=0;i<32;i++)r[i]-=n*h[i];for(t=0;t<32;t++){r[t+1]+=r[t]>>8;e[t]=r[t]&255}}function reduce(e){var r=new Float64Array(64),n;for(n=0;n<64;n++)r[n]=e[n];for(n=0;n<64;n++)e[n]=0;modL(e,r)}function crypto_sign(e,t,i,a){var s,f,c;var l,d,o=new Float64Array(64);var u=[n(),n(),n(),n()];s=r.hash(a.subarray(0,32));s[0]&=248;s[31]&=127;s[31]|=64;var h=i+64;for(l=0;l<i;l++)e[64+l]=t[l];for(l=0;l<32;l++)e[32+l]=s[32+l];c=r.hash(e.subarray(32,h));reduce(c);scalarbase(u,c);pack(e,u);for(l=32;l<64;l++)e[l]=a[l];f=r.hash(e.subarray(0,h));reduce(f);for(l=0;l<64;l++)o[l]=0;for(l=0;l<32;l++)o[l]=c[l];for(l=0;l<32;l++){for(d=0;d<32;d++){o[l+d]+=f[l]*s[d]}}modL(e.subarray(32),o);return h}function unpackneg(e,r){var t=n(),i=n(),f=n(),l=n(),d=n(),o=n(),h=n();set25519(e[2],s);unpack25519(e[1],r);S(f,e[1]);M(l,f,c);Z(f,f,e[2]);A(l,e[2],l);S(d,l);S(o,d);M(h,o,d);M(t,h,f);M(t,t,l);pow2523(t,t);M(t,t,f);M(t,t,l);M(t,t,l);M(e[0],t,l);S(i,e[0]);M(i,i,l);if(neq25519(i,f))M(e[0],e[0],u);S(i,e[0]);M(i,i,l);if(neq25519(i,f))return-1;if(par25519(e[0])===r[31]>>7)Z(e[0],a,e[0]);M(e[3],e[0],e[1]);return 0}function crypto_sign_open(e,t,i,a){var s,f;var c=new Uint8Array(32),l;var d=[n(),n(),n(),n()],o=[n(),n(),n(),n()];f=-1;if(i<64)return-1;if(unpackneg(o,a))return-1;for(s=0;s<i;s++)e[s]=t[s];for(s=0;s<32;s++)e[s+32]=a[s];l=r.hash(e.subarray(0,i));reduce(l);scalarmult(d,o,l);scalarbase(o,t.subarray(32));add(d,o);pack(c,d);i-=64;if(crypto_verify_32(t,0,c,0)){for(s=0;s<i;s++)e[s]=0;return-1}for(s=0;s<i;s++)e[s]=t[s+64];f=i;return f}var p=32,v=32,b=32,y=32,g=64,w=32,m=64,E=32;function checkArrayTypes(){for(var e=0;e<arguments.length;e++){if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}}function cleanup(e){for(var r=0;r<e.length;r++)e[r]=0}r.scalarMult=function(e,r){checkArrayTypes(e,r);if(e.length!==v)throw new Error("bad n size");if(r.length!==p)throw new Error("bad p size");var n=new Uint8Array(p);crypto_scalarmult(n,e,r);return n};r.box={};r.box.keyPair=function(){var e=new Uint8Array(b);var r=new Uint8Array(y);crypto_box_keypair(e,r);return{publicKey:e,secretKey:r}};r.box.keyPair.fromSecretKey=function(e){checkArrayTypes(e);if(e.length!==y)throw new Error("bad secret key size");var r=new Uint8Array(b);crypto_scalarmult_base(r,e);return{publicKey:r,secretKey:new Uint8Array(e)}};r.sign=function(e,r){checkArrayTypes(e,r);if(r.length!==m)throw new Error("bad secret key size");var n=new Uint8Array(g+e.length);crypto_sign(n,e,e.length,r);return n};r.sign.detached=function(e,n){var t=r.sign(e,n);var i=new Uint8Array(g);for(var a=0;a<i.length;a++)i[a]=t[a];return i};r.sign.detached.verify=function(e,r,n){checkArrayTypes(e,r,n);if(r.length!==g)throw new Error("bad signature size");if(n.length!==w)throw new Error("bad public key size");var t=new Uint8Array(g+e.length);var i=new Uint8Array(g+e.length);var a;for(a=0;a<g;a++)t[a]=r[a];for(a=0;a<e.length;a++)t[a+g]=e[a];return crypto_sign_open(i,t,t.length,n)>=0};r.sign.keyPair=function(){var e=new Uint8Array(w);var r=new Uint8Array(m);crypto_sign_keypair(e,r);return{publicKey:e,secretKey:r}};r.sign.keyPair.fromSecretKey=function(e){checkArrayTypes(e);if(e.length!==m)throw new Error("bad secret key size");var r=new Uint8Array(w);for(var n=0;n<r.length;n++)r[n]=e[32+n];return{publicKey:r,secretKey:new Uint8Array(e)}};r.sign.keyPair.fromSeed=function(e){checkArrayTypes(e);if(e.length!==E)throw new Error("bad seed size");var r=new Uint8Array(w);var n=new Uint8Array(m);for(var t=0;t<32;t++)n[t]=e[t];crypto_sign_keypair(r,n,true);return{publicKey:r,secretKey:n}};r.setPRNG=function(e){t=e};(function(){var n=typeof self!=="undefined"?self.crypto||self.msCrypto:null;if(n&&n.getRandomValues){var t=65536;r.setPRNG(function(e,r){var i,a=new Uint8Array(r);for(i=0;i<r;i+=t){n.getRandomValues(a.subarray(i,i+Math.min(r-i,t)))}for(i=0;i<r;i++)e[i]=a[i];cleanup(a)})}else if(typeof e!=="undefined"){n=e("crypto");if(n&&n.randomBytes){r.setPRNG(function(e,r){var t,i=n.randomBytes(r);for(t=0;t<r;t++)e[t]=i[t];cleanup(i)})}}})()})(typeof r!=="undefined"&&r.exports?r.exports:self.nacl=self.nacl||{})},{crypto:"crypto"}],87:[function(require,module,exports){var indexOf=function(e,r){if(e.indexOf)return e.indexOf(r);else for(var n=0;n<e.length;n++){if(e[n]===r)return n}return-1};var Object_keys=function(e){if(Object.keys)return Object.keys(e);else{var r=[];for(var n in e)r.push(n);return r}};var forEach=function(e,r){if(e.forEach)return e.forEach(r);else for(var n=0;n<e.length;n++){r(e[n],n,e)}};var defineProp=function(){try{Object.defineProperty({},"_",{});return function(e,r,n){Object.defineProperty(e,r,{writable:true,enumerable:false,configurable:true,value:n})}}catch(e){return function(e,r,n){e[r]=n}}}();var globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function NodeScript(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context)){throw new TypeError("needs a 'context' argument.")}var r=document.createElement("iframe");if(!r.style)r.style={};r.style.display="none";document.body.appendChild(r);var n=r.contentWindow;var t=n.eval,i=n.execScript;if(!t&&i){i.call(n,"null");t=n.eval}forEach(Object_keys(e),function(r){n[r]=e[r]});forEach(globals,function(r){if(e[r]){n[r]=e[r]}});var a=Object_keys(n);var s=t.call(n,this.code);forEach(Object_keys(n),function(r){if(r in e||indexOf(a,r)===-1){e[r]=n[r]}});forEach(globals,function(r){if(!(r in e)){defineProp(e,r,n[r])}});document.body.removeChild(r);return s};Script.prototype.runInThisContext=function(){return eval(this.code)};Script.prototype.runInNewContext=function(e){var r=Script.createContext(e);var n=this.runInContext(r);if(e){forEach(Object_keys(r),function(n){e[n]=r[n]})}return n};forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(r){var n=Script(r);return n[e].apply(n,[].slice.call(arguments,1))}});exports.isContext=function(e){return e instanceof Context};exports.createScript=function(e){return exports.Script(e)};exports.createContext=Script.createContext=function(e){var r=new Context;if(typeof e==="object"){forEach(Object_keys(e),function(n){r[n]=e[n]})}return r}},{}],88:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.webToNode=n.nodeToWeb=undefined;var t=e("./util");var i=e("./streams");var a=_interopRequireDefault(i);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const s=t.isNode&&e("stream").Readable;let f;let c;if(s){n.nodeToWeb=f=function nodeToWeb(e){return new ReadableStream({start(r){e.pause();e.on("data",n=>{r.enqueue(n);e.pause()});e.on("end",()=>r.close());e.on("error",e=>r.error(e))},pull(){e.resume()},cancel(r){e.pause();if(e.cancel){return e.cancel(r)}}})};class NodeReadable extends s{constructor(e,r){super(r);this._webStream=e;this._reader=a.default.getReader(e);this._reading=false;this._doneReadingPromise=Promise.resolve();this._cancelling=false}_read(e){if(this._reading||this._cancelling){return}this._reading=true;const r=async()=>{try{while(true){var e=await this._reader.read();const r=e.done,n=e.value;if(r){this.push(null);break}if(!this.push(n)||this._cancelling){this._reading=false;break}}}catch(e){this.emit("error",e)}};this._doneReadingPromise=r()}async cancel(e){this._cancelling=true;await this._doneReadingPromise;this._reader.releaseLock();return this._webStream.cancel(e)}}n.webToNode=c=function webToNode(e){return new NodeReadable(e)}}n.nodeToWeb=f;n.webToNode=c},{"./streams":90,"./util":91,stream:"stream"}],89:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.externalBuffer=n.Reader=undefined;var t=e("./streams");var i=_interopRequireDefault(t);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const a=new WeakSet;const s=Symbol("externalBuffer");function Reader(e){this.stream=e;if(e[s]){this[s]=e[s].slice()}let r=i.default.isStream(e);if(r==="node"){e=i.default.nodeToWeb(e)}if(r){const r=e.getReader();this._read=r.read.bind(r);this._releaseLock=(()=>{r.closed.catch(function(){});r.releaseLock()});return}let n=false;this._read=(async()=>{if(n||a.has(e)){return{value:undefined,done:true}}n=true;return{value:e,done:false}});this._releaseLock=(()=>{if(n){try{a.add(e)}catch(e){}}})}Reader.prototype.read=async function(){if(this[s]&&this[s].length){const e=this[s].shift();return{done:false,value:e}}return this._read()};Reader.prototype.releaseLock=function(){if(this[s]){this.stream[s]=this[s]}this._releaseLock()};Reader.prototype.readLine=async function(){let e=[];let r;while(!r){var n=await this.read();let t=n.done,a=n.value;a+="";if(t){if(e.length)return i.default.concat(e);return}const s=a.indexOf("\n")+1;if(s){r=i.default.concat(e.concat(a.substr(0,s)));e=[]}if(s!==a.length){e.push(a.substr(s))}}this.unshift(...e);return r};Reader.prototype.readByte=async function(){var e=await this.read();const r=e.done,n=e.value;if(r)return;const t=n[0];this.unshift(i.default.slice(n,1));return t};Reader.prototype.readBytes=async function(e){const r=[];let n=0;while(true){var t=await this.read();const a=t.done,s=t.value;if(a){if(r.length)return i.default.concat(r);return}r.push(s);n+=s.length;if(n>=e){const n=i.default.concat(r);this.unshift(i.default.slice(n,e));return i.default.slice(n,0,e)}}};Reader.prototype.peekBytes=async function(e){const r=await this.readBytes(e);this.unshift(r);return r};Reader.prototype.unshift=function(...e){if(!this[s]){this[s]=[]}this[s].unshift(...e.filter(e=>e&&e.length))};Reader.prototype.readToEnd=async function(e=i.default.concat){const r=[];while(true){var n=await this.read();const e=n.done,t=n.value;if(e)break;r.push(t)}return e(r)};n.Reader=Reader;n.externalBuffer=s},{"./streams":90}],90:[function(e,r,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("./util");var i=e("./node-conversions");var a=e("./reader");const s=t.isNode&&e("buffer").Buffer;function toStream(e){let r=(0,t.isStream)(e);if(r==="node"){return(0,i.nodeToWeb)(e)}else if(r){return e}return new ReadableStream({start(r){r.enqueue(e);r.close()}})}function concat(e){if(e.some(t.isStream)){return concatStream(e)}if(typeof e[0]==="string"){return e.join("")}if(s&&s.isBuffer(e[0])){return s.concat(e)}return(0,t.concatUint8Array)(e)}function concatStream(e){e=e.map(toStream);const r=transformWithCancel(async function(e){await Promise.all(t.map(r=>cancel(r,e)))});let n=Promise.resolve();const t=e.map((t,i)=>transformPair(t,(t,a)=>{n=n.then(()=>pipe(t,r.writable,{preventClose:i!==e.length-1}));return n}));return r.readable}function getReader(e){return new a.Reader(e)}function getWriter(e){const r=e.getWriter();const n=r.releaseLock;r.releaseLock=(()=>{r.closed.catch(function(){});n.call(r)});return r}async function pipe(e,r,n){e=toStream(e);try{if(e[a.externalBuffer]){const n=getWriter(r);for(let r=0;r<e[a.externalBuffer].length;r++){await n.ready;await n.write(e[a.externalBuffer][r])}n.releaseLock()}return await e.pipeTo(r,n)}catch(e){}}function transformRaw(e,r){const n=new TransformStream(r);pipe(e,n.writable);return n.readable}function transformWithCancel(e){let r=false;let n;let t;return{readable:new ReadableStream({start(e){t=e},pull(){if(n){n()}else{r=true}},cancel:e},{highWaterMark:0}),writable:new WritableStream({write:async function write(e){t.enqueue(e);if(!r){await new Promise(e=>{n=e});n=null}else{r=false}},close:t.close.bind(t),abort:t.error.bind(t)})}}function transform(e,r=(()=>undefined),n=(()=>undefined)){if((0,t.isStream)(e)){return transformRaw(e,{async transform(e,n){try{const t=await r(e);if(t!==undefined)n.enqueue(t)}catch(e){n.error(e)}},async flush(e){try{const r=await n();if(r!==undefined)e.enqueue(r)}catch(r){e.error(r)}}})}const i=r(e);const a=n();if(i!==undefined&&a!==undefined)return concat([i,a]);return i!==undefined?i:a}function transformPair(e,r){let n;const t=new TransformStream({start(e){n=e}});const i=pipe(e,t.writable);const a=transformWithCancel(async function(){n.error(new Error("Readable side was canceled."));await i;await new Promise(setTimeout)});r(t.readable,a.writable);return a.readable}function parse(e,r){let n;const t=transformPair(e,(e,i)=>{const a=getReader(e);a.remainder=(()=>{a.releaseLock();pipe(e,i);return t});n=r(a)});return n}function tee(e){if((0,t.isStream)(e)){const r=toStream(e).tee();r[0][a.externalBuffer]=r[1][a.externalBuffer]=e[a.externalBuffer];return r}return[slice(e),slice(e)]}function clone(e){if((0,t.isStream)(e)){const r=tee(e);overwrite(e,r[0]);return r[1]}return slice(e)}function passiveClone(e){if((0,t.isStream)(e)){return new ReadableStream({start(r){const n=transformPair(e,async(e,n)=>{const t=getReader(e);const i=getWriter(n);try{while(true){await i.ready;var a=await t.read();const e=a.done,n=a.value;if(e){try{r.close()}catch(e){}await i.close();return}try{r.enqueue(n)}catch(e){}await i.write(n)}}catch(e){r.error(e);await i.abort(e)}});overwrite(e,n)}})}return slice(e)}function overwrite(e,r){Object.entries(Object.getOwnPropertyDescriptors(ReadableStream.prototype)).forEach(([n,t])=>{if(n==="constructor"){return}if(t.value){t.value=t.value.bind(r)}else{t.get=t.get.bind(r)}Object.defineProperty(e,n,t)})}function slice(e,r=0,n=Infinity){if((0,t.isStream)(e)){if(r>=0&&n>=0){let t=0;return transformRaw(e,{transform(e,i){if(t<n){if(t+e.length>=r){i.enqueue(slice(e,Math.max(r-t,0),n-t))}t+=e.length}else{i.terminate()}}})}if(r<0&&(n<0||n===Infinity)){let t=[];return transform(e,e=>{if(e.length>=-r)t=[e];else t.push(e)},()=>slice(concat(t),r,n))}if(r===0&&n<0){let t;return transform(e,e=>{const i=t?concat([t,e]):e;if(i.length>=-n){t=slice(i,n);return slice(i,r,n)}else{t=i}})}console.warn(`stream.slice(input, ${r}, ${n}) not implemented efficiently.`);return fromAsync(async()=>slice(await readToEnd(e),r,n))}if(e[a.externalBuffer]){e=concat(e[a.externalBuffer].concat([e]))}if((0,t.isUint8Array)(e)&&!(s&&s.isBuffer(e))){if(n===Infinity)n=e.length;return e.subarray(r,n)}return e.slice(r,n)}async function readToEnd(e,r){if((0,t.isStream)(e)){return getReader(e).readToEnd(r)}return e}async function cancel(e,r){if((0,t.isStream)(e)&&e.cancel){return e.cancel(r)}}function fromAsync(e){return new ReadableStream({pull:async r=>{try{r.enqueue(await e());r.close()}catch(e){r.error(e)}}})}n.default={isStream:t.isStream,isUint8Array:t.isUint8Array,toStream:toStream,concatUint8Array:t.concatUint8Array,concatStream:concatStream,concat:concat,getReader:getReader,getWriter:getWriter,pipe:pipe,transformRaw:transformRaw,transform:transform,transformPair:transformPair,parse:parse,clone:clone,passiveClone:passiveClone,slice:slice,readToEnd:readToEnd,cancel:cancel,fromAsync:fromAsync,nodeToWeb:i.nodeToWeb,webToNode:i.webToNode}}).call(this,e("_process"))},{"./node-conversions":88,"./reader":89,"./util":91,_process:80,buffer:"buffer"}],91:[function(e,r,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:true});const t=typeof r.process==="object"&&typeof r.process.versions==="object";const i=t&&e("stream").Readable;function isStream(e){if(ReadableStream.prototype.isPrototypeOf(e)){return"web"}if(i&&i.prototype.isPrototypeOf(e)){return"node"}return false}function isUint8Array(e){return Uint8Array.prototype.isPrototypeOf(e)}function concatUint8Array(e){if(e.length===1)return e[0];let r=0;for(let n=0;n<e.length;n++){if(!isUint8Array(e[n])){throw new Error("concatUint8Array: Data must be in the form of a Uint8Array")}r+=e[n].length}const n=new Uint8Array(r);let t=0;e.forEach(function(e){n.set(e,t);t+=e.length});return n}n.isNode=t;n.isStream=isStream;n.isUint8Array=isUint8Array;n.concatUint8Array=concatUint8Array}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{stream:"stream"}],92:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.CleartextMessage=CleartextMessage;n.readArmored=readArmored;n.fromText=fromText;var t=e("./encoding/armor");var i=_interopRequireDefault(t);var a=e("./enums");var s=_interopRequireDefault(a);var f=e("./util");var c=_interopRequireDefault(f);var l=e("./packet");var d=_interopRequireDefault(l);var o=e("./signature");var u=e("./message");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function CleartextMessage(e,r){if(!(this instanceof CleartextMessage)){return new CleartextMessage(e,r)}this.text=c.default.removeTrailingSpaces(e).replace(/\r?\n/g,"\r\n");if(r&&!(r instanceof o.Signature)){throw new Error("Invalid signature input")}this.signature=r||new o.Signature(new d.default.List)}CleartextMessage.prototype.getSigningKeyIds=function(){const e=[];const r=this.signature.packets;r.forEach(function(r){e.push(r.issuerKeyId)});return e};CleartextMessage.prototype.sign=async function(e,r=null,n=new Date,t=[]){return new CleartextMessage(this.text,await this.signDetached(e,r,n,t))};CleartextMessage.prototype.signDetached=async function(e,r=null,n=new Date,t=[]){const i=new d.default.Literal;i.setText(this.text);return new o.Signature(await(0,u.createSignaturePackets)(i,e,r,n,t,true))};CleartextMessage.prototype.verify=function(e,r=new Date){return this.verifyDetached(this.signature,e,r)};CleartextMessage.prototype.verifyDetached=function(e,r,n=new Date){const t=e.packets;const i=new d.default.Literal;i.setText(this.text);return(0,u.createVerificationObjects)(t,[i],r,n,true)};CleartextMessage.prototype.getText=function(){return this.text.replace(/\r\n/g,"\n")};CleartextMessage.prototype.armor=function(){let e=this.signature.packets.map(function(e){return s.default.read(s.default.hash,e.hashAlgorithm).toUpperCase()});e=e.filter(function(e,r,n){return n.indexOf(e)===r});const r={hash:e.join(),text:this.text,data:this.signature.packets.write()};return i.default.encode(s.default.armor.signed,r)};async function readArmored(e){const r=await i.default.decode(e);if(r.type!==s.default.armor.signed){throw new Error("No cleartext signed message.")}const n=new d.default.List;await n.read(r.data);verifyHeaders(r.headers,n);const t=new o.Signature(n);return new CleartextMessage(r.text,t)}function verifyHeaders(e,r){const n=function checkHashAlgos(e){const n=e=>r=>e.hashAlgorithm===r;for(let t=0;t<r.length;t++){if(r[t].tag===s.default.packet.signature&&!e.some(n(r[t]))){return false}}return true};let t=null;let i=[];e.forEach(function(e){t=e.match(/Hash: (.+)/);if(t){t=t[1].replace(/\s/g,"");t=t.split(",");t=t.map(function(e){e=e.toLowerCase();try{return s.default.write(s.default.hash,e)}catch(r){throw new Error("Unknown hash algorithm in armor header: "+e)}});i=i.concat(t)}else{throw new Error('Only "Hash" header allowed in cleartext signed message')}});if(!i.length&&!n([s.default.hash.md5])){throw new Error('If no "Hash" header in cleartext signed message, then only MD5 signatures allowed')}else if(i.length&&!n(i)){throw new Error("Hash algorithm mismatch in armor header and signature")}}function fromText(e){return new CleartextMessage(e)}},{"./encoding/armor":126,"./enums":128,"./message":141,"./packet":146,"./signature":166,"./util":173}],93:[function(e,r,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("../enums");var i=_interopRequireDefault(t);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}n.default={prefer_hash_algorithm:i.default.hash.sha256,encryption_cipher:i.default.symmetric.aes256,compression:i.default.compression.uncompressed,deflate_level:6,aead_protect:false,aead_mode:i.default.aead.eax,aead_chunk_size_byte:12,v5_keys:false,s2k_iteration_count_byte:224,integrity_protect:true,ignore_mdc_error:false,allow_unauthenticated_stream:false,checksum_required:false,rsa_blinding:true,password_collision_check:false,revocations_expire:false,allow_insecure_decryption_with_signing_keys:false,use_native:true,min_bytes_for_web_crypto:1e3,zero_copy:false,debug:false,tolerant:true,show_version:true,show_comment:true,versionstring:"OpenPGP.js v4.10.8",commentstring:"https://openpgpjs.org",keyserver:"https://keyserver.ubuntu.com",node_store:"./openpgp.store",max_userid_length:1024*5,known_notations:["preferred-email-encoding@pgp.com","pka-address@gnupg.org"],use_indutny_elliptic:true,external_indutny_elliptic:false,indutny_elliptic_path:"./elliptic.min.js",indutny_elliptic_fetch_options:{},reject_hash_algorithms:new r.Set([i.default.hash.md5,i.default.hash.ripemd]),reject_message_hash_algorithms:new r.Set([i.default.hash.md5,i.default.hash.ripemd,i.default.hash.sha1])}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../enums":128}],94:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("./config.js");Object.defineProperty(n,"default",{enumerable:true,get:function get(){return _interopRequireDefault(t).default}});function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}},{"./config.js":93}],95:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("./cipher");var i=_interopRequireDefault(t);var a=e("../util");var s=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function wrap(e,r){const n=new i.default["aes"+e.length*8](e);const t=new Uint32Array([2795939494,2795939494]);const a=unpack(r);let s=t;const f=a;const c=a.length/2;const l=new Uint32Array([0,0]);let d=new Uint32Array(4);for(let e=0;e<=5;++e){for(let r=0;r<c;++r){l[1]=c*e+(1+r);d[0]=s[0];d[1]=s[1];d[2]=f[2*r];d[3]=f[2*r+1];d=unpack(n.encrypt(pack(d)));s=d.subarray(0,2);s[0]^=l[0];s[1]^=l[1];f[2*r]=d[2];f[2*r+1]=d[3]}}return pack(s,f)}function unwrap(e,r){const n=new i.default["aes"+e.length*8](e);const t=new Uint32Array([2795939494,2795939494]);const a=unpack(r);let s=a.subarray(0,2);const f=a.subarray(2);const c=a.length/2-1;const l=new Uint32Array([0,0]);let d=new Uint32Array(4);for(let e=5;e>=0;--e){for(let r=c-1;r>=0;--r){l[1]=c*e+(r+1);d[0]=s[0]^l[0];d[1]=s[1]^l[1];d[2]=f[2*r];d[3]=f[2*r+1];d=unpack(n.decrypt(pack(d)));s=d.subarray(0,2);f[2*r]=d[2];f[2*r+1]=d[3]}}if(s[0]===t[0]&&s[1]===t[1]){return pack(f)}throw new Error("Key Data Integrity failed")}function createArrayBuffer(e){if(s.default.isString(e)){const r=e.length;const n=new ArrayBuffer(r);const t=new Uint8Array(n);for(let n=0;n<r;++n){t[n]=e.charCodeAt(n)}return n}return new Uint8Array(e).buffer}function unpack(e){const r=e.length;const n=createArrayBuffer(e);const t=new DataView(n);const i=new Uint32Array(r/4);for(let e=0;e<r/4;++e){i[e]=t.getUint32(4*e)}return i}function pack(){let e=0;for(let r=0;r<arguments.length;++r){e+=4*arguments[r].length}const r=new ArrayBuffer(e);const n=new DataView(r);let t=0;for(let e=0;e<arguments.length;++e){for(let r=0;r<arguments[e].length;++r){n.setUint32(t+4*r,arguments[e][r])}t+=4*arguments[e].length}return new Uint8Array(r)}n.default={wrap:wrap,unwrap:unwrap}},{"../util":173,"./cipher":101}],96:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("asmcrypto.js/dist_es5/aes/cfb");var i=e("web-stream-tools");var a=_interopRequireDefault(i);var s=e("./cipher");var f=_interopRequireDefault(s);var c=e("../config");var l=_interopRequireDefault(c);var d=e("../util");var o=_interopRequireDefault(d);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const u=o.default.getWebCrypto();const h=o.default.getNodeCrypto();const p=o.default.getNodeBuffer();const v=h?h.getCiphers():[];const b={idea:v.includes("idea-cfb")?"idea-cfb":undefined,"3des":v.includes("des-ede3-cfb")?"des-ede3-cfb":undefined,tripledes:v.includes("des-ede3-cfb")?"des-ede3-cfb":undefined,cast5:v.includes("cast5-cfb")?"cast5-cfb":undefined,blowfish:v.includes("bf-cfb")?"bf-cfb":undefined,aes128:v.includes("aes-128-cfb")?"aes-128-cfb":undefined,aes192:v.includes("aes-192-cfb")?"aes-192-cfb":undefined,aes256:v.includes("aes-256-cfb")?"aes-256-cfb":undefined};n.default={encrypt:function encrypt(e,r,n,t){if(o.default.getNodeCrypto()&&b[e]){return nodeEncrypt(e,r,n,t)}if(e.substr(0,3)==="aes"){return aesEncrypt(e,r,n,t)}const i=new f.default[e](r);const s=i.blockSize;const c=t.slice();let l=new Uint8Array;const d=e=>{if(e){l=o.default.concatUint8Array([l,e])}const r=new Uint8Array(l.length);let n;let t=0;while(e?l.length>=s:l.length){const e=i.encrypt(c);for(n=0;n<s;n++){c[n]=l[n]^e[n];r[t++]=c[n]}l=l.subarray(s)}return r.subarray(0,t)};return a.default.transform(n,d,d)},decrypt:async function decrypt(e,r,n,t){if(o.default.getNodeCrypto()&&b[e]){return nodeDecrypt(e,r,n,t)}if(e.substr(0,3)==="aes"){return aesDecrypt(e,r,n,t)}const i=new f.default[e](r);const s=i.blockSize;let c=t;let l=new Uint8Array;const d=e=>{if(e){l=o.default.concatUint8Array([l,e])}const r=new Uint8Array(l.length);let n;let t=0;while(e?l.length>=s:l.length){const e=i.encrypt(c);c=l;for(n=0;n<s;n++){r[t++]=c[n]^e[n]}l=l.subarray(s)}return r.subarray(0,t)};return a.default.transform(n,d,d)}};function aesEncrypt(e,r,n,i){if(o.default.getWebCrypto()&&r.length!==24&&!o.default.isStream(n)&&n.length>=3e3*l.default.min_bytes_for_web_crypto){return webEncrypt(e,r,n,i)}const s=new t.AES_CFB(r,i);return a.default.transform(n,e=>s.AES_Encrypt_process(e),()=>s.AES_Encrypt_finish())}function aesDecrypt(e,r,n,i){if(o.default.isStream(n)){const e=new t.AES_CFB(r,i);return a.default.transform(n,r=>e.AES_Decrypt_process(r),()=>e.AES_Decrypt_finish())}return t.AES_CFB.decrypt(n,r,i)}function xorMut(e,r){for(let n=0;n<e.length;n++){e[n]=e[n]^r[n]}}async function webEncrypt(e,r,n,t){const i="AES-CBC";const a=await u.importKey("raw",r,{name:i},false,["encrypt"]);const s=f.default[e].blockSize;const c=o.default.concatUint8Array([new Uint8Array(s),n]);const l=new Uint8Array(await u.encrypt({name:i,iv:t},a,c)).subarray(0,n.length);xorMut(l,n);return l}function nodeEncrypt(e,r,n,t){r=p.from(r);t=p.from(t);const i=new h.createCipheriv(b[e],r,t);return a.default.transform(n,e=>new Uint8Array(i.update(p.from(e))))}function nodeDecrypt(e,r,n,t){r=p.from(r);t=p.from(t);const i=new h.createDecipheriv(b[e],r,t);return a.default.transform(n,e=>new Uint8Array(i.update(p.from(e))))}},{"../config":94,"../util":173,"./cipher":101,"asmcrypto.js/dist_es5/aes/cfb":5,"web-stream-tools":90}],97:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("asmcrypto.js/dist_es5/aes/ecb");function aes(e){const r=function C(e){const r=new t.AES_ECB(e);this.encrypt=function(e){return r.encrypt(e)};this.decrypt=function(e){return r.decrypt(e)}};r.blockSize=r.prototype.blockSize=16;r.keySize=r.prototype.keySize=e/8;return r}n.default=aes},{"asmcrypto.js/dist_es5/aes/ecb":7}],98:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});function Blowfish(){}Blowfish.prototype.BLOCKSIZE=8;Blowfish.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];Blowfish.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];Blowfish.prototype.NN=16;Blowfish.prototype._clean=function(e){if(e<0){const r=e&2147483647;e=r+2147483648}return e};Blowfish.prototype._F=function(e){let r;const n=e&255;e>>>=8;const t=e&255;e>>>=8;const i=e&255;e>>>=8;const a=e&255;r=this.sboxes[0][a]+this.sboxes[1][i];r^=this.sboxes[2][t];r+=this.sboxes[3][n];return r};Blowfish.prototype._encrypt_block=function(e){let r=e[0];let n=e[1];let t;for(t=0;t<this.NN;++t){r^=this.parray[t];n=this._F(r)^n;const e=r;r=n;n=e}r^=this.parray[this.NN+0];n^=this.parray[this.NN+1];e[0]=this._clean(n);e[1]=this._clean(r)};Blowfish.prototype.encrypt_block=function(e){let r;const n=[0,0];const t=this.BLOCKSIZE/2;for(r=0;r<this.BLOCKSIZE/2;++r){n[0]=n[0]<<8|e[r+0]&255;n[1]=n[1]<<8|e[r+t]&255}this._encrypt_block(n);const i=[];for(r=0;r<this.BLOCKSIZE/2;++r){i[r+0]=n[0]>>>24-8*r&255;i[r+t]=n[1]>>>24-8*r&255}return i};Blowfish.prototype._decrypt_block=function(e){let r=e[0];let n=e[1];let t;for(t=this.NN+1;t>1;--t){r^=this.parray[t];n=this._F(r)^n;const e=r;r=n;n=e}r^=this.parray[1];n^=this.parray[0];e[0]=this._clean(n);e[1]=this._clean(r)};Blowfish.prototype.init=function(e){let r;let n=0;this.parray=[];for(r=0;r<this.NN+2;++r){let t=0;for(let r=0;r<4;++r){t=t<<8|e[n]&255;if(++n>=e.length){n=0}}this.parray[r]=this.PARRAY[r]^t}this.sboxes=[];for(r=0;r<4;++r){this.sboxes[r]=[];for(n=0;n<256;++n){this.sboxes[r][n]=this.SBOXES[r][n]}}const t=[0,0];for(r=0;r<this.NN+2;r+=2){this._encrypt_block(t);this.parray[r+0]=t[0];this.parray[r+1]=t[1]}for(r=0;r<4;++r){for(n=0;n<256;n+=2){this._encrypt_block(t);this.sboxes[r][n+0]=t[0];this.sboxes[r][n+1]=t[1]}}};function BF(e){this.bf=new Blowfish;this.bf.init(e);this.encrypt=function(e){return this.bf.encrypt_block(e)}}BF.keySize=BF.prototype.keySize=16;BF.blockSize=BF.prototype.blockSize=8;n.default=BF},{}],99:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});function OpenpgpSymencCast5(){this.BlockSize=8;this.KeySize=16;this.setKey=function(e){this.masking=new Array(16);this.rotate=new Array(16);this.reset();if(e.length===this.KeySize){this.keySchedule(e)}else{throw new Error("CAST-128: keys must be 16 bytes")}return true};this.reset=function(){for(let e=0;e<16;e++){this.masking[e]=0;this.rotate[e]=0}};this.getBlockSize=function(){return this.BlockSize};this.encrypt=function(e){const r=new Array(e.length);for(let n=0;n<e.length;n+=8){let t=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3];let i=e[n+4]<<24|e[n+5]<<16|e[n+6]<<8|e[n+7];let a;a=i;i=t^f1(i,this.masking[0],this.rotate[0]);t=a;a=i;i=t^f2(i,this.masking[1],this.rotate[1]);t=a;a=i;i=t^f3(i,this.masking[2],this.rotate[2]);t=a;a=i;i=t^f1(i,this.masking[3],this.rotate[3]);t=a;a=i;i=t^f2(i,this.masking[4],this.rotate[4]);t=a;a=i;i=t^f3(i,this.masking[5],this.rotate[5]);t=a;a=i;i=t^f1(i,this.masking[6],this.rotate[6]);t=a;a=i;i=t^f2(i,this.masking[7],this.rotate[7]);t=a;a=i;i=t^f3(i,this.masking[8],this.rotate[8]);t=a;a=i;i=t^f1(i,this.masking[9],this.rotate[9]);t=a;a=i;i=t^f2(i,this.masking[10],this.rotate[10]);t=a;a=i;i=t^f3(i,this.masking[11],this.rotate[11]);t=a;a=i;i=t^f1(i,this.masking[12],this.rotate[12]);t=a;a=i;i=t^f2(i,this.masking[13],this.rotate[13]);t=a;a=i;i=t^f3(i,this.masking[14],this.rotate[14]);t=a;a=i;i=t^f1(i,this.masking[15],this.rotate[15]);t=a;r[n]=i>>>24&255;r[n+1]=i>>>16&255;r[n+2]=i>>>8&255;r[n+3]=i&255;r[n+4]=t>>>24&255;r[n+5]=t>>>16&255;r[n+6]=t>>>8&255;r[n+7]=t&255}return r};this.decrypt=function(e){const r=new Array(e.length);for(let n=0;n<e.length;n+=8){let t=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3];let i=e[n+4]<<24|e[n+5]<<16|e[n+6]<<8|e[n+7];let a;a=i;i=t^f1(i,this.masking[15],this.rotate[15]);t=a;a=i;i=t^f3(i,this.masking[14],this.rotate[14]);t=a;a=i;i=t^f2(i,this.masking[13],this.rotate[13]);t=a;a=i;i=t^f1(i,this.masking[12],this.rotate[12]);t=a;a=i;i=t^f3(i,this.masking[11],this.rotate[11]);t=a;a=i;i=t^f2(i,this.masking[10],this.rotate[10]);t=a;a=i;i=t^f1(i,this.masking[9],this.rotate[9]);t=a;a=i;i=t^f3(i,this.masking[8],this.rotate[8]);t=a;a=i;i=t^f2(i,this.masking[7],this.rotate[7]);t=a;a=i;i=t^f1(i,this.masking[6],this.rotate[6]);t=a;a=i;i=t^f3(i,this.masking[5],this.rotate[5]);t=a;a=i;i=t^f2(i,this.masking[4],this.rotate[4]);t=a;a=i;i=t^f1(i,this.masking[3],this.rotate[3]);t=a;a=i;i=t^f3(i,this.masking[2],this.rotate[2]);t=a;a=i;i=t^f2(i,this.masking[1],this.rotate[1]);t=a;a=i;i=t^f1(i,this.masking[0],this.rotate[0]);t=a;r[n]=i>>>24&255;r[n+1]=i>>>16&255;r[n+2]=i>>>8&255;r[n+3]=i&255;r[n+4]=t>>>24&255;r[n+5]=t>>16&255;r[n+6]=t>>8&255;r[n+7]=t&255}return r};const e=new Array(4);e[0]=new Array(4);e[0][0]=[4,0,13,15,12,14,8];e[0][1]=[5,2,16+0,16+2,16+1,16+3,10];e[0][2]=[6,3,16+7,16+6,16+5,16+4,9];e[0][3]=[7,1,16+10,16+9,16+11,16+8,11];e[1]=new Array(4);e[1][0]=[0,6,16+5,16+7,16+4,16+6,16+0];e[1][1]=[1,4,0,2,1,3,16+2];e[1][2]=[2,5,7,6,5,4,16+1];e[1][3]=[3,7,10,9,11,8,16+3];e[2]=new Array(4);e[2][0]=[4,0,13,15,12,14,8];e[2][1]=[5,2,16+0,16+2,16+1,16+3,10];e[2][2]=[6,3,16+7,16+6,16+5,16+4,9];e[2][3]=[7,1,16+10,16+9,16+11,16+8,11];e[3]=new Array(4);e[3][0]=[0,6,16+5,16+7,16+4,16+6,16+0];e[3][1]=[1,4,0,2,1,3,16+2];e[3][2]=[2,5,7,6,5,4,16+1];e[3][3]=[3,7,10,9,11,8,16+3];const r=new Array(4);r[0]=new Array(4);r[0][0]=[16+8,16+9,16+7,16+6,16+2];r[0][1]=[16+10,16+11,16+5,16+4,16+6];r[0][2]=[16+12,16+13,16+3,16+2,16+9];r[0][3]=[16+14,16+15,16+1,16+0,16+12];r[1]=new Array(4);r[1][0]=[3,2,12,13,8];r[1][1]=[1,0,14,15,13];r[1][2]=[7,6,8,9,3];r[1][3]=[5,4,10,11,7];r[2]=new Array(4);r[2][0]=[16+3,16+2,16+12,16+13,16+9];r[2][1]=[16+1,16+0,16+14,16+15,16+12];r[2][2]=[16+7,16+6,16+8,16+9,16+2];r[2][3]=[16+5,16+4,16+10,16+11,16+6];r[3]=new Array(4);r[3][0]=[8,9,7,6,3];r[3][1]=[10,11,5,4,7];r[3][2]=[12,13,3,2,8];r[3][3]=[14,15,1,0,13];this.keySchedule=function(t){const i=new Array(8);const a=new Array(32);let s;for(let e=0;e<4;e++){s=e*4;i[e]=t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3]}const f=[6,7,4,5];let c=0;let l;for(let t=0;t<2;t++){for(let t=0;t<4;t++){for(s=0;s<4;s++){const r=e[t][s];l=i[r[1]];l^=n[4][i[r[2]>>>2]>>>24-8*(r[2]&3)&255];l^=n[5][i[r[3]>>>2]>>>24-8*(r[3]&3)&255];l^=n[6][i[r[4]>>>2]>>>24-8*(r[4]&3)&255];l^=n[7][i[r[5]>>>2]>>>24-8*(r[5]&3)&255];l^=n[f[s]][i[r[6]>>>2]>>>24-8*(r[6]&3)&255];i[r[0]]=l}for(s=0;s<4;s++){const e=r[t][s];l=n[4][i[e[0]>>>2]>>>24-8*(e[0]&3)&255];l^=n[5][i[e[1]>>>2]>>>24-8*(e[1]&3)&255];l^=n[6][i[e[2]>>>2]>>>24-8*(e[2]&3)&255];l^=n[7][i[e[3]>>>2]>>>24-8*(e[3]&3)&255];l^=n[4+s][i[e[4]>>>2]>>>24-8*(e[4]&3)&255];a[c]=l;c++}}}for(let e=0;e<16;e++){this.masking[e]=a[e];this.rotate[e]=a[16+e]&31}};function f1(e,r,t){const i=r+e;const a=i<<t|i>>>32-t;return(n[0][a>>>24]^n[1][a>>>16&255])-n[2][a>>>8&255]+n[3][a&255]}function f2(e,r,t){const i=r^e;const a=i<<t|i>>>32-t;return n[0][a>>>24]-n[1][a>>>16&255]+n[2][a>>>8&255]^n[3][a&255]}function f3(e,r,t){const i=r-e;const a=i<<t|i>>>32-t;return(n[0][a>>>24]+n[1][a>>>16&255]^n[2][a>>>8&255])-n[3][a&255]}const n=new Array(8);n[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063];n[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321];n[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027];n[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730];n[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860];n[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975];n[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875];n[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function Cast5(e){this.cast5=new OpenpgpSymencCast5;this.cast5.setKey(e);this.encrypt=function(e){return this.cast5.encrypt(e)}}Cast5.blockSize=Cast5.prototype.blockSize=8;Cast5.keySize=Cast5.prototype.keySize=16;n.default=Cast5},{}],100:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});function des(e,r,n,t,i,a){const s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756];const f=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344];const c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584];const l=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928];const d=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080];const o=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312];const u=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154];const h=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];let p=0;let v;let b;let y;let g;let w;let m;let A;let E;let S;let k;let R;let M;let C;let D;let _=r.length;const j=e.length===32?3:9;if(j===3){E=n?[0,32,2]:[30,-2,-2]}else{E=n?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2]}if(n){r=des_addPadding(r,a);_=r.length}let B=new Uint8Array(_);let q=0;if(t===1){S=i[p++]<<24|i[p++]<<16|i[p++]<<8|i[p++];R=i[p++]<<24|i[p++]<<16|i[p++]<<8|i[p++];p=0}while(p<_){m=r[p++]<<24|r[p++]<<16|r[p++]<<8|r[p++];A=r[p++]<<24|r[p++]<<16|r[p++]<<8|r[p++];if(t===1){if(n){m^=S;A^=R}else{k=S;M=R;S=m;R=A}}y=(m>>>4^A)&252645135;A^=y;m^=y<<4;y=(m>>>16^A)&65535;A^=y;m^=y<<16;y=(A>>>2^m)&858993459;m^=y;A^=y<<2;y=(A>>>8^m)&16711935;m^=y;A^=y<<8;y=(m>>>1^A)&1431655765;A^=y;m^=y<<1;m=m<<1|m>>>31;A=A<<1|A>>>31;for(b=0;b<j;b+=3){C=E[b+1];D=E[b+2];for(v=E[b];v!==C;v+=D){g=A^e[v];w=(A>>>4|A<<28)^e[v+1];y=m;m=A;A=y^(f[g>>>24&63]|l[g>>>16&63]|o[g>>>8&63]|h[g&63]|s[w>>>24&63]|c[w>>>16&63]|d[w>>>8&63]|u[w&63])}y=m;m=A;A=y}m=m>>>1|m<<31;A=A>>>1|A<<31;y=(m>>>1^A)&1431655765;A^=y;m^=y<<1;y=(A>>>8^m)&16711935;m^=y;A^=y<<8;y=(A>>>2^m)&858993459;m^=y;A^=y<<2;y=(m>>>16^A)&65535;A^=y;m^=y<<16;y=(m>>>4^A)&252645135;A^=y;m^=y<<4;if(t===1){if(n){S=m;R=A}else{m^=k;A^=M}}B[q++]=m>>>24;B[q++]=m>>>16&255;B[q++]=m>>>8&255;B[q++]=m&255;B[q++]=A>>>24;B[q++]=A>>>16&255;B[q++]=A>>>8&255;B[q++]=A&255}if(!n){B=des_removePadding(B,a)}return B}function des_createKeys(e){const r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964];const n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697];const t=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272];const i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144];const a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256];const s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488];const f=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746];const c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568];const l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578];const d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488];const o=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800];const u=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744];const h=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128];const p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261];const v=e.length>8?3:1;const b=new Array(32*v);const y=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0];let g;let w;let m=0;let A=0;let E;for(let S=0;S<v;S++){let v=e[m++]<<24|e[m++]<<16|e[m++]<<8|e[m++];let S=e[m++]<<24|e[m++]<<16|e[m++]<<8|e[m++];E=(v>>>4^S)&252645135;S^=E;v^=E<<4;E=(S>>>-16^v)&65535;v^=E;S^=E<<-16;E=(v>>>2^S)&858993459;S^=E;v^=E<<2;E=(S>>>-16^v)&65535;v^=E;S^=E<<-16;E=(v>>>1^S)&1431655765;S^=E;v^=E<<1;E=(S>>>8^v)&16711935;v^=E;S^=E<<8;E=(v>>>1^S)&1431655765;S^=E;v^=E<<1;E=v<<8|S>>>20&240;v=S<<24|S<<8&16711680|S>>>8&65280|S>>>24&240;S=E;for(let e=0;e<y.length;e++){if(y[e]){v=v<<2|v>>>26;S=S<<2|S>>>26}else{v=v<<1|v>>>27;S=S<<1|S>>>27}v&=-15;S&=-15;g=r[v>>>28]|n[v>>>24&15]|t[v>>>20&15]|i[v>>>16&15]|a[v>>>12&15]|s[v>>>8&15]|f[v>>>4&15];w=c[S>>>28]|l[S>>>24&15]|d[S>>>20&15]|o[S>>>16&15]|u[S>>>12&15]|h[S>>>8&15]|p[S>>>4&15];E=(w>>>16^g)&65535;b[A++]=g^E;b[A++]=w^E<<16}}return b}function des_addPadding(e,r){const n=8-e.length%8;let t;if(r===2&&n<8){t=" ".charCodeAt(0)}else if(r===1){t=n}else if(!r&&n<8){t=0}else if(n===8){return e}else{throw new Error("des: invalid padding")}const i=new Uint8Array(e.length+n);for(let r=0;r<e.length;r++){i[r]=e[r]}for(let r=0;r<n;r++){i[e.length+r]=t}return i}function des_removePadding(e,r){let n=null;let t;if(r===2){t=" ".charCodeAt(0)}else if(r===1){n=e[e.length-1]}else if(!r){t=0}else{throw new Error("des: invalid padding")}if(!n){n=1;while(e[e.length-n]===t){n++}n--}return e.subarray(0,e.length-n)}function TripleDES(e){this.key=[];for(let r=0;r<3;r++){this.key.push(new Uint8Array(e.subarray(r*8,r*8+8)))}this.encrypt=function(e){return des(des_createKeys(this.key[2]),des(des_createKeys(this.key[1]),des(des_createKeys(this.key[0]),e,true,0,null,null),false,0,null,null),true,0,null,null)}}TripleDES.keySize=TripleDES.prototype.keySize=24;TripleDES.blockSize=TripleDES.prototype.blockSize=8;function DES(e){this.key=e;this.encrypt=function(e,r){const n=des_createKeys(this.key);return des(n,e,true,0,null,r)};this.decrypt=function(e,r){const n=des_createKeys(this.key);return des(n,e,false,0,null,r)}}n.default={DES:DES,TripleDES:TripleDES}},{}],101:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("./aes");var i=_interopRequireDefault(t);var a=e("./des.js");var s=_interopRequireDefault(a);var f=e("./cast5");var c=_interopRequireDefault(f);var l=e("./twofish");var d=_interopRequireDefault(l);var o=e("./blowfish");var u=_interopRequireDefault(o);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}n.default={aes128:(0,i.default)(128),aes192:(0,i.default)(192),aes256:(0,i.default)(256),des:s.default.DES,tripledes:s.default.TripleDES,"3des":s.default.TripleDES,cast5:c.default,twofish:d.default,blowfish:u.default,idea:function idea(){throw new Error("IDEA symmetric-key algorithm not implemented")}}},{"./aes":97,"./blowfish":98,"./cast5":99,"./des.js":100,"./twofish":102}],102:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});const t=4294967295;function rotw(e,r){return(e<<r|e>>>32-r)&t}function getW(e,r){return e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24}function setW(e,r,n){e.splice(r,4,n&255,n>>>8&255,n>>>16&255,n>>>24&255)}function getB(e,r){return e>>>r*8&255}function createTwofish(){let e=null;let r=null;let n=-1;let i=[];let a=[[],[],[],[]];function tfsInit(r){e=r;let n;let s;let f;let c;let l;const d=[];const o=[];const u=[];let h;const p=[];let v;let b;let y;const g=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]];const w=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]];const m=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]];const A=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]];const E=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15];const S=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7];const k=[[],[]];const R=[[],[],[],[]];function ffm5b(e){return e^e>>2^[0,90,180,238][e&3]}function ffmEf(e){return e^e>>1^e>>2^[0,238,180,90][e&3]}function mdsRem(e,r){let n;let i;let a;for(n=0;n<8;n++){i=r>>>24;r=r<<8&t|e>>>24;e=e<<8&t;a=i<<1;if(i&128){a^=333}r^=i^a<<16;a^=i>>>1;if(i&1){a^=166}r^=a<<24|a<<8}return r}function qp(e,r){const n=r>>4;const t=r&15;const i=g[e][n^t];const a=w[e][E[t]^S[n]];return A[e][E[a]^S[i]]<<4|m[e][i^a]}function hFun(e,r){let n=getB(e,0);let t=getB(e,1);let i=getB(e,2);let a=getB(e,3);switch(h){case 4:n=k[1][n]^getB(r[3],0);t=k[0][t]^getB(r[3],1);i=k[0][i]^getB(r[3],2);a=k[1][a]^getB(r[3],3);case 3:n=k[1][n]^getB(r[2],0);t=k[1][t]^getB(r[2],1);i=k[0][i]^getB(r[2],2);a=k[0][a]^getB(r[2],3);case 2:n=k[0][k[0][n]^getB(r[1],0)]^getB(r[0],0);t=k[0][k[1][t]^getB(r[1],1)]^getB(r[0],1);i=k[1][k[0][i]^getB(r[1],2)]^getB(r[0],2);a=k[1][k[1][a]^getB(r[1],3)]^getB(r[0],3)}return R[0][n]^R[1][t]^R[2][i]^R[3][a]}e=e.slice(0,32);n=e.length;while(n!==16&&n!==24&&n!==32){e[n++]=0}for(n=0;n<e.length;n+=4){u[n>>2]=getW(e,n)}for(n=0;n<256;n++){k[0][n]=qp(0,n);k[1][n]=qp(1,n)}for(n=0;n<256;n++){v=k[1][n];b=ffm5b(v);y=ffmEf(v);R[0][n]=v+(b<<8)+(y<<16)+(y<<24);R[2][n]=b+(y<<8)+(v<<16)+(y<<24);v=k[0][n];b=ffm5b(v);y=ffmEf(v);R[1][n]=y+(y<<8)+(b<<16)+(v<<24);R[3][n]=b+(v<<8)+(y<<16)+(b<<24)}h=u.length/2;for(n=0;n<h;n++){s=u[n+n];d[n]=s;f=u[n+n+1];o[n]=f;p[h-n-1]=mdsRem(s,f)}for(n=0;n<40;n+=2){s=16843009*n;f=s+16843009;s=hFun(s,d);f=rotw(hFun(f,o),8);i[n]=s+f&t;i[n+1]=rotw(s+2*f,9)}for(n=0;n<256;n++){s=f=c=l=n;switch(h){case 4:s=k[1][s]^getB(p[3],0);f=k[0][f]^getB(p[3],1);c=k[0][c]^getB(p[3],2);l=k[1][l]^getB(p[3],3);case 3:s=k[1][s]^getB(p[2],0);f=k[1][f]^getB(p[2],1);c=k[0][c]^getB(p[2],2);l=k[0][l]^getB(p[2],3);case 2:a[0][n]=R[0][k[0][k[0][s]^getB(p[1],0)]^getB(p[0],0)];a[1][n]=R[1][k[0][k[1][f]^getB(p[1],1)]^getB(p[0],1)];a[2][n]=R[2][k[1][k[0][c]^getB(p[1],2)]^getB(p[0],2)];a[3][n]=R[3][k[1][k[1][l]^getB(p[1],3)]^getB(p[0],3)]}}}function tfsG0(e){return a[0][getB(e,0)]^a[1][getB(e,1)]^a[2][getB(e,2)]^a[3][getB(e,3)]}function tfsG1(e){return a[0][getB(e,3)]^a[1][getB(e,0)]^a[2][getB(e,1)]^a[3][getB(e,2)]}function tfsFrnd(e,r){let n=tfsG0(r[0]);let a=tfsG1(r[1]);r[2]=rotw(r[2]^n+a+i[4*e+8]&t,31);r[3]=rotw(r[3],1)^n+2*a+i[4*e+9]&t;n=tfsG0(r[2]);a=tfsG1(r[3]);r[0]=rotw(r[0]^n+a+i[4*e+10]&t,31);r[1]=rotw(r[1],1)^n+2*a+i[4*e+11]&t}function tfsIrnd(e,r){let n=tfsG0(r[0]);let a=tfsG1(r[1]);r[2]=rotw(r[2],1)^n+a+i[4*e+10]&t;r[3]=rotw(r[3]^n+2*a+i[4*e+11]&t,31);n=tfsG0(r[2]);a=tfsG1(r[3]);r[0]=rotw(r[0],1)^n+a+i[4*e+8]&t;r[1]=rotw(r[1]^n+2*a+i[4*e+9]&t,31)}function tfsClose(){i=[];a=[[],[],[],[]]}function tfsEncrypt(e,t){r=e;n=t;const a=[getW(r,n)^i[0],getW(r,n+4)^i[1],getW(r,n+8)^i[2],getW(r,n+12)^i[3]];for(let e=0;e<8;e++){tfsFrnd(e,a)}setW(r,n,a[2]^i[4]);setW(r,n+4,a[3]^i[5]);setW(r,n+8,a[0]^i[6]);setW(r,n+12,a[1]^i[7]);n+=16;return r}function tfsDecrypt(e,t){r=e;n=t;const a=[getW(r,n)^i[4],getW(r,n+4)^i[5],getW(r,n+8)^i[6],getW(r,n+12)^i[7]];for(let e=7;e>=0;e--){tfsIrnd(e,a)}setW(r,n,a[2]^i[0]);setW(r,n+4,a[3]^i[1]);setW(r,n+8,a[0]^i[2]);setW(r,n+12,a[1]^i[3]);n+=16}function tfsFinal(){return r}return{name:"twofish",blocksize:128/8,open:tfsInit,close:tfsClose,encrypt:tfsEncrypt,decrypt:tfsDecrypt,finalize:tfsFinal}}function TF(e){this.tf=createTwofish();this.tf.open(Array.from(e),0);this.encrypt=function(e){return this.tf.encrypt(Array.from(e),0)}}TF.keySize=TF.prototype.keySize=32;TF.blockSize=TF.prototype.blockSize=16;n.default=TF},{}],103:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("asmcrypto.js/dist_es5/aes/cbc");var i=e("../util");var a=_interopRequireDefault(i);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const s=a.default.getWebCrypto();const f=a.default.getNodeCrypto();const c=a.default.getNodeBuffer();const l=16;function rightXorMut(e,r){const n=e.length-l;for(let t=0;t<l;t++){e[t+n]^=r[t]}return e}function pad(e,r,n){if(e.length&&e.length%l===0){return rightXorMut(e,r)}const t=new Uint8Array(e.length+(l-e.length%l));t.set(e);t[e.length]=128;return rightXorMut(t,n)}const d=new Uint8Array(l);n.default=async function CMAC(e){const r=await CBC(e);const n=a.default.double(await r(d));const t=a.default.double(n);return async function(e){return(await r(pad(e,n,t))).subarray(-l)}};async function CBC(e){if(a.default.getWebCrypto()&&e.length!==24){e=await s.importKey("raw",e,{name:"AES-CBC",length:e.length*8},false,["encrypt"]);return async function(r){const n=await s.encrypt({name:"AES-CBC",iv:d,length:l*8},e,r);return new Uint8Array(n).subarray(0,n.byteLength-l)}}if(a.default.getNodeCrypto()){e=c.from(e);return async function(r){r=c.from(r);const n=new f.createCipheriv("aes-"+e.length*8+"-cbc",e,d);const t=n.update(r);return new Uint8Array(t)}}return async function(r){return t.AES_CBC.encrypt(r,e,false,d)}}},{"../util":173,"asmcrypto.js/dist_es5/aes/cbc":4}],104:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("./public_key");var i=_interopRequireDefault(t);var a=e("./cipher");var s=_interopRequireDefault(a);var f=e("./random");var c=_interopRequireDefault(f);var l=e("../type/ecdh_symkey");var d=_interopRequireDefault(l);var o=e("../type/kdf_params");var u=_interopRequireDefault(o);var h=e("../type/mpi");var p=_interopRequireDefault(h);var v=e("../type/oid");var b=_interopRequireDefault(v);var y=e("../enums");var g=_interopRequireDefault(y);var w=e("../util");var m=_interopRequireDefault(w);var A=e("./pkcs1");var E=_interopRequireDefault(A);var S=e("./pkcs5");var k=_interopRequireDefault(S);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function constructParams(e,r){return e.map(function(e,n){if(r&&r[n]){return new e(r[n])}return new e})}n.default={publicKeyEncrypt:async function publicKeyEncrypt(e,r,n,t){const a=this.getEncSessionKeyParamTypes(e);switch(e){case g.default.publicKey.rsa_encrypt:case g.default.publicKey.rsa_encrypt_sign:{n=m.default.str_to_Uint8Array(n);const e=r[0].toUint8Array();const t=r[1].toUint8Array();const s=await i.default.rsa.encrypt(n,e,t);return constructParams(a,[s])}case g.default.publicKey.elgamal:{n=new p.default(await E.default.eme.encode(n,r[0].byteLength()));const e=n.toBN();const t=r[0].toBN();const s=r[1].toBN();const f=r[2].toBN();const c=await i.default.elgamal.encrypt(e,t,s,f);return constructParams(a,[c.c1,c.c2])}case g.default.publicKey.ecdh:{n=new p.default(k.default.encode(n));const e=r[0];const f=r[1].toUint8Array();const c=r[2];var s=await i.default.elliptic.ecdh.encrypt(e,c,n,f,t);const l=s.publicKey,d=s.wrappedKey;return constructParams(a,[l,d])}default:return[]}},publicKeyDecrypt:async function publicKeyDecrypt(e,r,n,t){switch(e){case g.default.publicKey.rsa_encrypt_sign:case g.default.publicKey.rsa_encrypt:{const e=n[0].toUint8Array();const t=r[0].toUint8Array();const a=r[1].toUint8Array();const s=r[2].toUint8Array();const f=r[3].toUint8Array();const c=r[4].toUint8Array();const l=r[5].toUint8Array();return i.default.rsa.decrypt(e,t,a,s,f,c,l)}case g.default.publicKey.elgamal:{const e=n[0].toBN();const t=n[1].toBN();const a=r[0].toBN();const s=r[3].toBN();const f=new p.default(await i.default.elgamal.decrypt(e,t,a,s));return E.default.eme.decode(f.toString())}case g.default.publicKey.ecdh:{const e=r[0];const a=r[2];const s=n[0].toUint8Array();const f=n[1].data;const c=r[1].toUint8Array();const l=r[3].toUint8Array();const d=new p.default(await i.default.elliptic.ecdh.decrypt(e,a,s,f,c,l,t));return k.default.decode(d.toString())}default:throw new Error("Invalid public key encryption algorithm.")}},getPrivKeyParamTypes:function getPrivKeyParamTypes(e){switch(e){case g.default.publicKey.rsa_encrypt:case g.default.publicKey.rsa_encrypt_sign:case g.default.publicKey.rsa_sign:return[p.default,p.default,p.default,p.default];case g.default.publicKey.elgamal:return[p.default];case g.default.publicKey.dsa:return[p.default];case g.default.publicKey.ecdh:case g.default.publicKey.ecdsa:case g.default.publicKey.eddsa:return[p.default];default:throw new Error("Invalid public key encryption algorithm.")}},getPubKeyParamTypes:function getPubKeyParamTypes(e){switch(e){case g.default.publicKey.rsa_encrypt:case g.default.publicKey.rsa_encrypt_sign:case g.default.publicKey.rsa_sign:return[p.default,p.default];case g.default.publicKey.elgamal:return[p.default,p.default,p.default];case g.default.publicKey.dsa:return[p.default,p.default,p.default,p.default];case g.default.publicKey.ecdsa:case g.default.publicKey.eddsa:return[b.default,p.default];case g.default.publicKey.ecdh:return[b.default,p.default,u.default];default:throw new Error("Invalid public key encryption algorithm.")}},getEncSessionKeyParamTypes:function getEncSessionKeyParamTypes(e){switch(e){case g.default.publicKey.rsa_encrypt:case g.default.publicKey.rsa_encrypt_sign:return[p.default];case g.default.publicKey.elgamal:return[p.default,p.default];case g.default.publicKey.ecdh:return[p.default,d.default];default:throw new Error("Invalid public key encryption algorithm.")}},generateParams:function generateParams(e,r,n){const t=[].concat(this.getPubKeyParamTypes(e),this.getPrivKeyParamTypes(e));switch(e){case g.default.publicKey.rsa_encrypt:case g.default.publicKey.rsa_encrypt_sign:case g.default.publicKey.rsa_sign:{return i.default.rsa.generate(r,"10001").then(function(e){return constructParams(t,[e.n,e.e,e.d,e.p,e.q,e.u])})}case g.default.publicKey.dsa:case g.default.publicKey.elgamal:throw new Error("Unsupported algorithm for key generation.");case g.default.publicKey.ecdsa:case g.default.publicKey.eddsa:return i.default.elliptic.generate(n).then(function(e){return constructParams(t,[e.oid,e.Q,e.d])});case g.default.publicKey.ecdh:return i.default.elliptic.generate(n).then(function(e){return constructParams(t,[e.oid,e.Q,{hash:e.hash,cipher:e.cipher},e.d])});default:throw new Error("Invalid public key algorithm.")}},validateParams:async function validateParams(e,r){switch(e){case g.default.publicKey.rsa_encrypt:case g.default.publicKey.rsa_encrypt_sign:case g.default.publicKey.rsa_sign:{if(r.length<6){throw new Error("Missing key parameters")}const e=r[0].toUint8Array();const n=r[1].toUint8Array();const t=r[2].toUint8Array();const a=r[3].toUint8Array();const s=r[4].toUint8Array();const f=r[5].toUint8Array();return i.default.rsa.validateParams(e,n,t,a,s,f)}case g.default.publicKey.dsa:{if(r.length<5){throw new Error("Missing key parameters")}const e=r[0].toUint8Array();const n=r[1].toUint8Array();const t=r[2].toUint8Array();const a=r[3].toUint8Array();const s=r[4].toUint8Array();return i.default.dsa.validateParams(e,n,t,a,s)}case g.default.publicKey.elgamal:{if(r.length<4){throw new Error("Missing key parameters")}const e=r[0].toUint8Array();const n=r[1].toUint8Array();const t=r[2].toUint8Array();const a=r[3].toUint8Array();return i.default.elgamal.validateParams(e,n,t,a)}case g.default.publicKey.ecdsa:case g.default.publicKey.ecdh:{const t=e===g.default.publicKey.ecdh?3:2;if(r.length<t){throw new Error("Missing key parameters")}const a=i.default.elliptic[g.default.read(g.default.publicKey,e)];var n=a.parseParams(r);const s=n.oid,f=n.Q,c=n.d;return a.validateParams(s,f,c)}case g.default.publicKey.eddsa:{const e=3;if(r.length<e){throw new Error("Missing key parameters")}var t=i.default.elliptic.eddsa.parseParams(r);const n=t.oid,a=t.Q,s=t.seed;return i.default.elliptic.eddsa.validateParams(n,a,s)}default:throw new Error("Invalid public key algorithm.")}},getPrefixRandom:async function getPrefixRandom(e){const r=await c.default.getRandomBytes(s.default[e].blockSize);const n=new Uint8Array([r[r.length-2],r[r.length-1]]);return m.default.concat([r,n])},generateSessionKey:function generateSessionKey(e){return c.default.getRandomBytes(s.default[e].keySize)},constructParams:constructParams}},{"../enums":128,"../type/ecdh_symkey":167,"../type/kdf_params":168,"../type/mpi":170,"../type/oid":171,"../util":173,"./cipher":101,"./pkcs1":111,"./pkcs5":112,"./public_key":121,"./random":124}],105:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=function(){function sliceIterator(e,r){var n=[];var t=true;var i=false;var a=undefined;try{for(var s=e[Symbol.iterator](),f;!(t=(f=s.next()).done);t=true){n.push(f.value);if(r&&n.length===r)break}}catch(e){i=true;a=e}finally{try{if(!t&&s["return"])s["return"]()}finally{if(i)throw a}}return n}return function(e,r){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return sliceIterator(e,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var i=e("asmcrypto.js/dist_es5/aes/ctr");var a=e("./cmac");var s=_interopRequireDefault(a);var f=e("../util");var c=_interopRequireDefault(f);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const l=c.default.getWebCrypto();const d=c.default.getNodeCrypto();const o=c.default.getNodeBuffer();const u=16;const h=u;const p=u;const v=new Uint8Array(u);const b=new Uint8Array(u);b[u-1]=1;const y=new Uint8Array(u);y[u-1]=2;async function OMAC(e){const r=await(0,s.default)(e);return function(e,n){return r(c.default.concatUint8Array([e,n]))}}async function CTR(e){if(c.default.getWebCrypto()&&e.length!==24&&navigator.userAgent.indexOf("Edge")===-1){e=await l.importKey("raw",e,{name:"AES-CTR",length:e.length*8},false,["encrypt"]);return async function(r,n){const t=await l.encrypt({name:"AES-CTR",counter:n,length:u*8},e,r);return new Uint8Array(t)}}if(c.default.getNodeCrypto()){e=o.from(e);return async function(r,n){r=o.from(r);n=o.from(n);const t=new d.createCipheriv("aes-"+e.length*8+"-ctr",e,n);const i=o.concat([t.update(r),t.final()]);return new Uint8Array(i)}}return async function(r,n){return i.AES_CTR.encrypt(r,e,n)}}async function EAX(e,r){if(e.substr(0,3)!=="aes"){throw new Error("EAX mode supports only AES cipher")}var n=await Promise.all([OMAC(r),CTR(r)]),i=t(n,2);const a=i[0],s=i[1];return{encrypt:async function encrypt(e,r,n){var i=await Promise.all([a(v,r),a(b,n)]),f=t(i,2);const l=f[0],d=f[1];const o=await s(e,l);const u=await a(y,o);const h=u;for(let e=0;e<p;e++){h[e]^=d[e]^l[e]}return c.default.concatUint8Array([o,h])},decrypt:async function decrypt(e,r,n){if(e.length<p)throw new Error("Invalid EAX ciphertext");const i=e.subarray(0,-p);const f=e.subarray(-p);var l=await Promise.all([a(v,r),a(b,n),a(y,i)]),d=t(l,3);const o=d[0],u=d[1],h=d[2];const g=h;for(let e=0;e<p;e++){g[e]^=u[e]^o[e]}if(!c.default.equalsUint8Array(f,g))throw new Error("Authentication tag mismatch");const w=await s(i,o);return w}}}EAX.getNonce=function(e,r){const n=e.slice();for(let e=0;e<r.length;e++){n[8+e]^=r[e]}return n};EAX.blockLength=u;EAX.ivLength=h;EAX.tagLength=p;n.default=EAX},{"../util":173,"./cmac":103,"asmcrypto.js/dist_es5/aes/ctr":6}],106:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("asmcrypto.js/dist_es5/aes/gcm");var i=e("../util");var a=_interopRequireDefault(i);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const s=a.default.getWebCrypto();const f=a.default.getNodeCrypto();const c=a.default.getNodeBuffer();const l=16;const d=12;const o=16;const u="AES-GCM";async function GCM(e,r){if(e.substr(0,3)!=="aes"){throw new Error("GCM mode supports only AES cipher")}if(a.default.getWebCrypto()&&r.length!==24){const e=await s.importKey("raw",r,{name:u},false,["encrypt","decrypt"]);return{encrypt:async function encrypt(n,i,a=new Uint8Array){if(!n.length||!a.length&&navigator.userAgent.indexOf("Edge")!==-1){return t.AES_GCM.encrypt(n,r,i,a)}const f=await s.encrypt({name:u,iv:i,additionalData:a,tagLength:o*8},e,n);return new Uint8Array(f)},decrypt:async function decrypt(n,i,a=new Uint8Array){if(n.length===o||!a.length&&navigator.userAgent.indexOf("Edge")!==-1){return t.AES_GCM.decrypt(n,r,i,a)}const f=await s.decrypt({name:u,iv:i,additionalData:a,tagLength:o*8},e,n);return new Uint8Array(f)}}}if(a.default.getNodeCrypto()){r=c.from(r);return{encrypt:async function encrypt(e,n,t=new Uint8Array){e=c.from(e);n=c.from(n);t=c.from(t);const i=new f.createCipheriv("aes-"+r.length*8+"-gcm",r,n);i.setAAD(t);const a=c.concat([i.update(e),i.final(),i.getAuthTag()]);return new Uint8Array(a)},decrypt:async function decrypt(e,n,t=new Uint8Array){e=c.from(e);n=c.from(n);t=c.from(t);const i=new f.createDecipheriv("aes-"+r.length*8+"-gcm",r,n);i.setAAD(t);i.setAuthTag(e.slice(e.length-o,e.length));const a=c.concat([i.update(e.slice(0,e.length-o)),i.final()]);return new Uint8Array(a)}}}return{encrypt:async function encrypt(e,n,i){return t.AES_GCM.encrypt(e,r,n,i)},decrypt:async function decrypt(e,n,i){return t.AES_GCM.decrypt(e,r,n,i)}}}GCM.getNonce=function(e,r){const n=e.slice();for(let e=0;e<r.length;e++){n[4+e]^=r[e]}return n};GCM.blockLength=l;GCM.ivLength=d;GCM.tagLength=o;n.default=GCM},{"../util":173,"asmcrypto.js/dist_es5/aes/gcm":8}],107:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("asmcrypto.js/dist_es5/hash/sha1/sha1");var i=e("asmcrypto.js/dist_es5/hash/sha256/sha256");var a=e("hash.js/lib/hash/sha/224");var s=_interopRequireDefault(a);var f=e("hash.js/lib/hash/sha/384");var c=_interopRequireDefault(f);var l=e("hash.js/lib/hash/sha/512");var d=_interopRequireDefault(l);var o=e("hash.js/lib/hash/ripemd");var u=e("web-stream-tools");var h=_interopRequireDefault(u);var p=e("./md5");var v=_interopRequireDefault(p);var b=e("../../config");var y=_interopRequireDefault(b);var g=e("../../util");var w=_interopRequireDefault(g);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const m=w.default.getWebCrypto();const A=w.default.getNodeCrypto();const E=w.default.getNodeBuffer();function node_hash(e){return async function(r){const n=A.createHash(e);return h.default.transform(r,e=>{n.update(E.from(e))},()=>new Uint8Array(n.digest()))}}function hashjs_hash(e,r){return async function(n){if(!w.default.isStream(n)&&m&&r&&n.length>=y.default.min_bytes_for_web_crypto){return new Uint8Array(await m.digest(r,n))}const t=e();return h.default.transform(n,e=>{t.update(e)},()=>new Uint8Array(t.digest()))}}function asmcrypto_hash(e,r){return async function(n){if(w.default.isStream(n)){const r=new e;return h.default.transform(n,e=>{r.process(e)},()=>r.finish().result)}else if(m&&r&&n.length>=y.default.min_bytes_for_web_crypto){return new Uint8Array(await m.digest(r,n))}else{return e.bytes(n)}}}let S;if(A){S={md5:node_hash("md5"),sha1:node_hash("sha1"),sha224:node_hash("sha224"),sha256:node_hash("sha256"),sha384:node_hash("sha384"),sha512:node_hash("sha512"),ripemd:node_hash("ripemd160")}}else{S={md5:v.default,sha1:asmcrypto_hash(t.Sha1,navigator.userAgent.indexOf("Edge")===-1&&"SHA-1"),sha224:hashjs_hash(s.default),sha256:asmcrypto_hash(i.Sha256,"SHA-256"),sha384:hashjs_hash(c.default,"SHA-384"),sha512:hashjs_hash(d.default,"SHA-512"),ripemd:hashjs_hash(o.ripemd160)}}n.default={md5:S.md5,sha1:S.sha1,sha224:S.sha224,sha256:S.sha256,sha384:S.sha384,sha512:S.sha512,ripemd:S.ripemd,digest:function digest(e,r){switch(e){case 1:return this.md5(r);case 2:return this.sha1(r);case 3:return this.ripemd(r);case 8:return this.sha256(r);case 9:return this.sha384(r);case 10:return this.sha512(r);case 11:return this.sha224(r);default:throw new Error("Invalid hash function.")}},getHashByteLength:function getHashByteLength(e){switch(e){case 1:return 16;case 2:case 3:return 20;case 8:return 32;case 9:return 48;case 10:return 64;case 11:return 28;default:throw new Error("Invalid hash algorithm.")}}}},{"../../config":94,"../../util":173,"./md5":108,"asmcrypto.js/dist_es5/hash/sha1/sha1":11,"asmcrypto.js/dist_es5/hash/sha256/sha256":13,"hash.js/lib/hash/ripemd":51,"hash.js/lib/hash/sha/224":54,"hash.js/lib/hash/sha/384":56,"hash.js/lib/hash/sha/512":57,"web-stream-tools":90}],108:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("../../util");var i=_interopRequireDefault(t);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}async function md5(e){const r=md51(i.default.Uint8Array_to_str(e));return i.default.hex_to_Uint8Array(hex(r))}function md5cycle(e,r){let n=e[0];let t=e[1];let i=e[2];let a=e[3];n=ff(n,t,i,a,r[0],7,-680876936);a=ff(a,n,t,i,r[1],12,-389564586);i=ff(i,a,n,t,r[2],17,606105819);t=ff(t,i,a,n,r[3],22,-1044525330);n=ff(n,t,i,a,r[4],7,-176418897);a=ff(a,n,t,i,r[5],12,1200080426);i=ff(i,a,n,t,r[6],17,-1473231341);t=ff(t,i,a,n,r[7],22,-45705983);n=ff(n,t,i,a,r[8],7,1770035416);a=ff(a,n,t,i,r[9],12,-1958414417);i=ff(i,a,n,t,r[10],17,-42063);t=ff(t,i,a,n,r[11],22,-1990404162);n=ff(n,t,i,a,r[12],7,1804603682);a=ff(a,n,t,i,r[13],12,-40341101);i=ff(i,a,n,t,r[14],17,-1502002290);t=ff(t,i,a,n,r[15],22,1236535329);n=gg(n,t,i,a,r[1],5,-165796510);a=gg(a,n,t,i,r[6],9,-1069501632);i=gg(i,a,n,t,r[11],14,643717713);t=gg(t,i,a,n,r[0],20,-373897302);n=gg(n,t,i,a,r[5],5,-701558691);a=gg(a,n,t,i,r[10],9,38016083);i=gg(i,a,n,t,r[15],14,-660478335);t=gg(t,i,a,n,r[4],20,-405537848);n=gg(n,t,i,a,r[9],5,568446438);a=gg(a,n,t,i,r[14],9,-1019803690);i=gg(i,a,n,t,r[3],14,-187363961);t=gg(t,i,a,n,r[8],20,1163531501);n=gg(n,t,i,a,r[13],5,-1444681467);a=gg(a,n,t,i,r[2],9,-51403784);i=gg(i,a,n,t,r[7],14,1735328473);t=gg(t,i,a,n,r[12],20,-1926607734);n=hh(n,t,i,a,r[5],4,-378558);a=hh(a,n,t,i,r[8],11,-2022574463);i=hh(i,a,n,t,r[11],16,1839030562);t=hh(t,i,a,n,r[14],23,-35309556);n=hh(n,t,i,a,r[1],4,-1530992060);a=hh(a,n,t,i,r[4],11,1272893353);i=hh(i,a,n,t,r[7],16,-155497632);t=hh(t,i,a,n,r[10],23,-1094730640);n=hh(n,t,i,a,r[13],4,681279174);a=hh(a,n,t,i,r[0],11,-358537222);i=hh(i,a,n,t,r[3],16,-722521979);t=hh(t,i,a,n,r[6],23,76029189);n=hh(n,t,i,a,r[9],4,-640364487);a=hh(a,n,t,i,r[12],11,-421815835);i=hh(i,a,n,t,r[15],16,530742520);t=hh(t,i,a,n,r[2],23,-995338651);n=ii(n,t,i,a,r[0],6,-198630844);a=ii(a,n,t,i,r[7],10,1126891415);i=ii(i,a,n,t,r[14],15,-1416354905);t=ii(t,i,a,n,r[5],21,-57434055);n=ii(n,t,i,a,r[12],6,1700485571);a=ii(a,n,t,i,r[3],10,-1894986606);i=ii(i,a,n,t,r[10],15,-1051523);t=ii(t,i,a,n,r[1],21,-2054922799);n=ii(n,t,i,a,r[8],6,1873313359);a=ii(a,n,t,i,r[15],10,-30611744);i=ii(i,a,n,t,r[6],15,-1560198380);t=ii(t,i,a,n,r[13],21,1309151649);n=ii(n,t,i,a,r[4],6,-145523070);a=ii(a,n,t,i,r[11],10,-1120210379);i=ii(i,a,n,t,r[2],15,718787259);t=ii(t,i,a,n,r[9],21,-343485551);e[0]=add32(n,e[0]);e[1]=add32(t,e[1]);e[2]=add32(i,e[2]);e[3]=add32(a,e[3])}function cmn(e,r,n,t,i,a){r=add32(add32(r,e),add32(t,a));return add32(r<<i|r>>>32-i,n)}function ff(e,r,n,t,i,a,s){return cmn(r&n|~r&t,e,r,i,a,s)}function gg(e,r,n,t,i,a,s){return cmn(r&t|n&~t,e,r,i,a,s)}function hh(e,r,n,t,i,a,s){return cmn(r^n^t,e,r,i,a,s)}function ii(e,r,n,t,i,a,s){return cmn(n^(r|~t),e,r,i,a,s)}function md51(e){const r=e.length;const n=[1732584193,-271733879,-1732584194,271733878];let t;for(t=64;t<=e.length;t+=64){md5cycle(n,md5blk(e.substring(t-64,t)))}e=e.substring(t-64);const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++){i[t>>2]|=e.charCodeAt(t)<<(t%4<<3)}i[t>>2]|=128<<(t%4<<3);if(t>55){md5cycle(n,i);for(t=0;t<16;t++){i[t]=0}}i[14]=r*8;md5cycle(n,i);return n}function md5blk(e){const r=[];let n;for(n=0;n<64;n+=4){r[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24)}return r}const a="0123456789abcdef".split("");function rhex(e){let r="";let n=0;for(;n<4;n++){r+=a[e>>n*8+4&15]+a[e>>n*8&15]}return r}function hex(e){for(let r=0;r<e.length;r++){e[r]=rhex(e[r])}return e.join("")}function add32(e,r){return e+r&4294967295}n.default=md5},{"../../util":173}],109:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("./cipher");var i=_interopRequireDefault(t);var a=e("./hash");var s=_interopRequireDefault(a);var f=e("./cfb");var c=_interopRequireDefault(f);var l=e("./gcm");var d=_interopRequireDefault(l);var o=e("./eax");var u=_interopRequireDefault(o);var h=e("./ocb");var p=_interopRequireDefault(h);var v=e("./public_key");var b=_interopRequireDefault(v);var y=e("./signature");var g=_interopRequireDefault(y);var w=e("./random");var m=_interopRequireDefault(w);var A=e("./pkcs1");var E=_interopRequireDefault(A);var S=e("./pkcs5");var k=_interopRequireDefault(S);var R=e("./crypto");var M=_interopRequireDefault(R);var C=e("./aes_kw");var D=_interopRequireDefault(C);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const _={cipher:i.default,hash:s.default,cfb:c.default,gcm:d.default,experimental_gcm:d.default,eax:u.default,ocb:p.default,publicKey:b.default,signature:g.default,random:m.default,pkcs1:E.default,pkcs5:k.default,aes_kw:D.default};Object.assign(_,M.default);n.default=_},{"./aes_kw":95,"./cfb":96,"./cipher":101,"./crypto":104,"./eax":105,"./gcm":106,"./hash":107,"./ocb":110,"./pkcs1":111,"./pkcs5":112,"./public_key":121,"./random":124,"./signature":125}],110:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("./cipher");var i=_interopRequireDefault(t);var a=e("../util");var s=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const f=16;const c=15;const l=16;function ntz(e){let r=0;for(let n=1;(e&n)===0;n<<=1){r++}return r}function xorMut(e,r){for(let n=0;n<e.length;n++){e[n]^=r[n]}return e}function xor(e,r){return xorMut(e.slice(),r)}const d=new Uint8Array(f);const o=new Uint8Array([1]);async function OCB(e,r){let n=0;let t;let a;let u;constructKeyVariables(e,r);function constructKeyVariables(e,r){const n=new i.default[e](r);t=n.encrypt.bind(n);a=n.decrypt.bind(n);const f=t(d);const c=s.default.double(f);u=[];u[0]=s.default.double(c);u.x=f;u.$=c}function extendKeyVariables(e,r){const t=s.default.nbits(Math.max(e.length,r.length)/f|0)-1;for(let e=n+1;e<=t;e++){u[e]=s.default.double(u[e-1])}n=t}function hash(e){if(!e.length){return d}const r=e.length/f|0;const n=new Uint8Array(f);const i=new Uint8Array(f);for(let a=0;a<r;a++){xorMut(n,u[ntz(a+1)]);xorMut(i,t(xor(n,e)));e=e.subarray(f)}if(e.length){xorMut(n,u.x);const r=new Uint8Array(f);r.set(e,0);r[e.length]=128;xorMut(r,n);xorMut(i,t(r))}return i}function crypt(e,r,n,i){const a=r.length/f|0;extendKeyVariables(r,i);const h=s.default.concatUint8Array([d.subarray(0,c-n.length),o,n]);const p=h[f-1]&63;h[f-1]&=192;const v=t(h);const b=s.default.concatUint8Array([v,xor(v.subarray(0,8),v.subarray(1,9))]);const y=s.default.shiftRight(b.subarray(0+(p>>3),17+(p>>3)),8-(p&7)).subarray(1);const g=new Uint8Array(f);const w=new Uint8Array(r.length+l);let m;let A=0;for(m=0;m<a;m++){xorMut(y,u[ntz(m+1)]);w.set(xorMut(e(xor(y,r)),y),A);xorMut(g,e===t?r:w.subarray(A));r=r.subarray(f);A+=f}if(r.length){xorMut(y,u.x);const n=t(y);w.set(xor(r,n),A);const i=new Uint8Array(f);i.set(e===t?r:w.subarray(A,-l),0);i[r.length]=128;xorMut(g,i);A+=r.length}const E=xorMut(t(xorMut(xorMut(g,y),u.$)),hash(i));w.set(E,A);return w}return{encrypt:async function encrypt(e,r,n){return crypt(t,e,r,n)},decrypt:async function decrypt(e,r,n){if(e.length<l)throw new Error("Invalid OCB ciphertext");const t=e.subarray(-l);e=e.subarray(0,-l);const i=crypt(a,e,r,n);if(s.default.equalsUint8Array(t,i.subarray(-l))){return i.subarray(0,-l)}throw new Error("Authentication tag mismatch")}}}OCB.getNonce=function(e,r){const n=e.slice();for(let e=0;e<r.length;e++){n[7+e]^=r[e]}return n};OCB.blockLength=f;OCB.ivLength=c;OCB.tagLength=l;n.default=OCB},{"../util":173,"./cipher":101}],111:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("./random");var i=_interopRequireDefault(t);var a=e("./hash");var s=_interopRequireDefault(a);var f=e("../util");var c=_interopRequireDefault(f);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const l={};const d={};const o=[];o[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16];o[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20];o[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20];o[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32];o[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48];o[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64];o[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];async function getPkcs1Padding(e){let r="";while(r.length<e){const n=await i.default.getRandomBytes(e-r.length);for(let e=0;e<n.length;e++){if(n[e]!==0){r+=String.fromCharCode(n[e])}}}return r}l.encode=async function(e,r){const n=e.length;if(n>r-11){throw new Error("Message too long")}const t=await getPkcs1Padding(r-n-3);return String.fromCharCode(0)+String.fromCharCode(2)+t+String.fromCharCode(0)+e};l.decode=function(e){if(e.charCodeAt(0)!==0){e=String.fromCharCode(0)+e}const r=e.charCodeAt(0);const n=e.charCodeAt(1);let t=2;while(e.charCodeAt(t)!==0&&t<e.length){t++}const i=t-2;const a=e.charCodeAt(t++);if(r===0&&n===2&&i>=8&&a===0){return e.substr(t)}throw new Error("Decryption error")};d.encode=async function(e,r,n){let t;const i=c.default.Uint8Array_to_str(r);if(i.length!==s.default.getHashByteLength(e)){throw new Error("Invalid hash length")}let a="";for(t=0;t<o[e].length;t++){a+=String.fromCharCode(o[e][t])}a+=i;const f=a.length;if(n<f+11){throw new Error("Intended encoded message length too short")}let l="";for(t=0;t<n-f-3;t++){l+=String.fromCharCode(255)}const d=String.fromCharCode(0)+String.fromCharCode(1)+l+String.fromCharCode(0)+a;return c.default.str_to_hex(d)};n.default={eme:l,emsa:d}},{"../util":173,"./hash":107,"./random":124}],112:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});function encode(e){const r=8-e.length%8;const n=String.fromCharCode(r).repeat(r);return e+n}function decode(e){const r=e.length;if(r>0){const n=e.charCodeAt(r-1);if(n>=1){const t=e.substr(r-n);const i=String.fromCharCode(n).repeat(n);if(t===i){return e.substr(0,r-n)}}}throw new Error("Invalid padding")}n.default={encode:encode,decode:decode}},{}],113:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("bn.js");var i=_interopRequireDefault(t);var a=e("../random");var s=_interopRequireDefault(a);var f=e("../../util");var c=_interopRequireDefault(f);var l=e("./prime");var d=_interopRequireDefault(l);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const o=new i.default(1);const u=new i.default(0);n.default={sign:async function sign(e,r,n,t,a,f){let c;let l;let d;let h;const p=new i.default.red(t);const v=new i.default.red(a);const b=n.toRed(p);const y=f.toRed(v);const g=new i.default(r.subarray(0,a.byteLength())).toRed(v);while(true){c=await s.default.getRandomBN(o,a);l=b.redPow(c).fromRed().toRed(v);if(u.cmp(l)===0){continue}h=g.redAdd(y.redMul(l));d=c.toRed(v).redInvm().redMul(h);if(u.cmp(d)===0){continue}break}return{r:l.toArrayLike(Uint8Array,"be",a.byteLength()),s:d.toArrayLike(Uint8Array,"be",a.byteLength())}},verify:async function verify(e,r,n,t,a,s,f,l){if(u.ucmp(r)>=0||r.ucmp(f)>=0||u.ucmp(n)>=0||n.ucmp(f)>=0){c.default.print_debug("invalid DSA Signature");return null}const d=new i.default.red(s);const o=new i.default.red(f);const h=new i.default(t.subarray(0,f.byteLength()));const p=n.toRed(o).redInvm();if(u.cmp(p)===0){c.default.print_debug("invalid DSA Signature");return null}const v=h.toRed(o).redMul(p);const b=r.toRed(o).redMul(p);const y=a.toRed(d).redPow(v.fromRed());const g=l.toRed(d).redPow(b.fromRed());const w=y.redMul(g).fromRed().mod(f);return w.cmp(r)===0},validateParams:async function validateParams(e,r,n,t,a){e=new i.default(e);r=new i.default(r);n=new i.default(n);t=new i.default(t);const f=new i.default(1);if(n.lte(f)||n.gte(e)){return false}if(!e.sub(f).mod(r).isZero()){return false}const c=new i.default.red(e);const l=n.toRed(c);if(!l.redPow(r).eq(f)){return false}const o=r.bitLength();if(o<150||!await d.default.isProbablePrime(r,null,32)){return false}a=new i.default(a);const u=await s.default.getRandomBN(new i.default(2).shln(o-1),new i.default(2).shln(o));const h=r.mul(u).add(a);if(!t.eq(l.redPow(h))){return false}return true}}},{"../../util":173,"../random":124,"./prime":122,"bn.js":30}],114:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("bn.js");var i=_interopRequireDefault(t);var a=e("../random");var s=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const f=new i.default(0);n.default={encrypt:async function encrypt(e,r,n,t){const a=new i.default.red(r);const c=e.toRed(a);const l=n.toRed(a);const d=t.toRed(a);const o=await s.default.getRandomBN(f,r);return{c1:l.redPow(o).fromRed(),c2:d.redPow(o).redMul(c).fromRed()}},decrypt:async function decrypt(e,r,n,t){const a=new i.default.red(n);const s=e.toRed(a);const f=r.toRed(a);return s.redPow(t).redInvm().redMul(f).fromRed()},validateParams:async function validateParams(e,r,n,t){e=new i.default(e);r=new i.default(r);n=new i.default(n);const a=new i.default(1);if(r.lte(a)||r.gte(e)){return false}const f=e.subn(1).bitLength();if(f<1023){return false}const c=new i.default.red(e);const l=r.toRed(c);if(!l.redPow(e.subn(1)).eq(a)){return false}let d=r;const o=new i.default(1);const u=new i.default(2).shln(17);while(o.lt(u)){d=d.mul(r).mod(e);if(d.eqn(1)){return false}o.iaddn(1)}t=new i.default(t);const h=await s.default.getRandomBN(new i.default(2).shln(f-1),new i.default(2).shln(f));const p=e.subn(1).mul(h).add(t);if(!n.eq(l.redPow(p))){return false}return true}}},{"../random":124,"bn.js":30}],115:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.validateStandardParams=n.privateToJwk=n.rawPublicToJwk=n.jwkToRawPublic=n.getPreferredHashAlgo=n.generate=n.nodeCurves=n.webCurves=n.curves=undefined;var t=e("bn.js");var i=_interopRequireDefault(t);var a=e("tweetnacl/nacl-fast-light.js");var s=_interopRequireDefault(a);var f=e("../../random");var c=_interopRequireDefault(f);var l=e("../../../enums");var d=_interopRequireDefault(l);var o=e("../../../util");var u=_interopRequireDefault(o);var h=e("../../../type/oid");var p=_interopRequireDefault(h);var v=e("./indutnyKey");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const b=u.default.getWebCrypto();const y=u.default.getNodeCrypto();const g={p256:"P-256",p384:"P-384",p521:"P-521"};const w=y?y.getCurves():[];const m=y?{secp256k1:w.includes("secp256k1")?"secp256k1":undefined,p256:w.includes("prime256v1")?"prime256v1":undefined,p384:w.includes("secp384r1")?"secp384r1":undefined,p521:w.includes("secp521r1")?"secp521r1":undefined,ed25519:w.includes("ED25519")?"ED25519":undefined,curve25519:w.includes("X25519")?"X25519":undefined,brainpoolP256r1:w.includes("brainpoolP256r1")?"brainpoolP256r1":undefined,brainpoolP384r1:w.includes("brainpoolP384r1")?"brainpoolP384r1":undefined,brainpoolP512r1:w.includes("brainpoolP512r1")?"brainpoolP512r1":undefined}:{};const A={p256:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:d.default.publicKey.ecdsa,hash:d.default.hash.sha256,cipher:d.default.symmetric.aes128,node:m.p256,web:g.p256,payloadSize:32,sharedSize:256},p384:{oid:[6,5,43,129,4,0,34],keyType:d.default.publicKey.ecdsa,hash:d.default.hash.sha384,cipher:d.default.symmetric.aes192,node:m.p384,web:g.p384,payloadSize:48,sharedSize:384},p521:{oid:[6,5,43,129,4,0,35],keyType:d.default.publicKey.ecdsa,hash:d.default.hash.sha512,cipher:d.default.symmetric.aes256,node:m.p521,web:g.p521,payloadSize:66,sharedSize:528},secp256k1:{oid:[6,5,43,129,4,0,10],keyType:d.default.publicKey.ecdsa,hash:d.default.hash.sha256,cipher:d.default.symmetric.aes128,node:m.secp256k1,payloadSize:32},ed25519:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:d.default.publicKey.eddsa,hash:d.default.hash.sha512,node:false,payloadSize:32},curve25519:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:d.default.publicKey.ecdh,hash:d.default.hash.sha256,cipher:d.default.symmetric.aes128,node:false,payloadSize:32},brainpoolP256r1:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:d.default.publicKey.ecdsa,hash:d.default.hash.sha256,cipher:d.default.symmetric.aes128,node:m.brainpoolP256r1,payloadSize:32},brainpoolP384r1:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:d.default.publicKey.ecdsa,hash:d.default.hash.sha384,cipher:d.default.symmetric.aes192,node:m.brainpoolP384r1,payloadSize:48},brainpoolP512r1:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:d.default.publicKey.ecdsa,hash:d.default.hash.sha512,cipher:d.default.symmetric.aes256,node:m.brainpoolP512r1,payloadSize:64}};function Curve(e,r){try{if(u.default.isArray(e)||u.default.isUint8Array(e)){e=new p.default(e)}if(e instanceof p.default){e=e.getName()}this.name=d.default.write(d.default.curve,e)}catch(e){throw new Error("Not valid curve")}r=r||A[this.name];this.keyType=r.keyType;this.oid=r.oid;this.hash=r.hash;this.cipher=r.cipher;this.node=r.node&&A[this.name];this.web=r.web&&A[this.name];this.payloadSize=r.payloadSize;if(this.web&&u.default.getWebCrypto()){this.type="web"}else if(this.node&&u.default.getNodeCrypto()){this.type="node"}else if(this.name==="curve25519"){this.type="curve25519"}else if(this.name==="ed25519"){this.type="ed25519"}}Curve.prototype.genKeyPair=async function(){let e;switch(this.type){case"web":try{return await webGenKeyPair(this.name)}catch(e){u.default.print_debug_error("Browser did not support generating ec key "+e.message);break}case"node":return nodeGenKeyPair(this.name);case"curve25519":{const r=await c.default.getRandomBytes(32);r[0]=r[0]&127|64;r[31]&=248;const n=r.slice().reverse();e=s.default.box.keyPair.fromSecretKey(n);const t=u.default.concatUint8Array([new Uint8Array([64]),e.publicKey]);return{publicKey:t,privateKey:r}}case"ed25519":{const e=await c.default.getRandomBytes(32);const r=s.default.sign.keyPair.fromSeed(e);const n=u.default.concatUint8Array([new Uint8Array([64]),r.publicKey]);return{publicKey:n,privateKey:e}}}const r=await(0,v.getIndutnyCurve)(this.name);e=await r.genKeyPair({entropy:u.default.Uint8Array_to_str(await c.default.getRandomBytes(32))});return{publicKey:new Uint8Array(e.getPublic("array",false)),privateKey:e.getPrivate().toArrayLike(Uint8Array)}};async function generate(e){e=new Curve(e);const r=await e.genKeyPair();return{oid:e.oid,Q:new i.default(r.publicKey),d:new i.default(r.privateKey),hash:e.hash,cipher:e.cipher}}function getPreferredHashAlgo(e){return A[d.default.write(d.default.curve,e.toHex())].hash}async function validateStandardParams(e,r,n,t){const a={p256:true,p384:true,p521:true,secp256k1:true,curve25519:e===d.default.publicKey.ecdh,brainpoolP256r1:true,brainpoolP384r1:true,brainpoolP512r1:true};const f=r.getName();if(!a[f]){return false}if(f==="curve25519"){t=t.slice().reverse();var c=s.default.box.keyPair.fromSecretKey(t);const e=c.publicKey;n=new Uint8Array(n);const r=new Uint8Array([64,...e]);if(!u.default.equalsUint8Array(r,n)){return false}return true}const l=await(0,v.getIndutnyCurve)(f);try{n=(0,v.keyFromPublic)(l,n).getPublic()}catch(e){return false}t=new i.default(t);const o=(0,v.keyFromPrivate)(l,t).getPublic();if(!o.eq(n)){return false}return true}n.default=Curve;n.curves=A;n.webCurves=g;n.nodeCurves=m;n.generate=generate;n.getPreferredHashAlgo=getPreferredHashAlgo;n.jwkToRawPublic=jwkToRawPublic;n.rawPublicToJwk=rawPublicToJwk;n.privateToJwk=privateToJwk;n.validateStandardParams=validateStandardParams;async function webGenKeyPair(e){const r=await b.generateKey({name:"ECDSA",namedCurve:g[e]},true,["sign","verify"]);const n=await b.exportKey("jwk",r.privateKey);const t=await b.exportKey("jwk",r.publicKey);return{publicKey:jwkToRawPublic(t),privateKey:u.default.b64_to_Uint8Array(n.d,true)}}async function nodeGenKeyPair(e){const r=y.createECDH(m[e]);await r.generateKeys();return{publicKey:new Uint8Array(r.getPublicKey()),privateKey:new Uint8Array(r.getPrivateKey())}}function jwkToRawPublic(e){const r=u.default.b64_to_Uint8Array(e.x);const n=u.default.b64_to_Uint8Array(e.y);const t=new Uint8Array(r.length+n.length+1);t[0]=4;t.set(r,1);t.set(n,r.length+1);return t}function rawPublicToJwk(e,r,n){const t=e;const i=n.slice(1,t+1);const a=n.slice(t+1,t*2+1);const s={kty:"EC",crv:r,x:u.default.Uint8Array_to_b64(i,true),y:u.default.Uint8Array_to_b64(a,true),ext:true};return s}function privateToJwk(e,r,n,t){const i=rawPublicToJwk(e,r,n);i.d=u.default.Uint8Array_to_b64(t,true);return i}},{"../../../enums":128,"../../../type/oid":171,"../../../util":173,"../../random":124,"./indutnyKey":120,"bn.js":30,"tweetnacl/nacl-fast-light.js":86}],116:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=function(){function sliceIterator(e,r){var n=[];var t=true;var i=false;var a=undefined;try{for(var s=e[Symbol.iterator](),f;!(t=(f=s.next()).done);t=true){n.push(f.value);if(r&&n.length===r)break}}catch(e){i=true;a=e}finally{try{if(!t&&s["return"])s["return"]()}finally{if(i)throw a}}return n}return function(e,r){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return sliceIterator(e,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var i=e("bn.js");var a=_interopRequireDefault(i);var s=e("tweetnacl/nacl-fast-light.js");var f=_interopRequireDefault(s);var c=e("./curves");var l=_interopRequireDefault(c);var d=e("../../aes_kw");var o=_interopRequireDefault(d);var u=e("../../cipher");var h=_interopRequireDefault(u);var p=e("../../random");var v=_interopRequireDefault(p);var b=e("../../hash");var y=_interopRequireDefault(b);var g=e("../../../enums");var w=_interopRequireDefault(g);var m=e("../../../util");var A=_interopRequireDefault(m);var E=e("./indutnyKey");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const S=A.default.getWebCrypto();const k=A.default.getNodeCrypto();async function validateParams(e,r,n){return(0,c.validateStandardParams)(w.default.publicKey.ecdh,e,r,n)}function buildEcdhParam(e,r,n,t){return A.default.concatUint8Array([r.write(),new Uint8Array([e]),n.write(),A.default.str_to_Uint8Array("Anonymous Sender    "),t.subarray(0,20)])}function parseParams(e){if(e.length<3||e.length>4){throw new Error("Unexpected number of parameters")}const r=e[0];const n=new l.default(r);const t={oid:r};t.Q=e[1].toUint8Array();t.kdfParams=e[2];if(e.length===4){t.d=e[3].toUint8Array("be",n.payloadSize)}return t}async function kdf(e,r,n,t,i=false,a=false){let s;if(i){for(s=0;s<r.length&&r[s]===0;s++);r=r.subarray(s)}if(a){for(s=r.length-1;s>=0&&r[s]===0;s--);r=r.subarray(0,s+1)}const f=await y.default.digest(e,A.default.concatUint8Array([new Uint8Array([0,0,0,1]),r,t]));return f.subarray(0,n)}async function genPublicEphemeralKey(e,r){switch(e.type){case"curve25519":{const i=await v.default.getRandomBytes(32);var n=await genPrivateEphemeralKey(e,r,null,i);const a=n.secretKey,s=n.sharedKey;var t=f.default.box.keyPair.fromSecretKey(a);let c=t.publicKey;c=A.default.concatUint8Array([new Uint8Array([64]),c]);return{publicKey:c,sharedKey:s}}case"web":if(e.web&&A.default.getWebCrypto()){try{return await webPublicEphemeralKey(e,r)}catch(e){A.default.print_debug_error(e)}}break;case"node":return nodePublicEphemeralKey(e,r)}return ellipticPublicEphemeralKey(e,r)}async function encrypt(e,r,n,t,i){const a=new l.default(e);var s=await genPublicEphemeralKey(a,t);const f=s.publicKey,c=s.sharedKey;const d=buildEcdhParam(w.default.publicKey.ecdh,e,r,i);const u=w.default.read(w.default.symmetric,r.cipher);const p=await kdf(r.hash,c,h.default[u].keySize,d);const v=o.default.wrap(p,n.toString());return{publicKey:f,wrappedKey:v}}async function genPrivateEphemeralKey(e,r,n,t){if(t.length!==e.payloadSize){const r=new Uint8Array(e.payloadSize);r.set(t,e.payloadSize-t.length);t=r}switch(e.type){case"curve25519":{const e=t.slice().reverse();const n=f.default.scalarMult(e,r.subarray(1));return{secretKey:e,sharedKey:n}}case"web":if(e.web&&A.default.getWebCrypto()){try{return await webPrivateEphemeralKey(e,r,n,t)}catch(e){A.default.print_debug_error(e)}}break;case"node":return nodePrivateEphemeralKey(e,r,t)}return ellipticPrivateEphemeralKey(e,r,t)}async function decrypt(e,r,n,t,i,s,f){const c=new l.default(e);var d=await genPrivateEphemeralKey(c,n,i,s);const u=d.sharedKey;const p=buildEcdhParam(w.default.publicKey.ecdh,e,r,f);const v=w.default.read(w.default.symmetric,r.cipher);let b;for(let e=0;e<3;e++){try{const n=await kdf(r.hash,u,h.default[v].keySize,p,e===1,e===2);return new a.default(o.default.unwrap(n,t))}catch(e){b=e}}throw b}async function webPrivateEphemeralKey(e,r,n,i){const a=(0,c.privateToJwk)(e.payloadSize,e.web.web,n,i);let s=S.importKey("jwk",a,{name:"ECDH",namedCurve:e.web.web},true,["deriveKey","deriveBits"]);const f=(0,c.rawPublicToJwk)(e.payloadSize,e.web.web,r);let l=S.importKey("jwk",f,{name:"ECDH",namedCurve:e.web.web},true,[]);var d=await Promise.all([s,l]);var o=t(d,2);s=o[0];l=o[1];let u=S.deriveBits({name:"ECDH",namedCurve:e.web.web,public:l},s,e.web.sharedSize);let h=S.exportKey("jwk",s);var p=await Promise.all([u,h]);var v=t(p,2);u=v[0];h=v[1];const b=new Uint8Array(u);const y=A.default.b64_to_Uint8Array(h.d,true);return{secretKey:y,sharedKey:b}}async function webPublicEphemeralKey(e,r){const n=(0,c.rawPublicToJwk)(e.payloadSize,e.web.web,r);let i=S.generateKey({name:"ECDH",namedCurve:e.web.web},true,["deriveKey","deriveBits"]);let a=S.importKey("jwk",n,{name:"ECDH",namedCurve:e.web.web},false,[]);var s=await Promise.all([i,a]);var f=t(s,2);i=f[0];a=f[1];let l=S.deriveBits({name:"ECDH",namedCurve:e.web.web,public:a},i.privateKey,e.web.sharedSize);let d=S.exportKey("jwk",i.publicKey);var o=await Promise.all([l,d]);var u=t(o,2);l=u[0];d=u[1];const h=new Uint8Array(l);const p=new Uint8Array((0,c.jwkToRawPublic)(d));return{publicKey:p,sharedKey:h}}async function ellipticPrivateEphemeralKey(e,r,n){const t=await(0,E.getIndutnyCurve)(e.name);r=(0,E.keyFromPublic)(t,r);n=(0,E.keyFromPrivate)(t,n);const i=new Uint8Array(n.getPrivate());const a=n.derive(r.getPublic());const s=t.curve.p.byteLength();const f=a.toArrayLike(Uint8Array,"be",s);return{secretKey:i,sharedKey:f}}async function ellipticPublicEphemeralKey(e,r){const n=await(0,E.getIndutnyCurve)(e.name);const t=await e.genKeyPair();r=(0,E.keyFromPublic)(n,r);const i=(0,E.keyFromPrivate)(n,t.privateKey);const a=t.publicKey;const s=i.derive(r.getPublic());const f=n.curve.p.byteLength();const c=s.toArrayLike(Uint8Array,"be",f);return{publicKey:a,sharedKey:c}}async function nodePrivateEphemeralKey(e,r,n){const t=k.createECDH(e.node.node);t.setPrivateKey(n);const i=new Uint8Array(t.computeSecret(r));const a=new Uint8Array(t.getPrivateKey());return{secretKey:a,sharedKey:i}}async function nodePublicEphemeralKey(e,r){const n=k.createECDH(e.node.node);n.generateKeys();const t=new Uint8Array(n.computeSecret(r));const i=new Uint8Array(n.getPublicKey());return{publicKey:i,sharedKey:t}}n.default={encrypt:encrypt,decrypt:decrypt,genPublicEphemeralKey:genPublicEphemeralKey,genPrivateEphemeralKey:genPrivateEphemeralKey,buildEcdhParam:buildEcdhParam,kdf:kdf,webPublicEphemeralKey:webPublicEphemeralKey,webPrivateEphemeralKey:webPrivateEphemeralKey,ellipticPublicEphemeralKey:ellipticPublicEphemeralKey,ellipticPrivateEphemeralKey:ellipticPrivateEphemeralKey,nodePublicEphemeralKey:nodePublicEphemeralKey,nodePrivateEphemeralKey:nodePrivateEphemeralKey,validateParams:validateParams,parseParams:parseParams}},{"../../../enums":128,"../../../util":173,"../../aes_kw":95,"../../cipher":101,"../../hash":107,"../../random":124,"./curves":115,"./indutnyKey":120,"bn.js":30,"tweetnacl/nacl-fast-light.js":86}],117:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("bn.js");var i=_interopRequireDefault(t);var a=e("../../../enums");var s=_interopRequireDefault(a);var f=e("../../../util");var c=_interopRequireDefault(f);var l=e("../../random");var d=_interopRequireDefault(l);var o=e("../../hash");var u=_interopRequireDefault(o);var h=e("./curves");var p=_interopRequireDefault(h);var v=e("./indutnyKey");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const b=c.default.getWebCrypto();const y=c.default.getNodeCrypto();async function sign(e,r,n,t,i,a){const s=new p.default(e);if(n&&!c.default.isStream(n)){const e={publicKey:t,privateKey:i};switch(s.type){case"web":{try{return await webSign(s,r,n,e)}catch(e){if(s.name!=="p521"&&(e.name==="DataError"||e.name==="OperationError")){throw e}c.default.print_debug_error("Browser did not support verifying: "+e.message)}break}case"node":{const t=await nodeSign(s,r,n,e);return{r:t.r.toArrayLike(Uint8Array),s:t.s.toArrayLike(Uint8Array)}}}}return ellipticSign(s,a,i)}async function verify(e,r,n,t,i,a){const s=new p.default(e);if(t&&!c.default.isStream(t)){switch(s.type){case"web":try{return await webVerify(s,r,n,t,i)}catch(e){if(s.name!=="p521"&&(e.name==="DataError"||e.name==="OperationError")){throw e}c.default.print_debug_error("Browser did not support verifying: "+e.message)}break;case"node":return nodeVerify(s,r,n,t,i)}}const f=typeof r==="undefined"?t:a;return ellipticVerify(s,n,f,i)}async function validateParams(e,r,n){const t=new p.default(e);if(t.keyType!==s.default.publicKey.ecdsa){return false}switch(t.type){case"web":case"node":{const t=await d.default.getRandomBytes(8);const i=s.default.hash.sha256;const a=await u.default.digest(i,t);try{const s=await sign(e,i,t,r,n,a);return await verify(e,i,s,t,r,a)}catch(e){return false}}default:return(0,h.validateStandardParams)(s.default.publicKey.ecdsa,e,r,n)}}function parseParams(e){if(e.length<2||e.length>3){throw new Error("Unexpected number of parameters")}const r=e[0];const n=new p.default(r);const t={oid:r};t.Q=e[1].toUint8Array();if(e.length===3){t.d=e[2].toUint8Array("be",n.payloadSize)}return t}n.default={sign:sign,verify:verify,ellipticVerify:ellipticVerify,ellipticSign:ellipticSign,validateParams:validateParams,parseParams:parseParams};async function ellipticSign(e,r,n){const t=await(0,v.getIndutnyCurve)(e.name);const i=(0,v.keyFromPrivate)(t,n);const a=i.sign(r);return{r:a.r.toArrayLike(Uint8Array),s:a.s.toArrayLike(Uint8Array)}}async function ellipticVerify(e,r,n,t){const i=await(0,v.getIndutnyCurve)(e.name);const a=(0,v.keyFromPublic)(i,t);return a.verify(n,r)}async function webSign(e,r,n,t){const i=e.payloadSize;const a=(0,h.privateToJwk)(e.payloadSize,h.webCurves[e.name],t.publicKey,t.privateKey);const f=await b.importKey("jwk",a,{name:"ECDSA",namedCurve:h.webCurves[e.name],hash:{name:s.default.read(s.default.webHash,e.hash)}},false,["sign"]);const c=new Uint8Array(await b.sign({name:"ECDSA",namedCurve:h.webCurves[e.name],hash:{name:s.default.read(s.default.webHash,r)}},f,n));return{r:c.slice(0,i),s:c.slice(i,i<<1)}}async function webVerify(e,r,{r:n,s:t},i,a){const f=e.payloadSize;const l=(0,h.rawPublicToJwk)(e.payloadSize,h.webCurves[e.name],a);const d=await b.importKey("jwk",l,{name:"ECDSA",namedCurve:h.webCurves[e.name],hash:{name:s.default.read(s.default.webHash,e.hash)}},false,["verify"]);const o=c.default.concatUint8Array([new Uint8Array(f-n.length),n,new Uint8Array(f-t.length),t]).buffer;return b.verify({name:"ECDSA",namedCurve:h.webCurves[e.name],hash:{name:s.default.read(s.default.webHash,r)}},d,o,i)}async function nodeSign(e,r,n,t){const i=y.createSign(s.default.read(s.default.hash,r));i.write(n);i.end();const a=m.encode({version:1,parameters:e.oid,privateKey:Array.from(t.privateKey),publicKey:{unused:0,data:Array.from(t.publicKey)}},"pem",{label:"EC PRIVATE KEY"});return w.decode(i.sign(a),"der")}async function nodeVerify(e,r,{r:n,s:t},a,f){const c=y.createVerify(s.default.read(s.default.hash,r));c.write(a);c.end();const l=E.encode({algorithm:{algorithm:[1,2,840,10045,2,1],parameters:e.oid},subjectPublicKey:{unused:0,data:Array.from(f)}},"pem",{label:"PUBLIC KEY"});const d=w.encode({r:new i.default(n),s:new i.default(t)},"der");try{return c.verify(l,d)}catch(e){return false}}const g=y?e("asn1.js"):undefined;const w=y?g.define("ECDSASignature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}):undefined;const m=y?g.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())}):undefined;const A=y?g.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}):undefined;const E=y?g.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(A),this.key("subjectPublicKey").bitstr())}):undefined},{"../../../enums":128,"../../../util":173,"../../hash":107,"../../random":124,"./curves":115,"./indutnyKey":120,"asn1.js":16,"bn.js":30}],118:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("hash.js/lib/hash/sha/512");var i=_interopRequireDefault(t);var a=e("tweetnacl/nacl-fast-light.js");var s=_interopRequireDefault(a);var f=e("../../../util");var c=_interopRequireDefault(f);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}s.default.hash=(e=>new Uint8Array((0,i.default)().update(e).digest()));async function sign(e,r,n,t,i,a){const f=c.default.concatUint8Array([i,t.subarray(1)]);const l=s.default.sign.detached(a,f);return{R:l.subarray(0,32),S:l.subarray(32)}}async function verify(e,r,{R:n,S:t},i,a,f){const l=c.default.concatUint8Array([n,t]);return s.default.sign.detached.verify(f,l,a.subarray(1))}async function validateParams(e,r,n){if(e.getName()!=="ed25519"){return false}var t=s.default.sign.keyPair.fromSeed(n);const i=t.publicKey;const a=new Uint8Array([64,...i]);return c.default.equalsUint8Array(r,a)}function parseParams(e){if(e.length<2||e.length>3){throw new Error("Unexpected number of parameters")}const r={oid:e[0],Q:e[1].toUint8Array("be",33)};if(e.length===3){r.seed=e[2].toUint8Array("be",32)}return r}n.default={sign:sign,verify:verify,validateParams:validateParams,parseParams:parseParams}},{"../../../util":173,"hash.js/lib/hash/sha/512":57,"tweetnacl/nacl-fast-light.js":86}],119:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("./curves");var i=_interopRequireDefault(t);var a=e("./ecdsa");var s=_interopRequireDefault(a);var f=e("./eddsa");var c=_interopRequireDefault(f);var l=e("./ecdh");var d=_interopRequireDefault(l);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}n.default={Curve:i.default,ecdh:d.default,ecdsa:s.default,eddsa:c.default,generate:t.generate,getPreferredHashAlgo:t.getPreferredHashAlgo}},{"./curves":115,"./ecdh":116,"./ecdsa":117,"./eddsa":118}],120:[function(e,r,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.keyFromPrivate=keyFromPrivate;n.keyFromPublic=keyFromPublic;n.getIndutnyCurve=getIndutnyCurve;var t=e("../../../lightweight_helper");var i=e("../../../config");var a=_interopRequireDefault(i);var s=e("../../../util");var f=_interopRequireDefault(s);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function keyFromPrivate(e,r){const n=e.keyPair({priv:r});return n}function keyFromPublic(e,r){const n=e.keyPair({pub:r});if(n.validate().result!==true){throw new Error("Invalid elliptic public key")}return n}async function loadEllipticPromise(){const e=a.default.indutny_elliptic_path;const n=a.default.indutny_elliptic_fetch_options;const i=(0,t.dl)(e,n).catch(()=>(0,t.dl)(e,n));const s=await i;const f=URL.createObjectURL(new Blob([s],{type:"text/javascript"}));await(0,t.loadScript)(f);URL.revokeObjectURL(f);if(!r.openpgp.elliptic){throw new Error("Elliptic library failed to load correctly")}return r.openpgp.elliptic}let c;function loadElliptic(){if(!a.default.external_indutny_elliptic){return e("elliptic")}if(f.default.detectNode()){return e(a.default.indutny_elliptic_path)}if(!c){c=loadEllipticPromise().catch(e=>{c=undefined;throw e})}return c}async function getIndutnyCurve(e){if(!a.default.use_indutny_elliptic){throw new Error("This curve is only supported in the full build of OpenPGP.js")}const r=await loadElliptic();return new r.ec(e)}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../../../config":94,"../../../lightweight_helper":140,"../../../util":173,elliptic:32}],121:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("tweetnacl/nacl-fast-light.js");var i=_interopRequireDefault(t);var a=e("./rsa");var s=_interopRequireDefault(a);var f=e("./elgamal");var c=_interopRequireDefault(f);var l=e("./elliptic");var d=_interopRequireDefault(l);var o=e("./dsa");var u=_interopRequireDefault(o);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}n.default={rsa:s.default,elgamal:c.default,elliptic:d.default,dsa:u.default,nacl:i.default}},{"./dsa":113,"./elgamal":114,"./elliptic":119,"./rsa":123,"tweetnacl/nacl-fast-light.js":86}],122:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("bn.js");var i=_interopRequireDefault(t);var a=e("../random");var s=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}n.default={randomProbablePrime:randomProbablePrime,isProbablePrime:isProbablePrime,fermat:fermat,millerRabin:millerRabin,divisionTest:divisionTest};async function randomProbablePrime(e,r,n){const t=new i.default(1).shln(e-1);const a=new i.default(30);const f=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2];let c=await s.default.getRandomBN(t,t.shln(1));let l=c.mod(a).toNumber();do{c.iaddn(f[l]);l=(l+f[l])%f.length;if(c.bitLength()>e){c=c.mod(t.shln(1)).iadd(t);l=c.mod(a).toNumber()}}while(!await isProbablePrime(c,r,n));return c}async function isProbablePrime(e,r,n){if(r&&!e.subn(1).gcd(r).eqn(1)){return false}if(!divisionTest(e)){return false}if(!fermat(e)){return false}if(!await millerRabin(e,n)){return false}return true}function fermat(e,r){r=r||new i.default(2);return r.toRed(i.default.mont(e)).redPow(e.subn(1)).fromRed().cmpn(1)===0}function divisionTest(e){return f.every(r=>{return e.modn(r)!==0})}const f=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999];async function millerRabin(e,r,n){const t=e.bitLength();const a=i.default.mont(e);const f=new i.default(1).toRed(a);if(!r){r=Math.max(1,t/48|0)}const c=e.subn(1);const l=c.toRed(a);let d=0;while(!c.testn(d)){d++}const o=e.shrn(d);for(;r>0;r--){const e=n?n():await s.default.getRandomBN(new i.default(2),c);let r=e.toRed(a).redPow(o);if(r.eq(f)||r.eq(l)){continue}let t;for(t=1;t<d;t++){r=r.redSqr();if(r.eq(f)){return false}if(r.eq(l)){break}}if(t===d){return false}}return true}},{"../random":124,"bn.js":30}],123:[function(e,r,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("bn.js");var i=_interopRequireDefault(t);var a=e("./prime");var s=_interopRequireDefault(a);var f=e("../random");var c=_interopRequireDefault(f);var l=e("../../config");var d=_interopRequireDefault(l);var o=e("../../util");var u=_interopRequireDefault(o);var h=e("../pkcs1");var p=_interopRequireDefault(h);var v=e("../../enums");var b=_interopRequireDefault(v);var y=e("../../type/mpi");var g=_interopRequireDefault(y);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const w=u.default.getWebCrypto();const m=u.default.getNodeCrypto();const A=m?e("asn1.js"):undefined;function promisifyIE11Op(e,r){if(typeof e.then!=="function"){return new Promise(function(n,t){e.onerror=function(){t(new Error(r))};e.oncomplete=function(e){n(e.target.result)}})}return e}const E=u.default.detectNode()?A.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}):undefined;const S=u.default.detectNode()?A.define("RSAPubliceKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}):undefined;n.default={sign:async function sign(e,r,n,t,i,a,s,f,c){if(r&&!u.default.isStream(r)){if(u.default.getWebCrypto()){try{return await this.webSign(b.default.read(b.default.webHash,e),r,n,t,i,a,s,f)}catch(e){u.default.print_debug_error(e)}}else if(u.default.getNodeCrypto()){return this.nodeSign(e,r,n,t,i,a,s,f)}}return this.bnSign(e,n,i,c)},verify:async function verify(e,r,n,t,i,a){if(r&&!u.default.isStream(r)){if(u.default.getWebCrypto()){try{return await this.webVerify(b.default.read(b.default.webHash,e),r,n,t,i)}catch(e){u.default.print_debug_error(e)}}else if(u.default.getNodeCrypto()){return this.nodeVerify(e,r,n,t,i)}}return this.bnVerify(e,n,t,i,a)},encrypt:async function encrypt(e,r,n){if(u.default.getNodeCrypto()){return this.nodeEncrypt(e,r,n)}return this.bnEncrypt(e,r,n)},decrypt:async function decrypt(e,r,n,t,i,a,s){if(u.default.getNodeCrypto()){return this.nodeDecrypt(e,r,n,t,i,a,s)}return this.bnDecrypt(e,r,n,t,i,a,s)},generate:async function generate(e,n){let t;n=new i.default(n,16);if(u.default.getWebCrypto()){let a;let s;if(r.crypto&&r.crypto.subtle||r.msCrypto){s={name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:n.toArrayLike(Uint8Array),hash:{name:"SHA-1"}};a=w.generateKey(s,true,["sign","verify"]);a=await promisifyIE11Op(a,"Error generating RSA key pair.")}else if(r.crypto&&r.crypto.webkitSubtle){s={name:"RSA-OAEP",modulusLength:e,publicExponent:n.toArrayLike(Uint8Array),hash:{name:"SHA-1"}};a=await w.generateKey(s,true,["encrypt","decrypt"])}else{throw new Error("Unknown WebCrypto implementation")}let f=w.exportKey("jwk",a.privateKey);f=await promisifyIE11Op(f,"Error exporting RSA key pair.");if(f instanceof ArrayBuffer){f=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(f)))}t={};t.n=new i.default(u.default.b64_to_Uint8Array(f.n));t.e=n;t.d=new i.default(u.default.b64_to_Uint8Array(f.d));t.p=new i.default(u.default.b64_to_Uint8Array(f.q));t.q=new i.default(u.default.b64_to_Uint8Array(f.p));t.u=new i.default(u.default.b64_to_Uint8Array(f.qi));return t}else if(u.default.getNodeCrypto()&&m.generateKeyPair&&E){const r={modulusLength:Number(e.toString(10)),publicExponent:Number(n.toString(10)),publicKeyEncoding:{type:"pkcs1",format:"der"},privateKeyEncoding:{type:"pkcs1",format:"der"}};const t=await new Promise((e,n)=>m.generateKeyPair("rsa",r,(r,t,i)=>{if(r){n(r)}else{e(E.decode(i,"der"))}}));return{n:t.modulus,e:t.publicExponent,d:t.privateExponent,p:t.prime2,q:t.prime1,u:t.coefficient}}let a=await s.default.randomProbablePrime(e-(e>>1),n,40);let f=await s.default.randomProbablePrime(e>>1,n,40);if(a.cmp(f)<0){var c=[a,f];f=c[0];a=c[1]}const l=f.subn(1).mul(a.subn(1));return{n:f.mul(a),e:n,d:n.invm(l),p:f,q:a,u:f.invm(a)}},validateParams:async function validateParams(e,r,n,t,a,s){e=new i.default(e);t=new i.default(t);a=new i.default(a);if(!t.mul(a).eq(e)){return false}const f=new i.default(1);const l=new i.default(2);s=new i.default(s);if(!t.mul(s).umod(a).eq(f)){return false}r=new i.default(r);n=new i.default(n);const d=await c.default.getRandomBN(l,l.shln(e.bitLength()/3));const o=d.mul(n).mul(r);const u=o.umod(t.sub(f)).eq(d)&&o.umod(a.sub(f)).eq(d);if(!u){return false}return true},bnSign:async function bnSign(e,r,n,t){r=new i.default(r);const a=new i.default(await p.default.emsa.encode(e,t,r.byteLength()),16);n=new i.default(n);if(r.cmp(a)<=0){throw new Error("Message size cannot exceed modulus size")}const s=new i.default.red(r);return a.toRed(s).redPow(n).toArrayLike(Uint8Array,"be",r.byteLength())},webSign:async function webSign(e,r,n,t,i,a,s,f){const c=privateToJwk(n,t,i,a,s,f);const l={name:"RSASSA-PKCS1-v1_5",hash:{name:e}};const d=await w.importKey("jwk",c,l,false,["sign"]);return new Uint8Array(await w.sign({name:"RSASSA-PKCS1-v1_5",hash:e},d,r))},nodeSign:async function nodeSign(e,r,n,t,a,s,f,c){const l=new i.default(s);const d=new i.default(f);const o=new i.default(a);const u=o.mod(d.subn(1));const h=o.mod(l.subn(1));const p=m.createSign(b.default.read(b.default.hash,e));p.write(r);p.end();const v={version:0,modulus:new i.default(n),publicExponent:new i.default(t),privateExponent:new i.default(a),prime1:new i.default(f),prime2:new i.default(s),exponent1:u,exponent2:h,coefficient:new i.default(c)};if(typeof m.createPrivateKey!=="undefined"){const e=E.encode(v,"der");return new Uint8Array(p.sign({key:e,format:"der",type:"pkcs1"}))}const y=E.encode(v,"pem",{label:"RSA PRIVATE KEY"});return new Uint8Array(p.sign(y))},bnVerify:async function bnVerify(e,r,n,t,a){n=new i.default(n);r=new i.default(r);t=new i.default(t);if(n.cmp(r)<=0){throw new Error("Signature size cannot exceed modulus size")}const s=new i.default.red(n);const f=r.toRed(s).redPow(t).toArrayLike(Uint8Array,"be",n.byteLength());const c=await p.default.emsa.encode(e,a,n.byteLength());return u.default.Uint8Array_to_hex(f)===c},webVerify:async function webVerify(e,r,n,t,i){const a=publicToJwk(t,i);const s=await w.importKey("jwk",a,{name:"RSASSA-PKCS1-v1_5",hash:{name:e}},false,["verify"]);return w.verify({name:"RSASSA-PKCS1-v1_5",hash:e},s,n,r)},nodeVerify:async function nodeVerify(e,r,n,t,a){const s=m.createVerify(b.default.read(b.default.hash,e));s.write(r);s.end();const f={modulus:new i.default(t),publicExponent:new i.default(a)};let c;if(typeof m.createPrivateKey!=="undefined"){const e=S.encode(f,"der");c={key:e,format:"der",type:"pkcs1"}}else{c=S.encode(f,"pem",{label:"RSA PUBLIC KEY"})}try{return await s.verify(c,n)}catch(e){return false}},nodeEncrypt:async function nodeEncrypt(e,r,n){const t={modulus:new i.default(r),publicExponent:new i.default(n)};let a;if(typeof m.createPrivateKey!=="undefined"){const e=S.encode(t,"der");a={key:e,format:"der",type:"pkcs1",padding:m.constants.RSA_PKCS1_PADDING}}else{const e=S.encode(t,"pem",{label:"RSA PUBLIC KEY"});a={key:e,padding:m.constants.RSA_PKCS1_PADDING}}return new Uint8Array(m.publicEncrypt(a,e))},bnEncrypt:async function bnEncrypt(e,r,n){r=new i.default(r);e=new g.default(await p.default.eme.encode(u.default.Uint8Array_to_str(e),r.byteLength()));e=e.toBN();n=new i.default(n);if(r.cmp(e)<=0){throw new Error("Message size cannot exceed modulus size")}const t=new i.default.red(r);return e.toRed(t).redPow(n).toArrayLike(Uint8Array,"be",r.byteLength())},nodeDecrypt:function nodeDecrypt(e,r,n,t,a,s,f){const c=new i.default(a);const l=new i.default(s);const d=new i.default(t);const o=d.mod(l.subn(1));const h=d.mod(c.subn(1));const p={version:0,modulus:new i.default(r),publicExponent:new i.default(n),privateExponent:new i.default(t),prime1:new i.default(s),prime2:new i.default(a),exponent1:o,exponent2:h,coefficient:new i.default(f)};let v;if(typeof m.createPrivateKey!=="undefined"){const e=E.encode(p,"der");v={key:e,format:"der",type:"pkcs1",padding:m.constants.RSA_PKCS1_PADDING}}else{const e=E.encode(p,"pem",{label:"RSA PRIVATE KEY"});v={key:e,padding:m.constants.RSA_PKCS1_PADDING}}return u.default.Uint8Array_to_str(m.privateDecrypt(v,e))},bnDecrypt:async function bnDecrypt(e,r,n,t,a,s,f){e=new i.default(e);r=new i.default(r);n=new i.default(n);t=new i.default(t);a=new i.default(a);s=new i.default(s);f=new i.default(f);if(r.cmp(e)<=0){throw new Error("Data too large.")}const l=t.mod(s.subn(1));const o=t.mod(a.subn(1));const u=new i.default.red(a);const h=new i.default.red(s);const v=new i.default.red(r);let b;let y;if(d.default.rsa_blinding){y=(await c.default.getRandomBN(new i.default(2),r)).toRed(v);b=y.redInvm().redPow(n);e=e.toRed(v).redMul(b).fromRed()}const w=e.toRed(u).redPow(o);const m=e.toRed(h).redPow(l);const A=m.redSub(w.fromRed().toRed(h));const E=f.toRed(h).redMul(A).fromRed();let S=E.mul(a).add(w).toRed(v);if(d.default.rsa_blinding){S=S.redMul(y)}return p.default.eme.decode(new g.default(S).toString())},prime:s.default};function privateToJwk(e,r,n,t,a,s){const f=new i.default(t);const c=new i.default(a);const l=new i.default(n);let d=l.mod(c.subn(1));let o=l.mod(f.subn(1));o=o.toArrayLike(Uint8Array);d=d.toArrayLike(Uint8Array);return{kty:"RSA",n:u.default.Uint8Array_to_b64(e,true),e:u.default.Uint8Array_to_b64(r,true),d:u.default.Uint8Array_to_b64(n,true),p:u.default.Uint8Array_to_b64(a,true),q:u.default.Uint8Array_to_b64(t,true),dp:u.default.Uint8Array_to_b64(d,true),dq:u.default.Uint8Array_to_b64(o,true),qi:u.default.Uint8Array_to_b64(s,true),ext:true}}function publicToJwk(e,r){return{kty:"RSA",n:u.default.Uint8Array_to_b64(e,true),e:u.default.Uint8Array_to_b64(r,true),ext:true}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../../config":94,"../../enums":128,"../../type/mpi":170,"../../util":173,"../pkcs1":111,"../random":124,"./prime":122,"asn1.js":16,"bn.js":30}],124:[function(e,r,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("bn.js");var i=_interopRequireDefault(t);var a=e("../util");var s=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const f=s.default.detectNode()&&e("crypto");n.default={getRandomBytes:async function getRandomBytes(e){const n=new Uint8Array(e);if(typeof crypto!=="undefined"&&crypto.getRandomValues){crypto.getRandomValues(n)}else if(typeof r!=="undefined"&&typeof r.msCrypto==="object"&&typeof r.msCrypto.getRandomValues==="function"){r.msCrypto.getRandomValues(n)}else if(f){const e=f.randomBytes(n.length);n.set(e)}else if(this.randomBuffer.buffer){await this.randomBuffer.get(n)}else{throw new Error("No secure random number generator available.")}return n},getRandomBN:async function getRandomBN(e,r){if(r.cmp(e)<=0){throw new Error("Illegal parameter value: max <= min")}const n=r.sub(e);const t=n.byteLength();const a=new i.default(await this.getRandomBytes(t+8));return a.mod(n).add(e)},randomBuffer:new RandomBuffer};function RandomBuffer(){this.buffer=null;this.size=null;this.callback=null}RandomBuffer.prototype.init=function(e,r){this.buffer=new Uint8Array(e);this.size=0;this.callback=r};RandomBuffer.prototype.set=function(e){if(!this.buffer){throw new Error("RandomBuffer is not initialized")}if(!(e instanceof Uint8Array)){throw new Error("Invalid type: buf not an Uint8Array")}const r=this.buffer.length-this.size;if(e.length>r){e=e.subarray(0,r)}this.buffer.set(e,this.size);this.size+=e.length};RandomBuffer.prototype.get=async function(e){if(!this.buffer){throw new Error("RandomBuffer is not initialized")}if(!(e instanceof Uint8Array)){throw new Error("Invalid type: buf not an Uint8Array")}if(this.size<e.length){if(!this.callback){throw new Error("Random number buffer depleted")}await this.callback();return this.get(e)}for(let r=0;r<e.length;r++){e[r]=this.buffer[--this.size];this.buffer[this.size]=0}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../util":173,"bn.js":30,crypto:"crypto"}],125:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("./crypto");var i=_interopRequireDefault(t);var a=e("./public_key");var s=_interopRequireDefault(a);var f=e("../enums");var c=_interopRequireDefault(f);var l=e("../util");var d=_interopRequireDefault(l);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}n.default={verify:async function verify(e,r,n,t,a,f){const l=i.default.getPubKeyParamTypes(e);if(t.length<l.length){throw new Error("Missing public key parameters")}switch(e){case c.default.publicKey.rsa_encrypt_sign:case c.default.publicKey.rsa_encrypt:case c.default.publicKey.rsa_sign:{const e=t[0].toUint8Array();const i=t[1].toUint8Array();const c=n[0].toUint8Array("be",e.length);return s.default.rsa.verify(r,a,c,e,i,f)}case c.default.publicKey.dsa:{const e=n[0].toBN();const i=n[1].toBN();const a=t[0].toBN();const c=t[1].toBN();const l=t[2].toBN();const d=t[3].toBN();return s.default.dsa.verify(r,e,i,f,l,a,c,d)}case c.default.publicKey.ecdsa:{var d=s.default.elliptic.ecdsa.parseParams(t);const e=d.oid,i=d.Q;const c={r:n[0].toUint8Array(),s:n[1].toUint8Array()};return s.default.elliptic.ecdsa.verify(e,r,c,a,i,f)}case c.default.publicKey.eddsa:{var o=s.default.elliptic.eddsa.parseParams(t);const e=o.oid,i=o.Q;const c={R:n[0].toUint8Array("le",32),S:n[1].toUint8Array("le",32)};return s.default.elliptic.eddsa.verify(e,r,c,a,i,f)}default:throw new Error("Invalid signature algorithm.")}},sign:async function sign(e,r,n,t,a){const f=[].concat(i.default.getPubKeyParamTypes(e),i.default.getPrivKeyParamTypes(e));if(n.length<f.length){throw new Error("Missing private key parameters")}switch(e){case c.default.publicKey.rsa_encrypt_sign:case c.default.publicKey.rsa_encrypt:case c.default.publicKey.rsa_sign:{const e=n[0].toUint8Array();const i=n[1].toUint8Array();const f=n[2].toUint8Array();const c=n[3].toUint8Array();const l=n[4].toUint8Array();const o=n[5].toUint8Array();const u=await s.default.rsa.sign(r,t,e,i,f,c,l,o,a);return d.default.Uint8Array_to_MPI(u)}case c.default.publicKey.dsa:{const e=n[0].toBN();const t=n[1].toBN();const i=n[2].toBN();const f=n[4].toBN();const c=await s.default.dsa.sign(r,a,i,e,t,f);return d.default.concatUint8Array([d.default.Uint8Array_to_MPI(c.r),d.default.Uint8Array_to_MPI(c.s)])}case c.default.publicKey.elgamal:{throw new Error("Signing with Elgamal is not defined in the OpenPGP standard.")}case c.default.publicKey.ecdsa:{var l=s.default.elliptic.ecdsa.parseParams(n);const e=l.oid,i=l.Q,f=l.d;const c=await s.default.elliptic.ecdsa.sign(e,r,t,i,f,a);return d.default.concatUint8Array([d.default.Uint8Array_to_MPI(c.r),d.default.Uint8Array_to_MPI(c.s)])}case c.default.publicKey.eddsa:{var o=s.default.elliptic.eddsa.parseParams(n);const e=o.oid,i=o.Q,f=o.seed;const c=await s.default.elliptic.eddsa.sign(e,r,t,i,f,a);return d.default.concatUint8Array([d.default.Uint8Array_to_MPI(c.R),d.default.Uint8Array_to_MPI(c.S)])}default:throw new Error("Invalid signature algorithm.")}}}},{"../enums":128,"../util":173,"./crypto":104,"./public_key":121}],126:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("web-stream-tools");var i=_interopRequireDefault(t);var a=e("./base64.js");var s=_interopRequireDefault(a);var f=e("../enums.js");var c=_interopRequireDefault(f);var l=e("../config");var d=_interopRequireDefault(l);var o=e("../util");var u=_interopRequireDefault(o);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getType(e){const r=/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m;const n=e.match(r);if(!n){throw new Error("Unknown ASCII armor type")}if(/MESSAGE, PART \d+\/\d+/.test(n[1])){return c.default.armor.multipart_section}else if(/MESSAGE, PART \d+/.test(n[1])){return c.default.armor.multipart_last}else if(/SIGNED MESSAGE/.test(n[1])){return c.default.armor.signed}else if(/MESSAGE/.test(n[1])){return c.default.armor.message}else if(/PUBLIC KEY BLOCK/.test(n[1])){return c.default.armor.public_key}else if(/PRIVATE KEY BLOCK/.test(n[1])){return c.default.armor.private_key}else if(/SIGNATURE/.test(n[1])){return c.default.armor.signature}}function addheader(e){let r="";if(d.default.show_version){r+="Version: "+d.default.versionstring+"\r\n"}if(d.default.show_comment){r+="Comment: "+d.default.commentstring+"\r\n"}if(e){r+="Comment: "+e+"\r\n"}r+="\r\n";return r}function getCheckSum(e){const r=createcrc24(e);return s.default.encode(r)}const h=[new Array(255),new Array(255),new Array(255),new Array(255)];for(let e=0;e<=255;e++){let r=e<<16;for(let e=0;e<8;e++){r=r<<1^((r&8388608)!==0?8801531:0)}h[0][e]=(r&16711680)>>16|r&65280|(r&255)<<16}for(let e=0;e<=255;e++){h[1][e]=h[0][e]>>8^h[0][h[0][e]&255]}for(let e=0;e<=255;e++){h[2][e]=h[1][e]>>8^h[0][h[1][e]&255]}for(let e=0;e<=255;e++){h[3][e]=h[2][e]>>8^h[0][h[2][e]&255]}const p=function(){const e=new ArrayBuffer(2);new DataView(e).setInt16(0,255,true);return new Int16Array(e)[0]===255}();function createcrc24(e){let r=13501623;return i.default.transform(e,e=>{const n=p?Math.floor(e.length/4):0;const t=new Uint32Array(e.buffer,e.byteOffset,n);for(let e=0;e<n;e++){r^=t[e];r=h[0][r>>24&255]^h[1][r>>16&255]^h[2][r>>8&255]^h[3][r>>0&255]}for(let t=n*4;t<e.length;t++){r=r>>8^h[0][r&255^e[t]]}},()=>new Uint8Array([r,r>>8,r>>16]))}function verifyHeaders(e){for(let r=0;r<e.length;r++){if(!/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(e[r])){throw new Error("Improperly formatted armor header: "+e[r])}if(!/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(e[r])){u.default.print_debug_error(new Error("Unknown header: "+e[r]))}}}function splitChecksum(e){let r=e;let n="";const t=e.lastIndexOf("=");if(t>=0&&t!==e.length-1){r=e.slice(0,t);n=e.slice(t+1).substr(0,4)}return{body:r,checksum:n}}function dearmor(e){return new Promise(async(r,n)=>{try{const t=/^-----[^-]+-----$/m;const a=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/;let f;const c=[];let l=c;let o;let h=[];let p;let v;let b=s.default.decode(i.default.transformPair(e,async(e,s)=>{const d=i.default.getReader(e);try{while(true){let e=await d.readLine();if(e===undefined){throw new Error("Misformed armored text")}e=u.default.removeTrailingSpaces(e.replace(/[\r\n]/g,""));if(!f){if(t.test(e)){f=getType(e)}}else if(!o){if(t.test(e)){n(new Error("Mandatory blank line missing between armor headers and armor data"))}if(!a.test(e)){l.push(e)}else{verifyHeaders(l);o=true;if(p||f!==2){r({text:h,data:b,headers:c,type:f});break}}}else if(!p&&f===2){if(!t.test(e)){h.push(e.replace(/^- /,""))}else{h=h.join("\r\n");p=true;verifyHeaders(l);l=[];o=false}}}}catch(e){n(e);return}const y=i.default.getWriter(s);try{while(true){await y.ready;var g=await d.read();const e=g.done,r=g.value;if(e){throw new Error("Misformed armored text")}const n=r+"";if(n.indexOf("=")===-1&&n.indexOf("-")===-1){await y.write(n)}else{let e=await d.readToEnd();if(!e.length)e="";e=n+e;e=u.default.removeTrailingSpaces(e.replace(/\r/g,""));const r=e.split(t);if(r.length===1){throw new Error("Misformed armored text")}const i=splitChecksum(r[0].slice(0,-1));v=i.checksum;await y.write(i.body);break}}await y.ready;await y.close()}catch(e){await y.abort(e)}}));b=i.default.transformPair(b,async(e,r)=>{const n=i.default.readToEnd(getCheckSum(i.default.passiveClone(e)));n.catch(()=>{});await i.default.pipe(e,r,{preventClose:true});const t=i.default.getWriter(r);try{const e=(await n).replace("\r\n","");if(v!==e&&(v||d.default.checksum_required)){throw new Error("Ascii armor integrity check on message failed: '"+v+"' should be '"+e+"'")}await t.ready;await t.close()}catch(e){await t.abort(e)}})}catch(e){n(e)}})}function armor(e,r,n,t,a){let f;let l;if(e===c.default.armor.signed){f=r.text;l=r.hash;r=r.data}const d=i.default.passiveClone(r);const o=[];switch(e){case c.default.armor.multipart_section:o.push("-----BEGIN PGP MESSAGE, PART "+n+"/"+t+"-----\r\n");o.push(addheader(a));o.push(s.default.encode(r));o.push("=",getCheckSum(d));o.push("-----END PGP MESSAGE, PART "+n+"/"+t+"-----\r\n");break;case c.default.armor.multipart_last:o.push("-----BEGIN PGP MESSAGE, PART "+n+"-----\r\n");o.push(addheader(a));o.push(s.default.encode(r));o.push("=",getCheckSum(d));o.push("-----END PGP MESSAGE, PART "+n+"-----\r\n");break;case c.default.armor.signed:o.push("\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\n");o.push("Hash: "+l+"\r\n\r\n");o.push(f.replace(/^-/gm,"- -"));o.push("\r\n-----BEGIN PGP SIGNATURE-----\r\n");o.push(addheader(a));o.push(s.default.encode(r));o.push("=",getCheckSum(d));o.push("-----END PGP SIGNATURE-----\r\n");break;case c.default.armor.message:o.push("-----BEGIN PGP MESSAGE-----\r\n");o.push(addheader(a));o.push(s.default.encode(r));o.push("=",getCheckSum(d));o.push("-----END PGP MESSAGE-----\r\n");break;case c.default.armor.public_key:o.push("-----BEGIN PGP PUBLIC KEY BLOCK-----\r\n");o.push(addheader(a));o.push(s.default.encode(r));o.push("=",getCheckSum(d));o.push("-----END PGP PUBLIC KEY BLOCK-----\r\n");break;case c.default.armor.private_key:o.push("-----BEGIN PGP PRIVATE KEY BLOCK-----\r\n");o.push(addheader(a));o.push(s.default.encode(r));o.push("=",getCheckSum(d));o.push("-----END PGP PRIVATE KEY BLOCK-----\r\n");break;case c.default.armor.signature:o.push("-----BEGIN PGP SIGNATURE-----\r\n");o.push(addheader(a));o.push(s.default.encode(r));o.push("=",getCheckSum(d));o.push("-----END PGP SIGNATURE-----\r\n");break}return u.default.concat(o)}n.default={encode:armor,decode:dearmor}},{"../config":94,"../enums.js":128,"../util":173,"./base64.js":127,"web-stream-tools":90}],127:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("web-stream-tools");var i=_interopRequireDefault(t);var a=e("../util");var s=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const f=s.default.getNodeBuffer();let c;let l;if(f){c=(e=>f.from(e).toString("base64"));l=(e=>{const r=f.from(e,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)})}else{c=(e=>btoa(s.default.Uint8Array_to_str(e)));l=(e=>s.default.str_to_Uint8Array(atob(e)))}function encode(e){let r=new Uint8Array;return i.default.transform(e,e=>{r=s.default.concatUint8Array([r,e]);const n=[];const t=45;const i=Math.floor(r.length/t);const a=i*t;const f=c(r.subarray(0,a));for(let e=0;e<i;e++){n.push(f.substr(e*60,60));n.push("\r\n")}r=r.subarray(a);return n.join("")},()=>r.length?c(r)+"\r\n":"")}function decode(e){let r="";return i.default.transform(e,e=>{r+=e;let n=0;const t=[" ","\t","\r","\n"];for(let e=0;e<t.length;e++){const i=t[e];for(let e=r.indexOf(i);e!==-1;e=r.indexOf(i,e+1)){n++}}let i=r.length;for(;i>0&&(i-n)%4!==0;i--){if(t.includes(r[i]))n--}const a=l(r.substr(0,i));r=r.substr(i);return a},()=>l(r))}n.default={encode:encode,decode:decode}},{"../util":173,"web-stream-tools":90}],128:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});const t=Symbol("byValue");n.default={curve:{p256:"p256","P-256":"p256",secp256r1:"p256",prime256v1:"p256","1.2.840.10045.3.1.7":"p256","2a8648ce3d030107":"p256","2A8648CE3D030107":"p256",p384:"p384","P-384":"p384",secp384r1:"p384","1.3.132.0.34":"p384","2b81040022":"p384","2B81040022":"p384",p521:"p521","P-521":"p521",secp521r1:"p521","1.3.132.0.35":"p521","2b81040023":"p521","2B81040023":"p521",secp256k1:"secp256k1","1.3.132.0.10":"secp256k1","2b8104000a":"secp256k1","2B8104000A":"secp256k1",ED25519:"ed25519",ed25519:"ed25519",Ed25519:"ed25519","1.3.6.1.4.1.11591.15.1":"ed25519","2b06010401da470f01":"ed25519","2B06010401DA470F01":"ed25519",X25519:"curve25519",cv25519:"curve25519",curve25519:"curve25519",Curve25519:"curve25519","1.3.6.1.4.1.3029.1.5.1":"curve25519","2b060104019755010501":"curve25519","2B060104019755010501":"curve25519",brainpoolP256r1:"brainpoolP256r1","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1","2b2403030208010107":"brainpoolP256r1","2B2403030208010107":"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1","2b240303020801010b":"brainpoolP384r1","2B240303020801010B":"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1","2b240303020801010d":"brainpoolP512r1","2B240303020801010D":"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,gnu:101},publicKey:{rsa_encrypt_sign:1,rsa_encrypt:2,rsa_sign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsa:22,aedh:23,aedsa:24},symmetric:{plaintext:0,idea:1,"3des":2,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,experimental_gcm:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressed:8,symmetricallyEncrypted:9,marker:10,literal:11,trust:12,userid:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtected:18,modificationDetectionCode:19,symEncryptedAEADProtected:20},literal:{binary:"b".charCodeAt(),text:"t".charCodeAt(),utf8:"u".charCodeAt(),mime:"m".charCodeAt()},signature:{binary:0,text:1,standalone:2,cert_generic:16,cert_persona:17,cert_casual:18,cert_positive:19,cert_revocation:48,subkey_binding:24,key_binding:25,key:31,key_revocation:32,subkey_revocation:40,timestamp:64,third_party:80},signatureSubpacket:{signature_creation_time:2,signature_expiration_time:3,exportable_certification:4,trust_signature:5,regular_expression:6,revocable:7,key_expiration_time:9,placeholder_backwards_compatibility:10,preferred_symmetric_algorithms:11,revocation_key:12,issuer:16,notation_data:20,preferred_hash_algorithms:21,preferred_compression_algorithms:22,key_server_preferences:23,preferred_key_server:24,primary_user_id:25,policy_uri:26,key_flags:27,signers_user_id:28,reason_for_revocation:29,features:30,signature_target:31,embedded_signature:32,issuer_fingerprint:33,preferred_aead_algorithms:34},keyFlags:{certify_keys:1,sign_data:2,encrypt_communication:4,encrypt_storage:8,split_private_key:16,authentication:32,shared_private_key:128},armor:{multipart_section:0,multipart_last:1,signed:2,message:3,public_key:4,private_key:5,signature:6},reasonForRevocation:{no_reason:0,key_superseded:1,key_compromised:2,key_retired:3,userid_invalid:32},features:{modification_detection:1,aead:2,v5_keys:4},write:function write(e,r){if(typeof r==="number"){r=this.read(e,r)}if(e[r]!==undefined){return e[r]}throw new Error("Invalid enum value.")},read:function read(e,r){if(!e[t]){e[t]=[];Object.entries(e).forEach(([r,n])=>{e[t][n]=r})}if(e[t][r]!==undefined){return e[t][r]}throw new Error("Invalid enum value.")}}},{}],129:[function(e,r,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("./config");var i=_interopRequireDefault(t);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function HKP(n){this._baseUrl=n||i.default.keyserver;this._fetch=typeof r.fetch==="function"?r.fetch:e("node-fetch")}HKP.prototype.lookup=function(e){let r=this._baseUrl+"/pks/lookup?op=get&options=mr&search=";const n=this._fetch;if(e.keyId){r+="0x"+encodeURIComponent(e.keyId)}else if(e.query){r+=encodeURIComponent(e.query)}else{throw new Error("You must provide a query parameter!")}return n(r).then(function(e){if(e.status===200){return e.text()}}).then(function(e){if(!e||e.indexOf("-----END PGP PUBLIC KEY BLOCK-----")<0){return}return e.trim()})};HKP.prototype.upload=function(e){const r=this._baseUrl+"/pks/add";const n=this._fetch;return n(r,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"keytext="+encodeURIComponent(e)})};n.default=HKP}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./config":94,"node-fetch":"node-fetch"}],130:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.lightweight=n.WKD=n.HKP=n.AsyncProxy=n.Keyring=n.crypto=n.config=n.enums=n.armor=n.stream=n.OID=n.KDFParams=n.ECDHSymmetricKey=n.Keyid=n.S2K=n.MPI=n.packet=n.util=n.cleartext=n.message=n.signature=n.key=n.destroyWorker=n.getWorker=n.initWorker=n.decryptSessionKeys=n.encryptSessionKey=n.decryptKey=n.revokeKey=n.reformatKey=n.generateKey=n.verify=n.sign=n.decrypt=n.encrypt=undefined;var t=e("./openpgp");Object.defineProperty(n,"encrypt",{enumerable:true,get:function get(){return t.encrypt}});Object.defineProperty(n,"decrypt",{enumerable:true,get:function get(){return t.decrypt}});Object.defineProperty(n,"sign",{enumerable:true,get:function get(){return t.sign}});Object.defineProperty(n,"verify",{enumerable:true,get:function get(){return t.verify}});Object.defineProperty(n,"generateKey",{enumerable:true,get:function get(){return t.generateKey}});Object.defineProperty(n,"reformatKey",{enumerable:true,get:function get(){return t.reformatKey}});Object.defineProperty(n,"revokeKey",{enumerable:true,get:function get(){return t.revokeKey}});Object.defineProperty(n,"decryptKey",{enumerable:true,get:function get(){return t.decryptKey}});Object.defineProperty(n,"encryptSessionKey",{enumerable:true,get:function get(){return t.encryptSessionKey}});Object.defineProperty(n,"decryptSessionKeys",{enumerable:true,get:function get(){return t.decryptSessionKeys}});Object.defineProperty(n,"initWorker",{enumerable:true,get:function get(){return t.initWorker}});Object.defineProperty(n,"getWorker",{enumerable:true,get:function get(){return t.getWorker}});Object.defineProperty(n,"destroyWorker",{enumerable:true,get:function get(){return t.destroyWorker}});var i=e("./util");Object.defineProperty(n,"util",{enumerable:true,get:function get(){return _interopRequireDefault(i).default}});var a=e("./packet");Object.defineProperty(n,"packet",{enumerable:true,get:function get(){return _interopRequireDefault(a).default}});var s=e("./type/mpi");Object.defineProperty(n,"MPI",{enumerable:true,get:function get(){return _interopRequireDefault(s).default}});var f=e("./type/s2k");Object.defineProperty(n,"S2K",{enumerable:true,get:function get(){return _interopRequireDefault(f).default}});var c=e("./type/keyid");Object.defineProperty(n,"Keyid",{enumerable:true,get:function get(){return _interopRequireDefault(c).default}});var l=e("./type/ecdh_symkey");Object.defineProperty(n,"ECDHSymmetricKey",{enumerable:true,get:function get(){return _interopRequireDefault(l).default}});var d=e("./type/kdf_params");Object.defineProperty(n,"KDFParams",{enumerable:true,get:function get(){return _interopRequireDefault(d).default}});var o=e("./type/oid");Object.defineProperty(n,"OID",{enumerable:true,get:function get(){return _interopRequireDefault(o).default}});var u=e("web-stream-tools");Object.defineProperty(n,"stream",{enumerable:true,get:function get(){return _interopRequireDefault(u).default}});var h=e("./encoding/armor");Object.defineProperty(n,"armor",{enumerable:true,get:function get(){return _interopRequireDefault(h).default}});var p=e("./enums");Object.defineProperty(n,"enums",{enumerable:true,get:function get(){return _interopRequireDefault(p).default}});var v=e("./config/config");Object.defineProperty(n,"config",{enumerable:true,get:function get(){return _interopRequireDefault(v).default}});var b=e("./crypto");Object.defineProperty(n,"crypto",{enumerable:true,get:function get(){return _interopRequireDefault(b).default}});var y=e("./keyring");Object.defineProperty(n,"Keyring",{enumerable:true,get:function get(){return _interopRequireDefault(y).default}});var g=e("./worker/async_proxy");Object.defineProperty(n,"AsyncProxy",{enumerable:true,get:function get(){return _interopRequireDefault(g).default}});var w=e("./hkp");Object.defineProperty(n,"HKP",{enumerable:true,get:function get(){return _interopRequireDefault(w).default}});var m=e("./wkd");Object.defineProperty(n,"WKD",{enumerable:true,get:function get(){return _interopRequireDefault(m).default}});var A=_interopRequireWildcard(t);var E=e("./key");var S=_interopRequireWildcard(E);var k=e("./signature");var R=_interopRequireWildcard(k);var M=e("./message");var C=_interopRequireWildcard(M);var D=e("./cleartext");var _=_interopRequireWildcard(D);var j=e("./lightweight_helper");var B=_interopRequireWildcard(j);function _interopRequireWildcard(e){if(e&&e.__esModule){return e}else{var r={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))r[n]=e[n]}}r.default=e;return r}}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}n.default=A;const q=n.key=S;const U=n.signature=R;const x=n.message=C;const I=n.cleartext=_;const K=n.lightweight=B},{"./cleartext":92,"./config/config":93,"./crypto":109,"./encoding/armor":126,"./enums":128,"./hkp":129,"./key":133,"./keyring":137,"./lightweight_helper":140,"./message":141,"./openpgp":142,"./packet":146,"./signature":166,"./type/ecdh_symkey":167,"./type/kdf_params":168,"./type/keyid":169,"./type/mpi":170,"./type/oid":171,"./type/s2k":172,"./util":173,"./wkd":174,"./worker/async_proxy":175,"web-stream-tools":90}],131:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.generate=generate;n.reformat=reformat;n.read=read;n.readArmored=readArmored;var t=e("../packet");var i=_interopRequireDefault(t);var a=e("./key");var s=_interopRequireDefault(a);var f=e("./helper");var c=_interopRequireWildcard(f);var l=e("../enums");var d=_interopRequireDefault(l);var o=e("../util");var u=_interopRequireDefault(o);var h=e("../config");var p=_interopRequireDefault(h);var v=e("../encoding/armor");var b=_interopRequireDefault(v);function _interopRequireWildcard(e){if(e&&e.__esModule){return e}else{var r={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))r[n]=e[n]}}r.default=e;return r}}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}async function generate(e){e.sign=true;e=c.sanitizeKeyOptions(e);e.subkeys=e.subkeys.map(function(r,n){return c.sanitizeKeyOptions(e.subkeys[n],e)});let r=[c.generateSecretKey(e)];r=r.concat(e.subkeys.map(c.generateSecretSubkey));return Promise.all(r).then(r=>wrapKeyObject(r[0],r.slice(1),e))}async function reformat(e){e=sanitize(e);try{const r=e.privateKey.getKeys().every(e=>e.isDecrypted());if(!r){await e.privateKey.decrypt()}}catch(e){throw new Error("Key not decrypted")}const r=e.privateKey.toPacketlist();let n;const t=[];for(let e=0;e<r.length;e++){if(r[e].tag===d.default.packet.secretKey){n=r[e]}else if(r[e].tag===d.default.packet.secretSubkey){t.push(r[e])}}if(!n){throw new Error("Key does not contain a secret key packet")}if(!e.subkeys){e.subkeys=await Promise.all(t.map(async r=>({sign:await e.privateKey.getSigningKey(r.getKeyId(),null).catch(()=>{})&&!await e.privateKey.getEncryptionKey(r.getKeyId(),null).catch(()=>{})})))}if(e.subkeys.length!==t.length){throw new Error("Number of subkey options does not match number of subkeys")}e.subkeys=e.subkeys.map(function(r,n){return sanitize(e.subkeys[n],e)});return wrapKeyObject(n,t,e);function sanitize(e,r={}){e.keyExpirationTime=e.keyExpirationTime||r.keyExpirationTime;e.passphrase=u.default.isString(e.passphrase)?e.passphrase:r.passphrase;e.date=e.date||r.date;return e}}async function wrapKeyObject(e,r,n){if(n.passphrase){await e.encrypt(n.passphrase)}await Promise.all(r.map(async function(e,r){const t=n.subkeys[r].passphrase;if(t){await e.encrypt(t)}}));const t=new i.default.List;t.push(e);await Promise.all(n.userIds.map(async function(r,t){function createdPreferredAlgos(e,r){if(r){const n=e.indexOf(r);if(n>=1){e.splice(n,1)}if(n!==0){e.unshift(r)}}return e}const a=new i.default.Userid;a.format(r);const s={};s.userId=a;s.key=e;const f=new i.default.Signature(n.date);f.signatureType=d.default.signature.cert_generic;f.publicKeyAlgorithm=e.algorithm;f.hashAlgorithm=await c.getPreferredHashAlgo(null,e);f.keyFlags=[d.default.keyFlags.certify_keys|d.default.keyFlags.sign_data];f.preferredSymmetricAlgorithms=createdPreferredAlgos([d.default.symmetric.aes256,d.default.symmetric.aes128,d.default.symmetric.aes192,d.default.symmetric.cast5,d.default.symmetric.tripledes],p.default.encryption_cipher);if(p.default.aead_protect){f.preferredAeadAlgorithms=createdPreferredAlgos([d.default.aead.eax,d.default.aead.ocb],p.default.aead_mode)}f.preferredHashAlgorithms=createdPreferredAlgos([d.default.hash.sha256,d.default.hash.sha512,d.default.hash.sha1],p.default.prefer_hash_algorithm);f.preferredCompressionAlgorithms=createdPreferredAlgos([d.default.compression.zlib,d.default.compression.zip,d.default.compression.uncompressed],p.default.compression);if(t===0){f.isPrimaryUserID=true}if(p.default.integrity_protect){f.features=[0];f.features[0]|=d.default.features.modification_detection}if(p.default.aead_protect){f.features||(f.features=[0]);f.features[0]|=d.default.features.aead}if(p.default.v5_keys){f.features||(f.features=[0]);f.features[0]|=d.default.features.v5_keys}if(n.keyExpirationTime>0){f.keyExpirationTime=n.keyExpirationTime;f.keyNeverExpires=false}await f.sign(e,s);return{userIdPacket:a,signaturePacket:f}})).then(e=>{e.forEach(({userIdPacket:e,signaturePacket:r})=>{t.push(e);t.push(r)})});await Promise.all(r.map(async function(r,t){const i=n.subkeys[t];const a=await c.createBindingSignature(r,e,i);return{secretSubkeyPacket:r,subkeySignaturePacket:a}})).then(e=>{e.forEach(({secretSubkeyPacket:e,subkeySignaturePacket:r})=>{t.push(e);t.push(r)})});const a={key:e};t.push(await c.createSignaturePacket(a,null,e,{signatureType:d.default.signature.key_revocation,reasonForRevocationFlag:d.default.reasonForRevocation.no_reason,reasonForRevocationString:""},n.date));if(n.passphrase){e.clearPrivateParams()}await Promise.all(r.map(async function(e,r){const t=n.subkeys[r].passphrase;if(t){e.clearPrivateParams()}}));return new s.default(t)}async function read(e){const r={};r.keys=[];const n=[];try{const t=new i.default.List;await t.read(e);const a=t.indexOfTag(d.default.packet.publicKey,d.default.packet.secretKey);if(a.length===0){throw new Error("No key packet found")}for(let e=0;e<a.length;e++){const i=t.slice(a[e],a[e+1]);try{const e=new s.default(i);r.keys.push(e)}catch(e){n.push(e)}}}catch(e){n.push(e)}if(n.length){r.err=n}return r}async function readArmored(e){try{const r=await b.default.decode(e);if(!(r.type===d.default.armor.public_key||r.type===d.default.armor.private_key)){throw new Error("Armored text not of type key")}return read(r.data)}catch(e){const r={keys:[],err:[]};r.err.push(e);return r}}},{"../config":94,"../encoding/armor":126,"../enums":128,"../packet":146,"../util":173,"./helper":132,"./key":134}],132:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=function(){function sliceIterator(e,r){var n=[];var t=true;var i=false;var a=undefined;try{for(var s=e[Symbol.iterator](),f;!(t=(f=s.next()).done);t=true){n.push(f.value);if(r&&n.length===r)break}}catch(e){i=true;a=e}finally{try{if(!t&&s["return"])s["return"]()}finally{if(i)throw a}}return n}return function(e,r){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return sliceIterator(e,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();n.generateSecretSubkey=generateSecretSubkey;n.generateSecretKey=generateSecretKey;n.getLatestValidSignature=getLatestValidSignature;n.isDataExpired=isDataExpired;n.createBindingSignature=createBindingSignature;n.getPreferredHashAlgo=getPreferredHashAlgo;n.getPreferredAlgo=getPreferredAlgo;n.createSignaturePacket=createSignaturePacket;n.mergeSignatures=mergeSignatures;n.isDataRevoked=isDataRevoked;n.getExpirationTime=getExpirationTime;n.isAeadSupported=isAeadSupported;n.sanitizeKeyOptions=sanitizeKeyOptions;n.isValidSigningKeyPacket=isValidSigningKeyPacket;n.isValidEncryptionKeyPacket=isValidEncryptionKeyPacket;n.isValidDecryptionKeyPacket=isValidDecryptionKeyPacket;var i=e("../packet");var a=_interopRequireDefault(i);var s=e("../enums");var f=_interopRequireDefault(s);var c=e("../config");var l=_interopRequireDefault(c);var d=e("../crypto");var o=_interopRequireDefault(d);var u=e("../util");var h=_interopRequireDefault(u);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}async function generateSecretSubkey(e){const r=new a.default.SecretSubkey(e.date);r.packets=null;r.algorithm=f.default.read(f.default.publicKey,e.algorithm);await r.generate(e.rsaBits,e.curve);return r}async function generateSecretKey(e){const r=new a.default.SecretKey(e.date);r.packets=null;r.algorithm=f.default.read(f.default.publicKey,e.algorithm);await r.generate(e.rsaBits,e.curve);return r}async function getLatestValidSignature(e,r,n,t,i=new Date){let a;let s;for(let f=e.length-1;f>=0;f--){try{if((!a||e[f].created>=a.created)&&!e[f].isExpired(i)&&(e[f].verified||await e[f].verify(r,n,t))){a=e[f]}}catch(e){s=e}}if(!a){throw h.default.wrapError(`Could not find valid ${f.default.read(f.default.signature,n)} signature in key ${r.getKeyId().toHex()}`.replace("cert_generic ","self-").replace("_"," "),s)}return a}function isDataExpired(e,r,n=new Date){const t=h.default.normalizeDate(n);if(t!==null){const i=getExpirationTime(e,r);return!(e.created<=t&&t<=i)||r&&r.isExpired(n)}return false}async function createBindingSignature(e,r,n){const t={};t.key=r;t.bind=e;const i=new a.default.Signature(n.date);i.signatureType=f.default.signature.subkey_binding;i.publicKeyAlgorithm=r.algorithm;i.hashAlgorithm=await getPreferredHashAlgo(null,e);if(n.sign){i.keyFlags=[f.default.keyFlags.sign_data];i.embeddedSignature=await createSignaturePacket(t,null,e,{signatureType:f.default.signature.key_binding},n.date)}else{i.keyFlags=[f.default.keyFlags.encrypt_communication|f.default.keyFlags.encrypt_storage]}if(n.keyExpirationTime>0){i.keyExpirationTime=n.keyExpirationTime;i.keyNeverExpires=false}await i.sign(r,t);return i}async function getPreferredHashAlgo(e,r,n=new Date,i={}){let s=l.default.prefer_hash_algorithm;let f=s;if(e){const r=await e.getPrimaryUser(n,i);if(r.selfCertification.preferredHashAlgorithms){var c=t(r.selfCertification.preferredHashAlgorithms,1);f=c[0];s=o.default.hash.getHashByteLength(s)<=o.default.hash.getHashByteLength(f)?f:s}}switch(Object.getPrototypeOf(r)){case a.default.SecretKey.prototype:case a.default.PublicKey.prototype:case a.default.SecretSubkey.prototype:case a.default.PublicSubkey.prototype:switch(r.algorithm){case"ecdh":case"ecdsa":case"eddsa":f=o.default.publicKey.elliptic.getPreferredHashAlgo(r.params[0])}}return o.default.hash.getHashByteLength(s)<=o.default.hash.getHashByteLength(f)?f:s}async function getPreferredAlgo(e,r,n=new Date,t=[]){const i=e==="symmetric"?"preferredSymmetricAlgorithms":"preferredAeadAlgorithms";const a=e==="symmetric"?f.default.symmetric.aes128:f.default.aead.eax;const s={};await Promise.all(r.map(async function(e,r){const f=await e.getPrimaryUser(n,t[r]);if(!f.selfCertification[i]){return a}f.selfCertification[i].forEach(function(e,r){const n=s[e]||(s[e]={prio:0,count:0,algo:e});n.prio+=64>>r;n.count++})}));let c={prio:0,algo:a};Object.values(s).forEach(({prio:n,count:t,algo:i})=>{try{if(i!==f.default[e].plaintext&&i!==f.default[e].idea&&f.default.read(f.default[e],i)&&t===r.length&&n>c.prio){c=s[i]}}catch(e){}});return c.algo}async function createSignaturePacket(e,r,n,t,i,s,f=false,c=false){if(!n.isDecrypted()){throw new Error("Private key is not decrypted.")}const l=new a.default.Signature(i);Object.assign(l,t);l.publicKeyAlgorithm=n.algorithm;l.hashAlgorithm=await getPreferredHashAlgo(r,n,i,s);await l.sign(n,e,f,c);return l}async function mergeSignatures(e,r,n,t){e=e[n];if(e){if(!r[n].length){r[n]=e}else{await Promise.all(e.map(async function(e){if(!e.isExpired()&&(!t||await t(e))&&!r[n].some(function(r){return h.default.equalsUint8Array(r.signature,e.signature)})){r[n].push(e)}}))}}}async function isDataRevoked(e,r,n,t,i,a,s=new Date){a=a||e;const f=h.default.normalizeDate(s);const c=[];await Promise.all(t.map(async function(e){try{if((!i||e.issuerKeyId.equals(i.issuerKeyId))&&!(l.default.revocations_expire&&e.isExpired(f))&&(e.verified||await e.verify(a,r,n))){c.push(e.issuerKeyId)}}catch(e){}}));if(i){i.revoked=c.some(e=>e.equals(i.issuerKeyId))?true:i.revoked||false;return i.revoked}return c.length>0}function getExpirationTime(e,r){let n;if(r.keyNeverExpires===false){n=e.created.getTime()+r.keyExpirationTime*1e3}return n?new Date(n):Infinity}async function isAeadSupported(e,r=new Date,n=[]){let t=true;await Promise.all(e.map(async function(e,i){const a=await e.getPrimaryUser(r,n[i]);if(!a.selfCertification.features||!(a.selfCertification.features[0]&f.default.features.aead)){t=false}}));return t}function sanitizeKeyOptions(e,r={}){e.curve=e.curve||r.curve;e.rsaBits=e.rsaBits||r.rsaBits;e.keyExpirationTime=e.keyExpirationTime!==undefined?e.keyExpirationTime:r.keyExpirationTime;e.passphrase=h.default.isString(e.passphrase)?e.passphrase:r.passphrase;e.date=e.date||r.date;e.sign=e.sign||false;if(e.curve){try{e.curve=f.default.write(f.default.curve,e.curve)}catch(e){throw new Error("Not valid curve.")}if(e.curve===f.default.curve.ed25519||e.curve===f.default.curve.curve25519){e.curve=e.sign?f.default.curve.ed25519:f.default.curve.curve25519}if(e.sign){e.algorithm=e.curve===f.default.curve.ed25519?f.default.publicKey.eddsa:f.default.publicKey.ecdsa}else{e.algorithm=f.default.publicKey.ecdh}}else if(e.rsaBits){e.algorithm=f.default.publicKey.rsa_encrypt_sign}else{throw new Error("Unrecognized key type")}return e}function isValidSigningKeyPacket(e,r){if(!r.verified||r.revoked!==false){throw new Error("Signature not verified")}return e.algorithm!==f.default.read(f.default.publicKey,f.default.publicKey.rsa_encrypt)&&e.algorithm!==f.default.read(f.default.publicKey,f.default.publicKey.elgamal)&&e.algorithm!==f.default.read(f.default.publicKey,f.default.publicKey.ecdh)&&(!r.keyFlags||(r.keyFlags[0]&f.default.keyFlags.sign_data)!==0)}function isValidEncryptionKeyPacket(e,r){if(!r.verified||r.revoked!==false){throw new Error("Signature not verified")}return e.algorithm!==f.default.read(f.default.publicKey,f.default.publicKey.dsa)&&e.algorithm!==f.default.read(f.default.publicKey,f.default.publicKey.rsa_sign)&&e.algorithm!==f.default.read(f.default.publicKey,f.default.publicKey.ecdsa)&&e.algorithm!==f.default.read(f.default.publicKey,f.default.publicKey.eddsa)&&(!r.keyFlags||(r.keyFlags[0]&f.default.keyFlags.encrypt_communication)!==0||(r.keyFlags[0]&f.default.keyFlags.encrypt_storage)!==0)}function isValidDecryptionKeyPacket(e){if(!e.verified){throw new Error("Signature not verified")}if(l.default.allow_insecure_decryption_with_signing_keys){return true}return!e.keyFlags||(e.keyFlags[0]&f.default.keyFlags.encrypt_communication)!==0||(e.keyFlags[0]&f.default.keyFlags.encrypt_storage)!==0}},{"../config":94,"../crypto":109,"../enums":128,"../packet":146,"../util":173}],133:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.Key=n.createSignaturePacket=n.getPreferredHashAlgo=n.isAeadSupported=n.getPreferredAlgo=n.reformat=n.read=n.generate=n.readArmored=undefined;var t=e("./factory");var i=e("./helper");var a=e("./key.js");var s=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}n.readArmored=t.readArmored;n.generate=t.generate;n.read=t.read;n.reformat=t.reformat;n.getPreferredAlgo=i.getPreferredAlgo;n.isAeadSupported=i.isAeadSupported;n.getPreferredHashAlgo=i.getPreferredHashAlgo;n.createSignaturePacket=i.createSignaturePacket;n.Key=s.default},{"./factory":131,"./helper":132,"./key.js":134}],134:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.default=Key;var t=e("../encoding/armor");var i=_interopRequireDefault(t);var a=e("../packet");var s=_interopRequireDefault(a);var f=e("../enums");var c=_interopRequireDefault(f);var l=e("../util");var d=_interopRequireDefault(l);var o=e("./user");var u=_interopRequireDefault(o);var h=e("./subkey");var p=_interopRequireDefault(h);var v=e("./helper");var b=_interopRequireWildcard(v);function _interopRequireWildcard(e){if(e&&e.__esModule){return e}else{var r={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))r[n]=e[n]}}r.default=e;return r}}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Key(e){if(!(this instanceof Key)){return new Key(e)}this.keyPacket=null;this.revocationSignatures=[];this.directSignatures=[];this.users=[];this.subKeys=[];this.packetlist2structure(e);if(!this.keyPacket||!this.users.length){throw new Error("Invalid key: need at least key and user ID packet")}}Object.defineProperty(Key.prototype,"primaryKey",{get(){return this.keyPacket},configurable:true,enumerable:true});Key.prototype.packetlist2structure=function(e){let r;let n;let t;for(let i=0;i<e.length;i++){switch(e[i].tag){case c.default.packet.publicKey:case c.default.packet.secretKey:this.keyPacket=e[i];n=this.getKeyId();break;case c.default.packet.userid:case c.default.packet.userAttribute:r=new u.default(e[i]);this.users.push(r);break;case c.default.packet.publicSubkey:case c.default.packet.secretSubkey:r=null;t=new p.default(e[i]);this.subKeys.push(t);break;case c.default.packet.signature:switch(e[i].signatureType){case c.default.signature.cert_generic:case c.default.signature.cert_persona:case c.default.signature.cert_casual:case c.default.signature.cert_positive:if(!r){d.default.print_debug("Dropping certification signatures without preceding user packet");continue}if(e[i].issuerKeyId.equals(n)){r.selfCertifications.push(e[i])}else{r.otherCertifications.push(e[i])}break;case c.default.signature.cert_revocation:if(r){r.revocationSignatures.push(e[i])}else{this.directSignatures.push(e[i])}break;case c.default.signature.key:this.directSignatures.push(e[i]);break;case c.default.signature.subkey_binding:if(!t){d.default.print_debug("Dropping subkey binding signature without preceding subkey packet");continue}t.bindingSignatures.push(e[i]);break;case c.default.signature.key_revocation:this.revocationSignatures.push(e[i]);break;case c.default.signature.subkey_revocation:if(!t){d.default.print_debug("Dropping subkey revocation signature without preceding subkey packet");continue}t.revocationSignatures.push(e[i]);break}break}}};Key.prototype.toPacketlist=function(){const e=new s.default.List;e.push(this.keyPacket);e.concat(this.revocationSignatures);e.concat(this.directSignatures);this.users.map(r=>e.concat(r.toPacketlist()));this.subKeys.map(r=>e.concat(r.toPacketlist()));return e};Key.prototype.getSubkeys=function(e=null){const r=[];this.subKeys.forEach(n=>{if(!e||n.getKeyId().equals(e,true)){r.push(n)}});return r};Key.prototype.getKeys=function(e=null){const r=[];if(!e||this.getKeyId().equals(e,true)){r.push(this)}return r.concat(this.getSubkeys(e))};Key.prototype.getKeyIds=function(){return this.getKeys().map(e=>e.getKeyId())};Key.prototype.getUserIds=function(){return this.users.map(e=>{return e.userId?e.userId.userid:null}).filter(e=>e!==null)};Key.prototype.isPublic=function(){return this.keyPacket.tag===c.default.packet.publicKey};Key.prototype.isPrivate=function(){return this.keyPacket.tag===c.default.packet.secretKey};Key.prototype.toPublic=function(){const e=new s.default.List;const r=this.toPacketlist();let n;let t;let i;for(let a=0;a<r.length;a++){switch(r[a].tag){case c.default.packet.secretKey:n=r[a].writePublicKey();t=new s.default.PublicKey;t.read(n);e.push(t);break;case c.default.packet.secretSubkey:n=r[a].writePublicKey();i=new s.default.PublicSubkey;i.read(n);e.push(i);break;default:e.push(r[a])}}return new Key(e)};Key.prototype.armor=function(){const e=this.isPublic()?c.default.armor.public_key:c.default.armor.private_key;return i.default.encode(e,this.toPacketlist().write())};Key.prototype.getSigningKey=async function(e=null,r=new Date,n={}){await this.verifyPrimaryKey(r,n);const t=this.keyPacket;const i=this.subKeys.slice().sort((e,r)=>r.keyPacket.created-e.keyPacket.created);let a;for(let n=0;n<i.length;n++){if(!e||i[n].getKeyId().equals(e)){try{await i[n].verify(t,r);const e={key:t,bind:i[n].keyPacket};const s=await b.getLatestValidSignature(i[n].bindingSignatures,t,c.default.signature.subkey_binding,e,r);if(s&&s.embeddedSignature&&b.isValidSigningKeyPacket(i[n].keyPacket,s)&&await b.getLatestValidSignature([s.embeddedSignature],i[n].keyPacket,c.default.signature.key_binding,e,r)){return i[n]}}catch(e){a=e}}}const s=await this.getPrimaryUser(r,n);if((!e||t.getKeyId().equals(e))&&b.isValidSigningKeyPacket(t,s.selfCertification)){return this}throw d.default.wrapError("Could not find valid signing key packet in key "+this.getKeyId().toHex(),a)};Key.prototype.getEncryptionKey=async function(e,r=new Date,n={}){await this.verifyPrimaryKey(r,n);const t=this.keyPacket;const i=this.subKeys.slice().sort((e,r)=>r.keyPacket.created-e.keyPacket.created);let a;for(let n=0;n<i.length;n++){if(!e||i[n].getKeyId().equals(e)){try{await i[n].verify(t,r);const e={key:t,bind:i[n].keyPacket};const s=await b.getLatestValidSignature(i[n].bindingSignatures,t,c.default.signature.subkey_binding,e,r);if(s&&b.isValidEncryptionKeyPacket(i[n].keyPacket,s)){return i[n]}}catch(e){a=e}}}const s=await this.getPrimaryUser(r,n);if((!e||t.getKeyId().equals(e))&&b.isValidEncryptionKeyPacket(t,s.selfCertification)){return this}throw d.default.wrapError("Could not find valid encryption key packet in key "+this.getKeyId().toHex(),a)};Key.prototype.getDecryptionKeys=async function(e,r=new Date,n={}){const t=this.keyPacket;const i=[];for(let n=0;n<this.subKeys.length;n++){if(!e||this.subKeys[n].getKeyId().equals(e,true)){try{const e={key:t,bind:this.subKeys[n].keyPacket};const a=await b.getLatestValidSignature(this.subKeys[n].bindingSignatures,t,c.default.signature.subkey_binding,e,r);if(a&&b.isValidDecryptionKeyPacket(a)){i.push(this.subKeys[n])}}catch(e){}}}const a=await this.getPrimaryUser(r,n);if((!e||t.getKeyId().equals(e,true))&&b.isValidDecryptionKeyPacket(a.selfCertification)){i.push(this)}return i};Key.prototype.encrypt=async function(e,r=null){if(!this.isPrivate()){throw new Error("Nothing to encrypt in a public key")}const n=this.getKeys(r);e=d.default.isArray(e)?e:new Array(n.length).fill(e);if(e.length!==n.length){throw new Error("Invalid number of passphrases for key")}return Promise.all(n.map(async function(r,n){const t=r.keyPacket;await t.encrypt(e[n]);t.clearPrivateParams();return t}))};Key.prototype.decrypt=async function(e,r=null){if(!this.isPrivate()){throw new Error("Nothing to decrypt in a public key")}e=d.default.isArray(e)?e:[e];const n=await Promise.all(this.getKeys(r).map(async function(n){let t=false;let i=null;await Promise.all(e.map(async function(e){try{await n.keyPacket.decrypt(e);if(r)await n.keyPacket.validate();t=true}catch(e){i=e}}));if(!t){throw i}return t}));if(!r){await this.validate()}return n.every(e=>e===true)};Key.prototype.validate=async function(){if(!this.isPrivate()){throw new Error("Cannot validate a public key")}let e;if(!this.primaryKey.isDummy()){e=this.primaryKey}else{const r=await this.getSigningKey(null,null);if(r&&!r.keyPacket.isDummy()){e=r.keyPacket}}if(e){return e.validate()}else{const e=this.getKeys();const r=e.map(e=>e.keyPacket.isDummy()).every(Boolean);if(r){throw new Error("Cannot validate an all-gnu-dummy key")}return Promise.all(e.map(async e=>e.keyPacket.validate()))}};Key.prototype.clearPrivateParams=function(){if(!this.isPrivate()){throw new Error("Can't clear private parameters of a public key")}this.getKeys().forEach(({keyPacket:e})=>{if(e.isDecrypted()){e.clearPrivateParams()}})};Key.prototype.isRevoked=async function(e,r,n=new Date){return b.isDataRevoked(this.keyPacket,c.default.signature.key_revocation,{key:this.keyPacket},this.revocationSignatures,e,r,n)};Key.prototype.verifyPrimaryKey=async function(e=new Date,r={}){const n=this.keyPacket;if(await this.isRevoked(null,null,e)){throw new Error("Primary key is revoked")}if(!this.users.some(e=>e.userId&&e.selfCertifications.length)){throw new Error("No self-certifications")}var t=await this.getPrimaryUser(e,r);const i=t.selfCertification;if(b.isDataExpired(n,i,e)){throw new Error("Primary key is expired")}};Key.prototype.getExpirationTime=async function(e,r,n){const t=await this.getPrimaryUser(null,n);const i=t.selfCertification;const a=b.getExpirationTime(this.keyPacket,i);const s=i.getExpirationTime();let f=a<s?a:s;if(e==="encrypt"||e==="encrypt_sign"){const e=await this.getEncryptionKey(r,f,n).catch(()=>{})||await this.getEncryptionKey(r,null,n).catch(()=>{});if(!e)return null;const t=await e.getExpirationTime(this.keyPacket);if(t<f)f=t}if(e==="sign"||e==="encrypt_sign"){const e=await this.getSigningKey(r,f,n).catch(()=>{})||await this.getSigningKey(r,null,n).catch(()=>{});if(!e)return null;const t=await e.getExpirationTime(this.keyPacket);if(t<f)f=t}return f};Key.prototype.getPrimaryUser=async function(e=new Date,r={}){const n=this.keyPacket;const t=[];let i;for(let a=0;a<this.users.length;a++){try{const s=this.users[a];if(!s.userId){continue}if(r.name!==undefined&&s.userId.name!==r.name||r.email!==undefined&&s.userId.email!==r.email||r.comment!==undefined&&s.userId.comment!==r.comment){throw new Error("Could not find user that matches that user ID")}const f={userId:s.userId,key:n};const l=await b.getLatestValidSignature(s.selfCertifications,n,c.default.signature.cert_generic,f,e);t.push({index:a,user:s,selfCertification:l})}catch(e){i=e}}if(!t.length){throw i||new Error("Could not find primary user")}await Promise.all(t.map(async function(r){return r.user.revoked||r.user.isRevoked(n,r.selfCertification,null,e)}));const a=t.sort(function(e,r){const n=e.selfCertification;const t=r.selfCertification;return t.revoked-n.revoked||n.isPrimaryUserID-t.isPrimaryUserID||n.created-t.created}).pop();const s=a.user,f=a.selfCertification;if(f.revoked||await s.isRevoked(n,f,null,e)){throw new Error("Primary user is revoked")}return a};Key.prototype.update=async function(e){if(!this.hasSameFingerprintAs(e)){throw new Error("Key update method: fingerprints of keys not equal")}if(this.isPublic()&&e.isPrivate()){const r=this.subKeys.length===e.subKeys.length&&this.subKeys.every(r=>{return e.subKeys.some(e=>{return r.hasSameFingerprintAs(e)})});if(!r){throw new Error("Cannot update public key with private key if subkey mismatch")}this.keyPacket=e.keyPacket}await b.mergeSignatures(e,this,"revocationSignatures",r=>{return b.isDataRevoked(this.keyPacket,c.default.signature.key_revocation,this,[r],null,e.keyPacket)});await b.mergeSignatures(e,this,"directSignatures");await Promise.all(e.users.map(async e=>{let r=false;await Promise.all(this.users.map(async n=>{if(e.userId&&n.userId&&e.userId.userid===n.userId.userid||e.userAttribute&&e.userAttribute.equals(n.userAttribute)){await n.update(e,this.keyPacket);r=true}}));if(!r){this.users.push(e)}}));await Promise.all(e.subKeys.map(async e=>{let r=false;await Promise.all(this.subKeys.map(async n=>{if(n.hasSameFingerprintAs(e)){await n.update(e,this.keyPacket);r=true}}));if(!r){this.subKeys.push(e)}}))};Key.prototype.revoke=async function({flag:e=c.default.reasonForRevocation.no_reason,string:r=""}={},n=new Date){if(this.isPublic()){throw new Error("Need private key for revoking")}const t={key:this.keyPacket};const i=new Key(this.toPacketlist());i.revocationSignatures.push(await b.createSignaturePacket(t,null,this.keyPacket,{signatureType:c.default.signature.key_revocation,reasonForRevocationFlag:c.default.write(c.default.reasonForRevocation,e),reasonForRevocationString:r},n));return i};Key.prototype.getRevocationCertificate=async function(e=new Date){const r={key:this.keyPacket};const n=await b.getLatestValidSignature(this.revocationSignatures,this.keyPacket,c.default.signature.key_revocation,r,e);const t=new s.default.List;t.push(n);return i.default.encode(c.default.armor.public_key,t.write(),null,null,"This is a revocation certificate")};Key.prototype.applyRevocationCertificate=async function(e){const r=await i.default.decode(e);const n=new s.default.List;await n.read(r.data);const t=n.findPacket(c.default.packet.signature);if(!t||t.signatureType!==c.default.signature.key_revocation){throw new Error("Could not find revocation signature packet")}if(!t.issuerKeyId.equals(this.getKeyId())){throw new Error("Revocation signature does not match key")}if(t.isExpired()){throw new Error("Revocation signature is expired")}try{await t.verify(this.keyPacket,c.default.signature.key_revocation,{key:this.keyPacket})}catch(e){throw d.default.wrapError("Could not verify revocation signature",e)}const a=new Key(this.toPacketlist());a.revocationSignatures.push(t);return a};Key.prototype.signPrimaryUser=async function(e,r,n){var t=await this.getPrimaryUser(r,n);const i=t.index,a=t.user;const s=await a.sign(this.keyPacket,e);const f=new Key(this.toPacketlist());f.users[i]=s;return f};Key.prototype.signAllUsers=async function(e){const r=this;const n=new Key(this.toPacketlist());n.users=await Promise.all(this.users.map(function(n){return n.sign(r.keyPacket,e)}));return n};Key.prototype.verifyPrimaryUser=async function(e,r,n){const t=this.keyPacket;var i=await this.getPrimaryUser(r,n);const a=i.user;const s=e?await a.verifyAllCertifications(t,e):[{keyid:t.keyid,valid:await a.verify(t).catch(()=>false)}];return s};Key.prototype.verifyAllUsers=async function(e){const r=[];const n=this.keyPacket;await Promise.all(this.users.map(async function(t){const i=e?await t.verifyAllCertifications(n,e):[{keyid:n.keyid,valid:await t.verify(n).catch(()=>false)}];i.forEach(e=>{r.push({userid:t.userId.userid,keyid:e.keyid,valid:e.valid})})}));return r};Key.prototype.addSubkey=async function(e={}){if(!this.isPrivate()){throw new Error("Cannot add a subkey to a public key")}if(e.passphrase){throw new Error("Subkey could not be encrypted here, please encrypt whole key")}if(d.default.getWebCryptoAll()&&e.rsaBits<2048){throw new Error("When using webCrypto rsaBits should be 2048 or 4096, found: "+e.rsaBits)}const r=this.primaryKey;if(!r.isDecrypted()){throw new Error("Key is not decrypted")}const n=r.getAlgorithmInfo();e=b.sanitizeKeyOptions(e,n);const t=await b.generateSecretSubkey(e);const i=await b.createBindingSignature(t,r,e);const a=this.toPacketlist();a.push(t);a.push(i);return new Key(a)};["getKeyId","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted","hasSameFingerprintAs"].forEach(e=>{Key.prototype[e]=p.default.prototype[e]})},{"../encoding/armor":126,"../enums":128,"../packet":146,"../util":173,"./helper":132,"./subkey":135,"./user":136}],135:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.default=SubKey;var t=e("../enums");var i=_interopRequireDefault(t);var a=e("./helper");var s=_interopRequireWildcard(a);var f=e("../packet");var c=_interopRequireDefault(f);function _interopRequireWildcard(e){if(e&&e.__esModule){return e}else{var r={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))r[n]=e[n]}}r.default=e;return r}}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function SubKey(e){if(!(this instanceof SubKey)){return new SubKey(e)}this.keyPacket=e;this.bindingSignatures=[];this.revocationSignatures=[]}SubKey.prototype.toPacketlist=function(){const e=new c.default.List;e.push(this.keyPacket);e.concat(this.revocationSignatures);e.concat(this.bindingSignatures);return e};SubKey.prototype.isRevoked=async function(e,r,n,t=new Date){return s.isDataRevoked(e,i.default.signature.subkey_revocation,{key:e,bind:this.keyPacket},this.revocationSignatures,r,n,t)};SubKey.prototype.verify=async function(e,r=new Date){const n={key:e,bind:this.keyPacket};const t=await s.getLatestValidSignature(this.bindingSignatures,e,i.default.signature.subkey_binding,n,r);if(t.revoked||await this.isRevoked(e,t,null,r)){throw new Error("Subkey is revoked")}if(s.isDataExpired(this.keyPacket,t,r)){throw new Error("Subkey is expired")}};SubKey.prototype.getExpirationTime=async function(e,r=new Date){const n={key:e,bind:this.keyPacket};let t;try{t=await s.getLatestValidSignature(this.bindingSignatures,e,i.default.signature.subkey_binding,n,r)}catch(e){return null}const a=s.getExpirationTime(this.keyPacket,t);const f=t.getExpirationTime();return a<f?a:f};SubKey.prototype.update=async function(e,r){if(!this.hasSameFingerprintAs(e)){throw new Error("SubKey update method: fingerprints of subkeys not equal")}if(this.keyPacket.tag===i.default.packet.publicSubkey&&e.keyPacket.tag===i.default.packet.secretSubkey){this.keyPacket=e.keyPacket}const n=this;const t={key:r,bind:n.keyPacket};await s.mergeSignatures(e,this,"bindingSignatures",async function(e){for(let r=0;r<n.bindingSignatures.length;r++){if(n.bindingSignatures[r].issuerKeyId.equals(e.issuerKeyId)){if(e.created>n.bindingSignatures[r].created){n.bindingSignatures[r]=e}return false}}try{return e.verified||await e.verify(r,i.default.signature.subkey_binding,t)}catch(e){return false}});await s.mergeSignatures(e,this,"revocationSignatures",function(e){return s.isDataRevoked(r,i.default.signature.subkey_revocation,t,[e])})};SubKey.prototype.revoke=async function(e,{flag:r=i.default.reasonForRevocation.no_reason,string:n=""}={},t=new Date){const a={key:e,bind:this.keyPacket};const f=new SubKey(this.keyPacket);f.revocationSignatures.push(await s.createSignaturePacket(a,null,e,{signatureType:i.default.signature.subkey_revocation,reasonForRevocationFlag:i.default.write(i.default.reasonForRevocation,r),reasonForRevocationString:n},t));await f.update(this,e);return f};["getKeyId","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach(e=>{SubKey.prototype[e]=function(){return this.keyPacket[e]()}});SubKey.prototype.hasSameFingerprintAs=function(e){return this.keyPacket.hasSameFingerprintAs(e.keyPacket||e)}},{"../enums":128,"../packet":146,"./helper":132}],136:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.default=User;var t=e("../enums");var i=_interopRequireDefault(t);var a=e("../util");var s=_interopRequireDefault(a);var f=e("../packet");var c=_interopRequireDefault(f);var l=e("./helper");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function User(e){if(!(this instanceof User)){return new User(e)}this.userId=e.tag===i.default.packet.userid?e:null;this.userAttribute=e.tag===i.default.packet.userAttribute?e:null;this.selfCertifications=[];this.otherCertifications=[];this.revocationSignatures=[]}User.prototype.toPacketlist=function(){const e=new c.default.List;e.push(this.userId||this.userAttribute);e.concat(this.revocationSignatures);e.concat(this.selfCertifications);e.concat(this.otherCertifications);return e};User.prototype.sign=async function(e,r){const n={userId:this.userId,userAttribute:this.userAttribute,key:e};const t=new User(n.userId||n.userAttribute);t.otherCertifications=await Promise.all(r.map(async function(r){if(r.isPublic()){throw new Error("Need private key for signing")}if(r.hasSameFingerprintAs(e)){throw new Error("Not implemented for self signing")}const t=await r.getSigningKey();return(0,l.createSignaturePacket)(n,r,t.keyPacket,{signatureType:i.default.signature.cert_generic,keyFlags:[i.default.keyFlags.certify_keys|i.default.keyFlags.sign_data]})}));await t.update(this,e);return t};User.prototype.isRevoked=async function(e,r,n,t=new Date){return(0,l.isDataRevoked)(e,i.default.signature.cert_revocation,{key:e,userId:this.userId,userAttribute:this.userAttribute},this.revocationSignatures,r,n,t)};User.prototype.verifyCertificate=async function(e,r,n,t=new Date){const a=this;const f=r.issuerKeyId;const c={userId:this.userId,userAttribute:this.userAttribute,key:e};const l=await Promise.all(n.map(async function(n){if(!n.getKeyIds().some(e=>e.equals(f))){return null}const l=await n.getSigningKey(f,t);if(r.revoked||await a.isRevoked(e,r,l.keyPacket,t)){throw new Error("User certificate is revoked")}try{r.verified||await r.verify(l.keyPacket,i.default.signature.cert_generic,c)}catch(e){throw s.default.wrapError("User certificate is invalid",e)}if(r.isExpired(t)){throw new Error("User certificate is expired")}return true}));return l.find(e=>e!==null)||null};User.prototype.verifyAllCertifications=async function(e,r,n=new Date){const t=this;const i=this.selfCertifications.concat(this.otherCertifications);return Promise.all(i.map(async function(i){return{keyid:i.issuerKeyId,valid:await t.verifyCertificate(e,i,r,n).catch(()=>false)}}))};User.prototype.verify=async function(e,r=new Date){if(!this.selfCertifications.length){throw new Error("No self-certifications")}const n=this;const t={userId:this.userId,userAttribute:this.userAttribute,key:e};let a;for(let f=this.selfCertifications.length-1;f>=0;f--){try{const c=this.selfCertifications[f];if(c.revoked||await n.isRevoked(e,c,undefined,r)){throw new Error("Self-certification is revoked")}try{c.verified||await c.verify(e,i.default.signature.cert_generic,t)}catch(e){throw s.default.wrapError("Self-certification is invalid",e)}if(c.isExpired(r)){throw new Error("Self-certification is expired")}return true}catch(e){a=e}}throw a};User.prototype.update=async function(e,r){const n={userId:this.userId,userAttribute:this.userAttribute,key:r};await(0,l.mergeSignatures)(e,this,"selfCertifications",async function(e){try{return e.verified||e.verify(r,i.default.signature.cert_generic,n)}catch(e){return false}});await(0,l.mergeSignatures)(e,this,"otherCertifications");await(0,l.mergeSignatures)(e,this,"revocationSignatures",function(e){return(0,l.isDataRevoked)(r,i.default.signature.cert_revocation,n,[e])})}},{"../enums":128,"../packet":146,"../util":173,"./helper":132}],137:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("./keyring.js");var i=_interopRequireDefault(t);var a=e("./localstore.js");var s=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}i.default.localstore=s.default;n.default=i.default},{"./keyring.js":138,"./localstore.js":139}],138:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("../key");var i=e("./localstore");var a=_interopRequireDefault(i);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Keyring(e){this.storeHandler=e||new a.default}Keyring.prototype.load=async function(){this.publicKeys=new KeyArray(await this.storeHandler.loadPublic());this.privateKeys=new KeyArray(await this.storeHandler.loadPrivate())};Keyring.prototype.store=async function(){await Promise.all([this.storeHandler.storePublic(this.publicKeys.keys),this.storeHandler.storePrivate(this.privateKeys.keys)])};Keyring.prototype.clear=function(){this.publicKeys.keys=[];this.privateKeys.keys=[]};Keyring.prototype.getKeysForId=function(e,r){let n=[];n=n.concat(this.publicKeys.getForId(e,r)||[]);n=n.concat(this.privateKeys.getForId(e,r)||[]);return n.length?n:null};Keyring.prototype.removeKeysForId=function(e){let r=[];r=r.concat(this.publicKeys.removeForId(e)||[]);r=r.concat(this.privateKeys.removeForId(e)||[]);return r.length?r:null};Keyring.prototype.getAllKeys=function(){return this.publicKeys.keys.concat(this.privateKeys.keys)};function KeyArray(e){this.keys=e}KeyArray.prototype.getForAddress=function(e){const r=[];for(let n=0;n<this.keys.length;n++){if(emailCheck(e,this.keys[n])){r.push(this.keys[n])}}return r};function emailCheck(e,r){e=e.toLowerCase();const n=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");const t=new RegExp("<"+n+">");const i=r.getUserIds();for(let r=0;r<i.length;r++){const n=i[r].toLowerCase();if(e===n||t.test(n)){return true}}return false}function keyIdCheck(e,r){if(e.length===16){return e===r.getKeyId().toHex()}return e===r.getFingerprint()}KeyArray.prototype.getForId=function(e,r){for(let n=0;n<this.keys.length;n++){if(keyIdCheck(e,this.keys[n])){return this.keys[n]}if(r&&this.keys[n].subKeys.length){for(let r=0;r<this.keys[n].subKeys.length;r++){if(keyIdCheck(e,this.keys[n].subKeys[r])){return this.keys[n]}}}}return null};KeyArray.prototype.importKey=async function(e){const r=await(0,t.readArmored)(e);for(let e=0;e<r.keys.length;e++){const n=r.keys[e];const t=n.getKeyId().toHex();const i=this.getForId(t);if(i){await i.update(n)}else{this.push(n)}}return r.err?r.err:null};KeyArray.prototype.push=function(e){return this.keys.push(e)};KeyArray.prototype.removeForId=function(e){for(let r=0;r<this.keys.length;r++){if(keyIdCheck(e,this.keys[r])){return this.keys.splice(r,1)[0]}}return null};n.default=Keyring},{"../key":133,"./localstore":139}],139:[function(e,r,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("web-stream-tools");var i=_interopRequireDefault(t);var a=e("../config");var s=_interopRequireDefault(a);var f=e("../key");var c=e("../util");var l=_interopRequireDefault(c);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function LocalStore(n){n=n||"openpgp-";this.publicKeysItem=n+this.publicKeysItem;this.privateKeysItem=n+this.privateKeysItem;if(typeof r!=="undefined"&&r.localStorage){this.storage=r.localStorage}else{this.storage=new(e("node-localstorage").LocalStorage)(s.default.node_store)}}LocalStore.prototype.publicKeysItem="public-keys";LocalStore.prototype.privateKeysItem="private-keys";LocalStore.prototype.loadPublic=async function(){return loadKeys(this.storage,this.publicKeysItem)};LocalStore.prototype.loadPrivate=async function(){return loadKeys(this.storage,this.privateKeysItem)};async function loadKeys(e,r){const n=JSON.parse(e.getItem(r));const t=[];if(n!==null&&n.length!==0){let e;for(let r=0;r<n.length;r++){e=await(0,f.readArmored)(n[r]);if(!e.err){t.push(e.keys[0])}else{l.default.print_debug("Error reading armored key from keyring index: "+r)}}}return t}LocalStore.prototype.storePublic=async function(e){await storeKeys(this.storage,this.publicKeysItem,e)};LocalStore.prototype.storePrivate=async function(e){await storeKeys(this.storage,this.privateKeysItem,e)};async function storeKeys(e,r,n){if(n.length){const t=await Promise.all(n.map(e=>i.default.readToEnd(e.armor())));e.setItem(r,JSON.stringify(t))}else{e.removeItem(r)}}n.default=LocalStore}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../config":94,"../key":133,"../util":173,"node-localstorage":"node-localstorage","web-stream-tools":90}],140:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});const t=n.loadScript=(e=>{if(typeof importScripts!=="undefined"){return importScripts(e)}return new Promise((r,n)=>{const t=document.createElement("script");t.src=e;t.onload=(()=>r());t.onerror=(e=>n(new Error(e.message)));document.head.appendChild(t)})});const i=n.dl=async function dl(e,r){const n=await fetch(e,r);return n.arrayBuffer()}},{}],141:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.Message=Message;n.encryptSessionKey=encryptSessionKey;n.createSignaturePackets=createSignaturePackets;n.createVerificationObjects=createVerificationObjects;n.readArmored=readArmored;n.read=read;n.fromText=fromText;n.fromBinary=fromBinary;var t=e("web-stream-tools");var i=_interopRequireDefault(t);var a=e("./encoding/armor");var s=_interopRequireDefault(a);var f=e("./type/keyid");var c=_interopRequireDefault(f);var l=e("./config");var d=_interopRequireDefault(l);var o=e("./crypto");var u=_interopRequireDefault(o);var h=e("./enums");var p=_interopRequireDefault(h);var v=e("./util");var b=_interopRequireDefault(v);var y=e("./packet");var g=_interopRequireDefault(y);var w=e("./signature");var m=e("./key");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Message(e){if(!(this instanceof Message)){return new Message(e)}this.packets=e||new g.default.List}Message.prototype.getEncryptionKeyIds=function(){const e=[];const r=this.packets.filterByTag(p.default.packet.publicKeyEncryptedSessionKey);r.forEach(function(r){e.push(r.publicKeyId)});return e};Message.prototype.getSigningKeyIds=function(){const e=[];const r=this.unwrapCompressed();const n=r.packets.filterByTag(p.default.packet.onePassSignature);n.forEach(function(r){e.push(r.issuerKeyId)});if(!e.length){const n=r.packets.filterByTag(p.default.packet.signature);n.forEach(function(r){e.push(r.issuerKeyId)})}return e};Message.prototype.decrypt=async function(e,r,n,t){const a=n||await this.decryptSessionKeys(e,r);const s=this.packets.filterByTag(p.default.packet.symmetricallyEncrypted,p.default.packet.symEncryptedIntegrityProtected,p.default.packet.symEncryptedAEADProtected);if(s.length===0){return this}const f=s[0];let c=null;const l=Promise.all(a.map(async e=>{if(!e||!b.default.isUint8Array(e.data)||!b.default.isString(e.algorithm)){throw new Error("Invalid session key for decryption.")}try{await f.decrypt(e.algorithm,e.data,t)}catch(e){b.default.print_debug_error(e);c=e}}));i.default.cancel(f.encrypted);f.encrypted=null;await l;if(!f.packets||!f.packets.length){throw c||new Error("Decryption failed.")}const d=new Message(f.packets);f.packets=new g.default.List;return d};Message.prototype.decryptSessionKeys=async function(e,r){let n=[];let t;if(r){const e=this.packets.filterByTag(p.default.packet.symEncryptedSessionKey);if(!e){throw new Error("No symmetrically encrypted session key packet found.")}await Promise.all(r.map(async function(r,t){let i;if(t){i=new g.default.List;await i.read(e.write())}else{i=e}await Promise.all(i.map(async function(e){try{await e.decrypt(r);n.push(e)}catch(e){b.default.print_debug_error(e)}}))}))}else if(e){const r=this.packets.filterByTag(p.default.packet.publicKeyEncryptedSessionKey);if(!r){throw new Error("No public key encrypted session key packet found.")}await Promise.all(r.map(async function(r){await Promise.all(e.map(async function(e){let i=[p.default.symmetric.aes256,p.default.symmetric.aes128,p.default.symmetric.tripledes,p.default.symmetric.cast5];try{const r=await e.getPrimaryUser();if(r.selfCertification.preferredSymmetricAlgorithms){i=i.concat(r.selfCertification.preferredSymmetricAlgorithms)}}catch(e){}const a=(await e.getDecryptionKeys(r.publicKeyId,null)).map(e=>e.keyPacket);await Promise.all(a.map(async function(e){if(!e){return}if(!e.isDecrypted()){throw new Error("Private key is not decrypted.")}try{await r.decrypt(e);if(!i.includes(p.default.write(p.default.symmetric,r.sessionKeyAlgorithm))){throw new Error("A non-preferred symmetric algorithm was used.")}n.push(r)}catch(e){b.default.print_debug_error(e);t=e}}))}));i.default.cancel(r.encrypted);r.encrypted=null}))}else{throw new Error("No key or password specified.")}if(n.length){if(n.length>1){const e={};n=n.filter(function(r){const n=r.sessionKeyAlgorithm+b.default.Uint8Array_to_str(r.sessionKey);if(e.hasOwnProperty(n)){return false}e[n]=true;return true})}return n.map(e=>({data:e.sessionKey,algorithm:e.sessionKeyAlgorithm}))}throw t||new Error("Session key decryption failed.")};Message.prototype.getLiteralData=function(){const e=this.unwrapCompressed();const r=e.packets.findPacket(p.default.packet.literal);return r&&r.getBytes()||null};Message.prototype.getFilename=function(){const e=this.unwrapCompressed();const r=e.packets.findPacket(p.default.packet.literal);return r&&r.getFilename()||null};Message.prototype.getText=function(){const e=this.unwrapCompressed();const r=e.packets.findPacket(p.default.packet.literal);if(r){return r.getText()}return null};Message.prototype.encrypt=async function(e,r,n,t=false,i=new Date,a=[],s){let f;let c;let l;if(n){if(!b.default.isUint8Array(n.data)||!b.default.isString(n.algorithm)){throw new Error("Invalid session key for encryption.")}f=n.algorithm;c=n.aeadAlgorithm;n=n.data}else if(e&&e.length){f=p.default.read(p.default.symmetric,await(0,m.getPreferredAlgo)("symmetric",e,i,a));if(d.default.aead_protect&&await(0,m.isAeadSupported)(e,i,a)){c=p.default.read(p.default.aead,await(0,m.getPreferredAlgo)("aead",e,i,a))}}else if(r&&r.length){f=p.default.read(p.default.symmetric,d.default.encryption_cipher);c=p.default.read(p.default.aead,d.default.aead_mode)}else{throw new Error("No keys, passwords, or session key provided.")}if(!n){n=await u.default.generateSessionKey(f)}const o=await encryptSessionKey(n,f,c,e,r,t,i,a);if(d.default.aead_protect&&c){l=new g.default.SymEncryptedAEADProtected;l.aeadAlgorithm=c}else if(d.default.integrity_protect){l=new g.default.SymEncryptedIntegrityProtected}else{l=new g.default.SymmetricallyEncrypted}l.packets=this.packets;await l.encrypt(f,n,s);o.packets.push(l);l.packets=new g.default.List;return{message:o,sessionKey:{data:n,algorithm:f,aeadAlgorithm:c}}};async function encryptSessionKey(e,r,n,t,i,a=false,s=new Date,f=[]){const l=new g.default.List;if(t){const n=await Promise.all(t.map(async function(n){const t=await n.getEncryptionKey(undefined,s,f);const i=new g.default.PublicKeyEncryptedSessionKey;i.publicKeyId=a?c.default.wildcard():t.getKeyId();i.publicKeyAlgorithm=t.keyPacket.algorithm;i.sessionKey=e;i.sessionKeyAlgorithm=r;await i.encrypt(t.keyPacket);delete i.sessionKey;return i}));l.concat(n)}if(i){const t=async function testDecrypt(e,r){try{await e.decrypt(r);return 1}catch(e){return 0}};const a=(e,r)=>e+r;const s=async function encryptPassword(e,r,n,s){const f=new g.default.SymEncryptedSessionKey;f.sessionKey=e;f.sessionKeyAlgorithm=r;if(n){f.aeadAlgorithm=n}await f.encrypt(s);if(d.default.password_collision_check){const n=await Promise.all(i.map(e=>t(f,e)));if(n.reduce(a)!==1){return encryptPassword(e,r,s)}}delete f.sessionKey;return f};const f=await Promise.all(i.map(t=>s(e,r,n,t)));l.concat(f)}return new Message(l)}Message.prototype.sign=async function(e=[],r=null,n=new Date,t=[],i=false){const a=new g.default.List;const s=this.packets.findPacket(p.default.packet.literal);if(!s){throw new Error("No literal data packet to sign.")}let f;let c;const l=s.text===null?p.default.signature.binary:p.default.signature.text;if(r){c=r.packets.filterByTag(p.default.packet.signature);for(f=c.length-1;f>=0;f--){const r=c[f];const n=new g.default.OnePassSignature;n.signatureType=r.signatureType;n.hashAlgorithm=r.hashAlgorithm;n.publicKeyAlgorithm=r.publicKeyAlgorithm;n.issuerKeyId=r.issuerKeyId;if(!e.length&&f===0){n.flags=1}a.push(n)}}await Promise.all(Array.from(e).reverse().map(async function(r,i){if(r.isPublic()){throw new Error("Need private key for signing")}const a=await r.getSigningKey(undefined,n,t);const s=new g.default.OnePassSignature;s.signatureType=l;s.hashAlgorithm=await(0,m.getPreferredHashAlgo)(r,a.keyPacket,n,t);s.publicKeyAlgorithm=a.keyPacket.algorithm;s.issuerKeyId=a.getKeyId();if(i===e.length-1){s.flags=1}return s})).then(e=>{e.forEach(e=>a.push(e))});a.push(s);a.concat(await createSignaturePackets(s,e,r,n,t,false,i));return new Message(a)};Message.prototype.compress=function(e){if(e===p.default.compression.uncompressed){return this}const r=new g.default.Compressed;r.packets=this.packets;r.algorithm=p.default.read(p.default.compression,e);const n=new g.default.List;n.push(r);return new Message(n)};Message.prototype.signDetached=async function(e=[],r=null,n=new Date,t=[],i=false){const a=this.packets.findPacket(p.default.packet.literal);if(!a){throw new Error("No literal data packet to sign.")}return new w.Signature(await createSignaturePackets(a,e,r,n,t,true,i))};async function createSignaturePackets(e,r,n=null,t=new Date,i=[],a=false,s=false){const f=new g.default.List;const c=e.text===null?p.default.signature.binary:p.default.signature.text;await Promise.all(r.map(async(r,n)=>{const f=i[n];if(r.isPublic()){throw new Error("Need private key for signing")}const l=await r.getSigningKey(undefined,t,f);return(0,m.createSignaturePacket)(e,r,l.keyPacket,{signatureType:c},t,f,a,s)})).then(e=>{e.forEach(e=>f.push(e))});if(n){const e=n.packets.filterByTag(p.default.packet.signature);f.concat(e)}return f}Message.prototype.verify=async function(e,r=new Date,n){const t=this.unwrapCompressed();const a=t.packets.filterByTag(p.default.packet.literal);if(a.length!==1){throw new Error("Can only verify message with one literal data packet.")}if(!n){t.packets.concat(await i.default.readToEnd(t.packets.stream,e=>e))}const s=t.packets.filterByTag(p.default.packet.onePassSignature).reverse();const f=t.packets.filterByTag(p.default.packet.signature);if(n&&s.length&&!f.length&&t.packets.stream){await Promise.all(s.map(async e=>{e.correspondingSig=new Promise((r,n)=>{e.correspondingSigResolve=r;e.correspondingSigReject=n});e.signatureData=i.default.fromAsync(async()=>(await e.correspondingSig).signatureData);e.hashed=i.default.readToEnd(await e.hash(e.signatureType,a[0],undefined,false,n));e.hashed.catch(()=>{})}));t.packets.stream=i.default.transformPair(t.packets.stream,async(e,r)=>{const n=i.default.getReader(e);const t=i.default.getWriter(r);try{for(let e=0;e<s.length;e++){var a=await n.read();const r=a.value;s[e].correspondingSigResolve(r)}await n.readToEnd();await t.ready;await t.close()}catch(e){s.forEach(r=>{r.correspondingSigReject(e)});await t.abort(e)}});return createVerificationObjects(s,a,e,r,false,n)}return createVerificationObjects(f,a,e,r,false,n)};Message.prototype.verifyDetached=function(e,r,n=new Date){const t=this.unwrapCompressed();const i=t.packets.filterByTag(p.default.packet.literal);if(i.length!==1){throw new Error("Can only verify message with one literal data packet.")}const a=e.packets;return createVerificationObjects(a,i,r,n,true)};async function createVerificationObject(e,r,n,t=new Date,i=false,a=false){let s=null;let f=null;await Promise.all(n.map(async function(r){try{f=await r.getSigningKey(e.issuerKeyId,null);s=r}catch(e){}}));const c=e.correspondingSig||e;const l={keyid:e.issuerKeyId,verified:(async()=>{if(!f){return null}const n=await e.verify(f.keyPacket,e.signatureType,r[0],i,a);const l=await c;if(l.isExpired(t)||!(l.created>=f.getCreationTime()&&l.created<await(f===s?f.getExpirationTime():f.getExpirationTime(s,t)))){throw new Error("Signature is expired")}return n})(),signature:(async()=>{const e=await c;const r=new g.default.List;r.push(e);return new w.Signature(r)})()};l.signature.catch(()=>{});l.verified.catch(()=>{});return l}async function createVerificationObjects(e,r,n,t=new Date,i=false,a=false){return Promise.all(e.filter(function(e){return["text","binary"].includes(p.default.read(p.default.signature,e.signatureType))}).map(async function(e){return createVerificationObject(e,r,n,t,i,a)}))}Message.prototype.unwrapCompressed=function(){const e=this.packets.filterByTag(p.default.packet.compressed);if(e.length){return new Message(e[0].packets)}return this};Message.prototype.appendSignature=async function(e){await this.packets.read(b.default.isUint8Array(e)?e:(await s.default.decode(e)).data)};Message.prototype.armor=function(){return s.default.encode(p.default.armor.message,this.packets.write())};async function readArmored(e){const r=b.default.isStream(e);if(r==="node"){e=i.default.nodeToWeb(e)}const n=await s.default.decode(e);return read(n.data,r)}async function read(e,r=b.default.isStream(e)){const n=b.default.isStream(e);if(n==="node"){e=i.default.nodeToWeb(e)}const t=new g.default.List;await t.read(e,r);const a=new Message(t);a.fromStream=r;return a}function fromText(e,r,n=new Date,t="utf8"){const a=b.default.isStream(e);if(a==="node"){e=i.default.nodeToWeb(e)}const s=new g.default.Literal(n);s.setText(e,t);if(r!==undefined){s.setFilename(r)}const f=new g.default.List;f.push(s);const c=new Message(f);c.fromStream=a;return c}function fromBinary(e,r,n=new Date,t="binary"){const a=b.default.isStream(e);if(!b.default.isUint8Array(e)&&!a){throw new Error("Data must be in the form of a Uint8Array or Stream")}if(a==="node"){e=i.default.nodeToWeb(e)}const s=new g.default.Literal(n);s.setBytes(e,t);if(r!==undefined){s.setFilename(r)}const f=new g.default.List;f.push(s);const c=new Message(f);c.fromStream=a;return c}},{"./config":94,"./crypto":109,"./encoding/armor":126,"./enums":128,"./key":133,"./packet":146,"./signature":166,"./type/keyid":169,"./util":173,"web-stream-tools":90}],142:[function(e,r,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.initWorker=initWorker;n.getWorker=getWorker;n.destroyWorker=destroyWorker;n.generateKey=generateKey;n.reformatKey=reformatKey;n.revokeKey=revokeKey;n.decryptKey=decryptKey;n.encryptKey=encryptKey;n.encrypt=encrypt;n.decrypt=decrypt;n.sign=sign;n.verify=verify;n.encryptSessionKey=encryptSessionKey;n.decryptSessionKeys=decryptSessionKeys;var t=e("web-stream-tools");var i=_interopRequireDefault(t);var a=e("./message");var s=_interopRequireWildcard(a);var f=e("./cleartext");var c=e("./key");var l=e("./config/config");var d=_interopRequireDefault(l);var o=e("./enums");var u=_interopRequireDefault(o);e("./polyfills");var h=e("./util");var p=_interopRequireDefault(h);var v=e("./worker/async_proxy");var b=_interopRequireDefault(v);function _interopRequireWildcard(e){if(e&&e.__esModule){return e}else{var r={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))r[n]=e[n]}}r.default=e;return r}}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}let y;async function initWorker({path:e="openpgp.worker.js",n:n=1,workers:t=[]}={}){if(t.length||typeof r!=="undefined"&&r.Worker&&r.MessageChannel){const r=new b.default({path:e,n:n,workers:t,config:d.default});const i=await r.loaded();if(i){y=r;return true}}return false}function getWorker(){return y}async function destroyWorker(){const e=y;y=undefined;if(e){await e.clearKeyCache();e.terminate()}}function generateKey({userIds:e=[],passphrase:r="",numBits:n=2048,rsaBits:t=n,keyExpirationTime:i=0,curve:a="",date:s=new Date,subkeys:f=[{}]}){e=toArray(e);const l={userIds:e,passphrase:r,rsaBits:t,keyExpirationTime:i,curve:a,date:s,subkeys:f};if(p.default.getWebCryptoAll()&&t<2048){throw new Error("rsaBits should be 2048 or 4096, found: "+t)}if(!p.default.getWebCryptoAll()&&y){return y.delegate("generateKey",l)}return(0,c.generate)(l).then(async e=>{const r=await e.getRevocationCertificate(s);e.revocationSignatures=[];return convertStreams({key:e,privateKeyArmored:e.armor(),publicKeyArmored:e.toPublic().armor(),revocationCertificate:r})}).catch(onError.bind(null,"Error generating keypair"))}function reformatKey({privateKey:e,userIds:r=[],passphrase:n="",keyExpirationTime:t=0,date:i}){r=toArray(r);const a={privateKey:e,userIds:r,passphrase:n,keyExpirationTime:t,date:i};if(y){return y.delegate("reformatKey",a)}return(0,c.reformat)(a).then(async e=>{const r=await e.getRevocationCertificate(i);e.revocationSignatures=[];return convertStreams({key:e,privateKeyArmored:e.armor(),publicKeyArmored:e.toPublic().armor(),revocationCertificate:r})}).catch(onError.bind(null,"Error reformatting keypair"))}function revokeKey({key:e,revocationCertificate:r,reasonForRevocation:n}={}){const t={key:e,revocationCertificate:r,reasonForRevocation:n};if(!p.default.getWebCryptoAll()&&y){return y.delegate("revokeKey",t)}return Promise.resolve().then(()=>{if(r){return e.applyRevocationCertificate(r)}else{return e.revoke(n)}}).then(async e=>{await convertStreams(e);if(e.isPrivate()){const r=e.toPublic();return{privateKey:e,privateKeyArmored:e.armor(),publicKey:r,publicKeyArmored:r.armor()}}return{publicKey:e,publicKeyArmored:e.armor()}}).catch(onError.bind(null,"Error revoking key"))}function decryptKey({privateKey:e,passphrase:r}){if(y){return y.delegate("decryptKey",{privateKey:e,passphrase:r})}return Promise.resolve().then(async function(){await e.decrypt(r);return{key:e}}).catch(onError.bind(null,"Error decrypting private key"))}function encryptKey({privateKey:e,passphrase:r}){if(y){return y.delegate("encryptKey",{privateKey:e,passphrase:r})}return Promise.resolve().then(async function(){await e.encrypt(r);return{key:e}}).catch(onError.bind(null,"Error decrypting private key"))}function encrypt({message:e,publicKeys:r,privateKeys:n,passwords:t,sessionKey:i,compression:a=d.default.compression,armor:s=true,streaming:f=e&&e.fromStream,detached:c=false,signature:l=null,returnSessionKey:o=false,wildcard:u=false,date:h=new Date,fromUserIds:p=[],toUserIds:v=[]}){checkMessage(e);r=toArray(r);n=toArray(n);t=toArray(t);p=toArray(p);v=toArray(v);if(!nativeAEAD()&&y){return y.delegate("encrypt",{message:e,publicKeys:r,privateKeys:n,passwords:t,sessionKey:i,compression:a,armor:s,streaming:f,detached:c,signature:l,returnSessionKey:o,wildcard:u,date:h,fromUserIds:p,toUserIds:v})}const b={};return Promise.resolve().then(async function(){if(!n){n=[]}if(n.length||l){if(c){const r=await e.signDetached(n,l,h,p,e.fromStream);b.signature=s?r.armor():r}else{e=await e.sign(n,l,h,p,e.fromStream)}}e=e.compress(a);return e.encrypt(r,t,i,u,h,v,f)}).then(async e=>{if(s){b.data=e.message.armor()}else{b.message=e.message}if(o){b.sessionKey=e.sessionKey}return convertStreams(b,f,s?["signature","data"]:[])}).catch(onError.bind(null,"Error encrypting message"))}function decrypt({message:e,privateKeys:r,passwords:n,sessionKeys:t,publicKeys:i,format:a="utf8",streaming:s=e&&e.fromStream,signature:f=null,date:c=new Date}){checkMessage(e);i=toArray(i);r=toArray(r);n=toArray(n);t=toArray(t);if(!nativeAEAD()&&y){return y.delegate("decrypt",{message:e,privateKeys:r,passwords:n,sessionKeys:t,publicKeys:i,format:a,streaming:s,signature:f,date:c})}return e.decrypt(r,n,t,s).then(async function(r){if(!i){i=[]}const n={};n.signatures=f?await r.verifyDetached(f,i,c,s):await r.verify(i,c,s);n.data=a==="binary"?r.getLiteralData():r.getText();n.filename=r.getFilename();if(s)linkStreams(n,e);n.data=await convertStream(n.data,s);if(!s)await prepareSignatures(n.signatures);return n}).catch(onError.bind(null,"Error decrypting message"))}function sign({message:e,privateKeys:r,armor:n=true,streaming:t=e&&e.fromStream,detached:a=false,date:s=new Date,fromUserIds:f=[]}){checkCleartextOrMessage(e);r=toArray(r);f=toArray(f);if(y){return y.delegate("sign",{message:e,privateKeys:r,armor:n,streaming:t,detached:a,date:s,fromUserIds:f})}const c={};return Promise.resolve().then(async function(){if(a){const t=await e.signDetached(r,undefined,s,f,e.fromStream);c.signature=n?t.armor():t;if(e.packets){c.signature=i.default.transformPair(e.packets.write(),async(e,r)=>{await Promise.all([i.default.pipe(c.signature,r),i.default.readToEnd(e).catch(()=>{})])})}}else{e=await e.sign(r,undefined,s,f,e.fromStream);if(n){c.data=e.armor()}else{c.message=e}}return convertStreams(c,t,n?["signature","data"]:[])}).catch(onError.bind(null,"Error signing cleartext message"))}function verify({message:e,publicKeys:r,streaming:n=e&&e.fromStream,signature:t=null,date:i=new Date}){checkCleartextOrMessage(e);r=toArray(r);if(y){return y.delegate("verify",{message:e,publicKeys:r,streaming:n,signature:t,date:i})}return Promise.resolve().then(async function(){const a={};a.signatures=t?await e.verifyDetached(t,r,i,n):await e.verify(r,i,n);a.data=e instanceof f.CleartextMessage?e.getText():e.getLiteralData();if(n)linkStreams(a,e);a.data=await convertStream(a.data,n);if(!n)await prepareSignatures(a.signatures);return a}).catch(onError.bind(null,"Error verifying cleartext signed message"))}function encryptSessionKey({data:e,algorithm:r,aeadAlgorithm:n,publicKeys:t,passwords:i,wildcard:a=false,date:f=new Date,toUserIds:c=[]}){checkBinary(e);checkString(r,"algorithm");t=toArray(t);i=toArray(i);c=toArray(c);if(y){return y.delegate("encryptSessionKey",{data:e,algorithm:r,aeadAlgorithm:n,publicKeys:t,passwords:i,wildcard:a,date:f,toUserIds:c})}return Promise.resolve().then(async function(){return{message:await s.encryptSessionKey(e,r,n,t,i,a,f,c)}}).catch(onError.bind(null,"Error encrypting session key"))}function decryptSessionKeys({message:e,privateKeys:r,passwords:n}){checkMessage(e);r=toArray(r);n=toArray(n);if(y){return y.delegate("decryptSessionKeys",{message:e,privateKeys:r,passwords:n})}return Promise.resolve().then(async function(){return e.decryptSessionKeys(r,n)}).catch(onError.bind(null,"Error decrypting session keys"))}function checkString(e,r){if(!p.default.isString(e)){throw new Error("Parameter ["+(r||"data")+"] must be of type String")}}function checkBinary(e,r){if(!p.default.isUint8Array(e)){throw new Error("Parameter ["+(r||"data")+"] must be of type Uint8Array")}}function checkMessage(e){if(!(e instanceof s.Message)){throw new Error("Parameter [message] needs to be of type Message")}}function checkCleartextOrMessage(e){if(!(e instanceof f.CleartextMessage)&&!(e instanceof s.Message)){throw new Error("Parameter [message] needs to be of type Message or CleartextMessage")}}function toArray(e){if(e&&!p.default.isArray(e)){e=[e]}return e}async function convertStream(e,r){if(!r&&p.default.isStream(e)){return i.default.readToEnd(e)}if(r&&!p.default.isStream(e)){e=new ReadableStream({start(r){r.enqueue(e);r.close()}})}if(r==="node"){e=i.default.webToNode(e)}return e}async function convertStreams(e,r,n=[]){if(Object.prototype.isPrototypeOf(e)&&!Uint8Array.prototype.isPrototypeOf(e)){await Promise.all(Object.entries(e).map(async([t,i])=>{if(p.default.isStream(i)||n.includes(t)){e[t]=await convertStream(i,r)}else{await convertStreams(e[t],r)}}))}return e}function linkStreams(e,r){e.data=i.default.transformPair(r.packets.stream,async(r,n)=>{await i.default.pipe(e.data,n)})}async function prepareSignatures(e){await Promise.all(e.map(async e=>{e.signature=await e.signature;try{e.valid=await e.verified}catch(r){e.valid=false;e.error=r;p.default.print_debug_error(r)}}))}function onError(e,r){p.default.print_debug_error(r);try{r.message=e+": "+r.message}catch(e){}throw r}function nativeAEAD(){return d.default.aead_protect&&(d.default.aead_mode===u.default.aead.eax||d.default.aead_mode===u.default.aead.experimental_gcm)&&p.default.getWebCrypto()}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./cleartext":92,"./config/config":93,"./enums":128,"./key":133,"./message":141,"./polyfills":165,"./util":173,"./worker/async_proxy":175,"web-stream-tools":90}],143:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.Trust=n.Signature=n.SecretSubkey=n.Userid=n.SecretKey=n.OnePassSignature=n.UserAttribute=n.PublicSubkey=n.Marker=n.SymmetricallyEncrypted=n.PublicKey=n.Literal=n.SymEncryptedSessionKey=n.PublicKeyEncryptedSessionKey=n.SymEncryptedAEADProtected=n.SymEncryptedIntegrityProtected=n.Compressed=undefined;var t=e("./compressed.js");Object.defineProperty(n,"Compressed",{enumerable:true,get:function get(){return _interopRequireDefault(t).default}});var i=e("./sym_encrypted_integrity_protected.js");Object.defineProperty(n,"SymEncryptedIntegrityProtected",{enumerable:true,get:function get(){return _interopRequireDefault(i).default}});var a=e("./sym_encrypted_aead_protected.js");Object.defineProperty(n,"SymEncryptedAEADProtected",{enumerable:true,get:function get(){return _interopRequireDefault(a).default}});var s=e("./public_key_encrypted_session_key.js");Object.defineProperty(n,"PublicKeyEncryptedSessionKey",{enumerable:true,get:function get(){return _interopRequireDefault(s).default}});var f=e("./sym_encrypted_session_key.js");Object.defineProperty(n,"SymEncryptedSessionKey",{enumerable:true,get:function get(){return _interopRequireDefault(f).default}});var c=e("./literal.js");Object.defineProperty(n,"Literal",{enumerable:true,get:function get(){return _interopRequireDefault(c).default}});var l=e("./public_key.js");Object.defineProperty(n,"PublicKey",{enumerable:true,get:function get(){return _interopRequireDefault(l).default}});var d=e("./symmetrically_encrypted.js");Object.defineProperty(n,"SymmetricallyEncrypted",{enumerable:true,get:function get(){return _interopRequireDefault(d).default}});var o=e("./marker.js");Object.defineProperty(n,"Marker",{enumerable:true,get:function get(){return _interopRequireDefault(o).default}});var u=e("./public_subkey.js");Object.defineProperty(n,"PublicSubkey",{enumerable:true,get:function get(){return _interopRequireDefault(u).default}});var h=e("./user_attribute.js");Object.defineProperty(n,"UserAttribute",{enumerable:true,get:function get(){return _interopRequireDefault(h).default}});var p=e("./one_pass_signature.js");Object.defineProperty(n,"OnePassSignature",{enumerable:true,get:function get(){return _interopRequireDefault(p).default}});var v=e("./secret_key.js");Object.defineProperty(n,"SecretKey",{enumerable:true,get:function get(){return _interopRequireDefault(v).default}});var b=e("./userid.js");Object.defineProperty(n,"Userid",{enumerable:true,get:function get(){return _interopRequireDefault(b).default}});var y=e("./secret_subkey.js");Object.defineProperty(n,"SecretSubkey",{enumerable:true,get:function get(){return _interopRequireDefault(y).default}});var g=e("./signature.js");Object.defineProperty(n,"Signature",{enumerable:true,get:function get(){return _interopRequireDefault(g).default}});var w=e("./trust.js");Object.defineProperty(n,"Trust",{enumerable:true,get:function get(){return _interopRequireDefault(w).default}});n.newPacketFromTag=newPacketFromTag;n.fromStructuredClone=fromStructuredClone;var m=e("../enums.js");var A=_interopRequireDefault(m);var E=e("./all_packets.js");var S=_interopRequireWildcard(E);function _interopRequireWildcard(e){if(e&&e.__esModule){return e}else{var r={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))r[n]=e[n]}}r.default=e;return r}}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function newPacketFromTag(e){return new(S[packetClassFromTagName(e)])}function fromStructuredClone(e){const r=A.default.read(A.default.packet,e.tag);const n=newPacketFromTag(r);Object.assign(n,e);if(n.postCloneTypeFix){n.postCloneTypeFix()}return n}function packetClassFromTagName(e){return e.substr(0,1).toUpperCase()+e.substr(1)}},{"../enums.js":128,"./all_packets.js":143,"./compressed.js":145,"./literal.js":147,"./marker.js":148,"./one_pass_signature.js":149,"./public_key.js":152,"./public_key_encrypted_session_key.js":153,"./public_subkey.js":154,"./secret_key.js":155,"./secret_subkey.js":156,"./signature.js":157,"./sym_encrypted_aead_protected.js":158,"./sym_encrypted_integrity_protected.js":159,"./sym_encrypted_session_key.js":160,"./symmetrically_encrypted.js":161,"./trust.js":162,"./user_attribute.js":163,"./userid.js":164}],144:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.clonePackets=clonePackets;n.parseClonedPackets=parseClonedPackets;var t=e("web-stream-tools");var i=_interopRequireDefault(t);var a=e("../key");var s=e("../message");var f=e("../cleartext");var c=e("../signature");var l=e("./packetlist");var d=_interopRequireDefault(l);var o=e("../type/keyid");var u=_interopRequireDefault(o);var h=e("../util");var p=_interopRequireDefault(h);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function clonePackets(e){if(e.publicKeys){e.publicKeys=e.publicKeys.map(e=>e.toPacketlist())}if(e.privateKeys){e.privateKeys=e.privateKeys.map(e=>e.toPacketlist())}if(e.publicKey){e.publicKey=e.publicKey.toPacketlist()}if(e.privateKey){e.privateKey=e.privateKey.toPacketlist()}if(e.key){e.key=e.key.toPacketlist()}if(e.message){if(e.message instanceof s.Message){e.message={packets:e.message.packets,fromStream:e.message.fromStream}}else if(e.message instanceof f.CleartextMessage){e.message={text:e.message.text,signature:e.message.signature.packets}}}if(e.signature&&e.signature instanceof c.Signature){e.signature=e.signature.packets}if(e.signatures){e.signatures.forEach(verificationObjectToClone)}return e}function verificationObjectToClone(e){const r=e.verified;e.verified=i.default.fromAsync(()=>r);if(e.signature instanceof Promise){const n=e.signature;e.signature=i.default.fromAsync(async()=>{const e=(await n).packets;try{await r}catch(e){}if(e&&e[0]){delete e[0].signature;delete e[0].hashed}return e})}else{e.signature=e.signature.packets}if(e.error){e.error=e.error.message}return e}function parseClonedPackets(e){if(e.publicKeys){e.publicKeys=e.publicKeys.map(packetlistCloneToKey)}if(e.privateKeys){e.privateKeys=e.privateKeys.map(packetlistCloneToKey)}if(e.publicKey){e.publicKey=packetlistCloneToKey(e.publicKey)}if(e.privateKey){e.privateKey=packetlistCloneToKey(e.privateKey)}if(e.key){e.key=packetlistCloneToKey(e.key)}if(e.message&&e.message.signature){e.message=packetlistCloneToCleartextMessage(e.message)}else if(e.message){e.message=packetlistCloneToMessage(e.message)}if(e.signatures){e.signatures=e.signatures.map(packetlistCloneToSignatures)}if(e.signature){e.signature=packetlistCloneToSignature(e.signature)}return e}function packetlistCloneToKey(e){const r=d.default.fromStructuredClone(e);return new a.Key(r)}function packetlistCloneToMessage(e){const r=d.default.fromStructuredClone(e.packets);const n=new s.Message(r);n.fromStream=e.fromStream;return n}function packetlistCloneToCleartextMessage(e){const r=d.default.fromStructuredClone(e.signature);return new f.CleartextMessage(e.text,new c.Signature(r))}function packetlistCloneToSignatures(e){e.keyid=u.default.fromClone(e.keyid);if(p.default.isStream(e.signature)){e.signature=i.default.readToEnd(e.signature,([e])=>new c.Signature(d.default.fromStructuredClone(e)));e.signature.catch(()=>{})}else{e.signature=new c.Signature(d.default.fromStructuredClone(e.signature))}e.verified=i.default.readToEnd(e.verified,([e])=>e);e.verified.catch(()=>{});if(e.error){e.error=new Error(e.error)}return e}function packetlistCloneToSignature(e){if(p.default.isString(e)||p.default.isStream(e)){return e}const r=d.default.fromStructuredClone(e);return new c.Signature(r)}},{"../cleartext":92,"../key":133,"../message":141,"../signature":166,"../type/keyid":169,"../util":173,"./packetlist":151,"web-stream-tools":90}],145:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("pako");var i=_interopRequireDefault(t);var a=e("seek-bzip");var s=_interopRequireDefault(a);var f=e("web-stream-tools");var c=_interopRequireDefault(f);var l=e("../config");var d=_interopRequireDefault(l);var o=e("../enums");var u=_interopRequireDefault(o);var h=e("../util");var p=_interopRequireDefault(h);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Compressed(){this.tag=u.default.packet.compressed;this.packets=null;this.algorithm="zip";this.compressed=null}Compressed.prototype.read=async function(e,r){await c.default.parse(e,async e=>{this.algorithm=u.default.read(u.default.compression,await e.readByte());this.compressed=e.remainder();await this.decompress(r)})};Compressed.prototype.write=function(){if(this.compressed===null){this.compress()}return p.default.concat([new Uint8Array([u.default.write(u.default.compression,this.algorithm)]),this.compressed])};Compressed.prototype.decompress=async function(e){if(!y[this.algorithm]){throw new Error(this.algorithm+" decompression not supported")}await this.packets.read(y[this.algorithm](this.compressed),e)};Compressed.prototype.compress=function(){if(!b[this.algorithm]){throw new Error(this.algorithm+" compression not supported")}this.compressed=b[this.algorithm](this.packets.write())};n.default=Compressed;const v=p.default.getNodeZlib();function uncompressed(e){return e}function node_zlib(e,r={}){return function(n){return c.default.nodeToWeb(c.default.webToNode(n).pipe(e(r)))}}function pako_zlib(e,r={}){return function(n){const t=new e(r);return c.default.transform(n,e=>{if(e.length){t.push(e,i.default.Z_SYNC_FLUSH);return t.result}},()=>{if(e===i.default.Deflate){t.push([],i.default.Z_FINISH);return t.result}})}}function bzip2(e){return function(r){return c.default.fromAsync(async()=>e(await c.default.readToEnd(r)))}}let b;let y;if(v){b={zip:node_zlib(v.createDeflateRaw,{level:d.default.deflate_level}),zlib:node_zlib(v.createDeflate,{level:d.default.deflate_level})};y={uncompressed:uncompressed,zip:node_zlib(v.createInflateRaw),zlib:node_zlib(v.createInflate),bzip2:bzip2(s.default.decode)}}else{b={zip:pako_zlib(i.default.Deflate,{raw:true,level:d.default.deflate_level}),zlib:pako_zlib(i.default.Deflate,{level:d.default.deflate_level})};y={uncompressed:uncompressed,zip:pako_zlib(i.default.Inflate,{raw:true}),zlib:pako_zlib(i.default.Inflate),bzip2:bzip2(s.default.decode)}}},{"../config":94,"../enums":128,"../util":173,pako:64,"seek-bzip":83,"web-stream-tools":90}],146:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("./all_packets");var i=_interopRequireWildcard(t);var a=e("./clone");var s=_interopRequireWildcard(a);var f=e("./packetlist");var c=_interopRequireDefault(f);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule){return e}else{var r={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))r[n]=e[n]}}r.default=e;return r}}const l={List:c.default,clone:s};Object.assign(l,i);n.default=l},{"./all_packets":143,"./clone":144,"./packetlist":151}],147:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("web-stream-tools");var i=_interopRequireDefault(t);var a=e("../enums");var s=_interopRequireDefault(a);var f=e("../util");var c=_interopRequireDefault(f);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Literal(e=new Date){this.tag=s.default.packet.literal;this.format="utf8";this.date=c.default.normalizeDate(e);this.text=null;this.data=null;this.filename="msg.txt"}Literal.prototype.setText=function(e,r="utf8"){this.format=r;this.text=e;this.data=null};Literal.prototype.getText=function(e=false){if(this.text===null||c.default.isStream(this.text)){this.text=c.default.decode_utf8(c.default.nativeEOL(this.getBytes(e)))}return this.text};Literal.prototype.setBytes=function(e,r){this.format=r;this.data=e;this.text=null};Literal.prototype.getBytes=function(e=false){if(this.data===null){this.data=c.default.canonicalizeEOL(c.default.encode_utf8(this.text))}if(e){return i.default.passiveClone(this.data)}return this.data};Literal.prototype.setFilename=function(e){this.filename=e};Literal.prototype.getFilename=function(){return this.filename};Literal.prototype.read=async function(e){await i.default.parse(e,async e=>{const r=s.default.read(s.default.literal,await e.readByte());const n=await e.readByte();this.filename=c.default.decode_utf8(await e.readBytes(n));this.date=c.default.readDate(await e.readBytes(4));const t=e.remainder();this.setBytes(t,r)})};Literal.prototype.writeHeader=function(){const e=c.default.encode_utf8(this.filename);const r=new Uint8Array([e.length]);const n=new Uint8Array([s.default.write(s.default.literal,this.format)]);const t=c.default.writeDate(this.date);return c.default.concatUint8Array([n,r,e,t])};Literal.prototype.write=function(){const e=this.writeHeader();const r=this.getBytes();return c.default.concat([e,r])};n.default=Literal},{"../enums":128,"../util":173,"web-stream-tools":90}],148:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("../enums");var i=_interopRequireDefault(t);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Marker(){this.tag=i.default.packet.marker}Marker.prototype.read=function(e){if(e[0]===80&&e[1]===71&&e[2]===80){return true}return false};n.default=Marker},{"../enums":128}],149:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("web-stream-tools");var i=_interopRequireDefault(t);var a=e("./signature");var s=_interopRequireDefault(a);var f=e("../type/keyid");var c=_interopRequireDefault(f);var l=e("../enums");var d=_interopRequireDefault(l);var o=e("../util");var u=_interopRequireDefault(o);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function OnePassSignature(){this.tag=d.default.packet.onePassSignature;this.version=null;this.signatureType=null;this.hashAlgorithm=null;this.publicKeyAlgorithm=null;this.issuerKeyId=null;this.flags=null}OnePassSignature.prototype.read=function(e){let r=0;this.version=e[r++];this.signatureType=e[r++];this.hashAlgorithm=e[r++];this.publicKeyAlgorithm=e[r++];this.issuerKeyId=new c.default;this.issuerKeyId.read(e.subarray(r,r+8));r+=8;this.flags=e[r++];return this};OnePassSignature.prototype.write=function(){const e=new Uint8Array([3,d.default.write(d.default.signature,this.signatureType),d.default.write(d.default.hash,this.hashAlgorithm),d.default.write(d.default.publicKey,this.publicKeyAlgorithm)]);const r=new Uint8Array([this.flags]);return u.default.concatUint8Array([e,this.issuerKeyId.write(),r])};OnePassSignature.prototype.postCloneTypeFix=function(){this.issuerKeyId=c.default.fromClone(this.issuerKeyId)};OnePassSignature.prototype.hash=s.default.prototype.hash;OnePassSignature.prototype.toHash=s.default.prototype.toHash;OnePassSignature.prototype.toSign=s.default.prototype.toSign;OnePassSignature.prototype.calculateTrailer=function(...e){return i.default.fromAsync(async()=>s.default.prototype.calculateTrailer.apply(await this.correspondingSig,e))};OnePassSignature.prototype.verify=async function(){const e=await this.correspondingSig;if(!e||e.tag!==d.default.packet.signature){throw new Error("Corresponding signature packet missing")}if(e.signatureType!==this.signatureType||e.hashAlgorithm!==this.hashAlgorithm||e.publicKeyAlgorithm!==this.publicKeyAlgorithm||!e.issuerKeyId.equals(this.issuerKeyId)){throw new Error("Corresponding signature packet does not match one-pass signature packet")}e.hashed=this.hashed;return e.verify.apply(e,arguments)};n.default=OnePassSignature},{"../enums":128,"../type/keyid":169,"../util":173,"./signature":157,"web-stream-tools":90}],150:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=function(){function sliceIterator(e,r){var n=[];var t=true;var i=false;var a=undefined;try{for(var s=e[Symbol.iterator](),f;!(t=(f=s.next()).done);t=true){n.push(f.value);if(r&&n.length===r)break}}catch(e){i=true;a=e}finally{try{if(!t&&s["return"])s["return"]()}finally{if(i)throw a}}return n}return function(e,r){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return sliceIterator(e,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var i=e("web-stream-tools");var a=_interopRequireDefault(i);var s=e("../enums");var f=_interopRequireDefault(s);var c=e("../util");var l=_interopRequireDefault(c);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}n.default={readSimpleLength:function readSimpleLength(e){let r=0;let n;const i=e[0];if(i<192){var a=t(e,1);r=a[0];n=1}else if(i<255){r=(e[0]-192<<8)+e[1]+192;n=2}else if(i===255){r=l.default.readNumber(e.subarray(1,1+4));n=5}return{len:r,offset:n}},writeSimpleLength:function writeSimpleLength(e){if(e<192){return new Uint8Array([e])}else if(e>191&&e<8384){return new Uint8Array([(e-192>>8)+192,e-192&255])}return l.default.concatUint8Array([new Uint8Array([255]),l.default.writeNumber(e,4)])},writePartialLength:function writePartialLength(e){if(e<0||e>30){throw new Error("Partial Length power must be between 1 and 30")}return new Uint8Array([224+e])},writeTag:function writeTag(e){return new Uint8Array([192|e])},writeHeader:function writeHeader(e,r){return l.default.concatUint8Array([this.writeTag(e),this.writeSimpleLength(r)])},supportsStreaming:function supportsStreaming(e){return[f.default.packet.literal,f.default.packet.compressed,f.default.packet.symmetricallyEncrypted,f.default.packet.symEncryptedIntegrityProtected,f.default.packet.symEncryptedAEADProtected].includes(e)},read:async function read(e,r,n){const t=a.default.getReader(e);let i;let s;try{const e=await t.peekBytes(2);if(!e||e.length<2||(e[0]&128)===0){throw new Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.")}const c=await t.readByte();let d=-1;let o=-1;let u;o=0;if((c&64)!==0){o=1}let h;if(o){d=c&63}else{d=(c&63)>>2;h=c&3}const p=this.supportsStreaming(d);let v=null;if(r&&p){const e=new TransformStream;i=a.default.getWriter(e.writable);v=e.readable;s=n({tag:d,packet:v})}else{v=[]}let b;do{if(!o){switch(h){case 0:u=await t.readByte();break;case 1:u=await t.readByte()<<8|await t.readByte();break;case 2:u=await t.readByte()<<24|await t.readByte()<<16|await t.readByte()<<8|await t.readByte();break;default:u=Infinity;break}}else{const e=await t.readByte();b=false;if(e<192){u=e}else if(e>=192&&e<224){u=(e-192<<8)+await t.readByte()+192}else if(e>223&&e<255){u=1<<(e&31);b=true;if(!p){throw new TypeError("This packet type does not support partial lengths.")}}else{u=await t.readByte()<<24|await t.readByte()<<16|await t.readByte()<<8|await t.readByte()}}if(u>0){let e=0;while(true){if(i)await i.ready;var f=await t.read();const r=f.done,n=f.value;if(r){if(u===Infinity)break;throw new Error("Unexpected end of packet")}const a=u===Infinity?n:n.subarray(0,u-e);if(i)await i.write(a);else v.push(a);e+=n.length;if(e>=u){t.unshift(n.subarray(u-e+n.length));break}}}}while(b);const y=await t.peekBytes(p?Infinity:2);if(i){await i.ready;await i.close()}else{v=l.default.concatUint8Array(v);await n({tag:d,packet:v})}return!y||!y.length}catch(e){if(i){await i.abort(e);return true}else{throw e}}finally{if(i){await s}t.releaseLock()}}}},{"../enums":128,"../util":173,"web-stream-tools":90}],151:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("web-stream-tools");var i=_interopRequireDefault(t);var a=e("./all_packets");var s=_interopRequireWildcard(a);var f=e("./packet");var c=_interopRequireDefault(f);var l=e("../config");var d=_interopRequireDefault(l);var o=e("../enums");var u=_interopRequireDefault(o);var h=e("../util");var p=_interopRequireDefault(h);function _interopRequireWildcard(e){if(e&&e.__esModule){return e}else{var r={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))r[n]=e[n]}}r.default=e;return r}}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function List(){this.length=0}List.prototype=[];List.prototype.read=async function(e,r){this.stream=i.default.transformPair(e,async(e,n)=>{const t=i.default.getWriter(n);try{while(true){await t.ready;const n=await c.default.read(e,r,async e=>{try{const n=u.default.read(u.default.packet,e.tag);const i=s.newPacketFromTag(n);i.packets=new List;i.fromStream=p.default.isStream(e.packet);await i.read(e.packet,r);await t.write(i)}catch(r){if(!d.default.tolerant||c.default.supportsStreaming(e.tag)){await t.abort(r)}p.default.print_debug_error(r)}});if(n){await t.ready;await t.close();return}}}catch(e){await t.abort(e)}});const n=i.default.getReader(this.stream);while(true){var t=await n.read();const e=t.done,r=t.value;if(!e){this.push(r)}else{this.stream=null}if(e||c.default.supportsStreaming(r.tag)){break}}n.releaseLock()};List.prototype.write=function(){const e=[];for(let r=0;r<this.length;r++){const n=this[r].write();if(p.default.isStream(n)&&c.default.supportsStreaming(this[r].tag)){let t=[];let a=0;const s=512;e.push(c.default.writeTag(this[r].tag));e.push(i.default.transform(n,e=>{t.push(e);a+=e.length;if(a>=s){const e=Math.min(Math.log(a)/Math.LN2|0,30);const r=2**e;const n=p.default.concat([c.default.writePartialLength(e)].concat(t));t=[n.subarray(1+r)];a=t[0].length;return n.subarray(0,1+r)}},()=>p.default.concat([c.default.writeSimpleLength(a)].concat(t))))}else{if(p.default.isStream(n)){let t=0;e.push(i.default.transform(i.default.clone(n),e=>{t+=e.length},()=>c.default.writeHeader(this[r].tag,t)))}else{e.push(c.default.writeHeader(this[r].tag,n.length))}e.push(n)}}return p.default.concat(e)};List.prototype.push=function(e){if(!e){return}e.packets=e.packets||new List;this[this.length]=e;this.length++};List.prototype.filterByTag=function(...e){const r=new List;const n=e=>r=>e===r;for(let t=0;t<this.length;t++){if(e.some(n(this[t].tag))){r.push(this[t])}}return r};List.prototype.findPacket=function(e){return this.find(r=>r.tag===e)};List.prototype.indexOfTag=function(...e){const r=[];const n=this;const t=e=>r=>e===r;for(let i=0;i<this.length;i++){if(e.some(t(n[i].tag))){r.push(i)}}return r};List.prototype.concat=function(e){if(e){for(let r=0;r<e.length;r++){this.push(e[r])}}return this};List.fromStructuredClone=function(e){const r=new List;for(let n=0;n<e.length;n++){const t=s.fromStructuredClone(e[n]);r.push(t);if(t.embeddedSignature){t.embeddedSignature=s.fromStructuredClone(t.embeddedSignature)}if(t.packets.length!==0){t.packets=this.fromStructuredClone(t.packets)}else{t.packets=new List}}if(e.stream){r.stream=i.default.transform(e.stream,e=>s.fromStructuredClone(e))}return r};n.default=List},{"../config":94,"../enums":128,"../util":173,"./all_packets":143,"./packet":150,"web-stream-tools":90}],152:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("asmcrypto.js/dist_es5/hash/sha1/sha1");var i=e("asmcrypto.js/dist_es5/hash/sha256/sha256");var a=e("../type/keyid");var s=_interopRequireDefault(a);var f=e("../type/mpi");var c=_interopRequireDefault(f);var l=e("../config");var d=_interopRequireDefault(l);var o=e("../crypto");var u=_interopRequireDefault(o);var h=e("../enums");var p=_interopRequireDefault(h);var v=e("../util");var b=_interopRequireDefault(v);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function PublicKey(e=new Date){this.tag=p.default.packet.publicKey;this.version=d.default.v5_keys?5:4;this.created=b.default.normalizeDate(e);this.algorithm=null;this.params=[];this.expirationTimeV3=0;this.fingerprint=null;this.keyid=null}PublicKey.prototype.read=function(e){let r=0;this.version=e[r++];if(this.version===4||this.version===5){this.created=b.default.readDate(e.subarray(r,r+4));r+=4;this.algorithm=p.default.read(p.default.publicKey,e[r++]);const n=p.default.write(p.default.publicKey,this.algorithm);if(this.version===5){r+=4}const t=u.default.getPubKeyParamTypes(n);this.params=u.default.constructParams(t);for(let n=0;n<t.length&&r<e.length;n++){r+=this.params[n].read(e.subarray(r,e.length));if(r>e.length){throw new Error("Error reading MPI @:"+r)}}return r}throw new Error("Version "+this.version+" of the key packet is unsupported.")};PublicKey.prototype.readPublicKey=PublicKey.prototype.read;PublicKey.prototype.write=function(){const e=[];e.push(new Uint8Array([this.version]));e.push(b.default.writeDate(this.created));const r=p.default.write(p.default.publicKey,this.algorithm);e.push(new Uint8Array([r]));const n=u.default.getPubKeyParamTypes(r).length;const t=b.default.concatUint8Array(this.params.slice(0,n).map(e=>e.write()));if(this.version===5){e.push(b.default.writeNumber(t.length,4))}e.push(t);return b.default.concatUint8Array(e)};PublicKey.prototype.writePublicKey=PublicKey.prototype.write;PublicKey.prototype.writeForHash=function(e){const r=this.writePublicKey();if(e===5){return b.default.concatUint8Array([new Uint8Array([154]),b.default.writeNumber(r.length,4),r])}return b.default.concatUint8Array([new Uint8Array([153]),b.default.writeNumber(r.length,2),r])};PublicKey.prototype.isDecrypted=function(){return null};PublicKey.prototype.getCreationTime=function(){return this.created};PublicKey.prototype.getKeyId=function(){if(this.keyid){return this.keyid}this.keyid=new s.default;if(this.version===5){this.keyid.read(b.default.hex_to_Uint8Array(this.getFingerprint()).subarray(0,8))}else if(this.version===4){this.keyid.read(b.default.hex_to_Uint8Array(this.getFingerprint()).subarray(12,20))}return this.keyid};PublicKey.prototype.getFingerprintBytes=function(){if(this.fingerprint){return this.fingerprint}const e=this.writeForHash(this.version);if(this.version===5){this.fingerprint=i.Sha256.bytes(e)}else if(this.version===4){this.fingerprint=t.Sha1.bytes(e)}return this.fingerprint};PublicKey.prototype.getFingerprint=function(){return b.default.Uint8Array_to_hex(this.getFingerprintBytes())};PublicKey.prototype.hasSameFingerprintAs=function(e){return this.version===e.version&&b.default.equalsUint8Array(this.writePublicKey(),e.writePublicKey())};PublicKey.prototype.getAlgorithmInfo=function(){const e={};e.algorithm=this.algorithm;if(this.params[0]instanceof c.default){e.rsaBits=this.params[0].byteLength()*8;e.bits=e.rsaBits}else{e.curve=this.params[0].getName()}return e};PublicKey.prototype.postCloneTypeFix=function(){const e=p.default.write(p.default.publicKey,this.algorithm);const r=u.default.getPubKeyParamTypes(e);for(let e=0;e<r.length;e++){const n=this.params[e];this.params[e]=r[e].fromClone(n)}if(this.keyid){this.keyid=s.default.fromClone(this.keyid)}};n.default=PublicKey},{"../config":94,"../crypto":109,"../enums":128,"../type/keyid":169,"../type/mpi":170,"../util":173,"asmcrypto.js/dist_es5/hash/sha1/sha1":11,"asmcrypto.js/dist_es5/hash/sha256/sha256":13}],153:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("../type/keyid");var i=_interopRequireDefault(t);var a=e("../crypto");var s=_interopRequireDefault(a);var f=e("../enums");var c=_interopRequireDefault(f);var l=e("../util");var d=_interopRequireDefault(l);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function PublicKeyEncryptedSessionKey(){this.tag=c.default.packet.publicKeyEncryptedSessionKey;this.version=3;this.publicKeyId=new i.default;this.publicKeyAlgorithm=null;this.sessionKey=null;this.sessionKeyAlgorithm=null;this.encrypted=[]}PublicKeyEncryptedSessionKey.prototype.read=function(e){this.version=e[0];this.publicKeyId.read(e.subarray(1,e.length));this.publicKeyAlgorithm=c.default.read(c.default.publicKey,e[9]);let r=10;const n=c.default.write(c.default.publicKey,this.publicKeyAlgorithm);const t=s.default.getEncSessionKeyParamTypes(n);this.encrypted=s.default.constructParams(t);for(let n=0;n<t.length;n++){r+=this.encrypted[n].read(e.subarray(r,e.length))}};PublicKeyEncryptedSessionKey.prototype.write=function(){const e=[new Uint8Array([this.version]),this.publicKeyId.write(),new Uint8Array([c.default.write(c.default.publicKey,this.publicKeyAlgorithm)])];for(let r=0;r<this.encrypted.length;r++){e.push(this.encrypted[r].write())}return d.default.concatUint8Array(e)};PublicKeyEncryptedSessionKey.prototype.encrypt=async function(e){let r=String.fromCharCode(c.default.write(c.default.symmetric,this.sessionKeyAlgorithm));r+=d.default.Uint8Array_to_str(this.sessionKey);r+=d.default.Uint8Array_to_str(d.default.write_checksum(this.sessionKey));const n=c.default.write(c.default.publicKey,this.publicKeyAlgorithm);this.encrypted=await s.default.publicKeyEncrypt(n,e.params,r,e.getFingerprintBytes());return true};PublicKeyEncryptedSessionKey.prototype.decrypt=async function(e){const r=c.default.write(c.default.publicKey,this.publicKeyAlgorithm);const n=c.default.write(c.default.publicKey,e.algorithm);if(r!==n){throw new Error("Decryption error")}const t=await s.default.publicKeyDecrypt(r,e.params,this.encrypted,e.getFingerprintBytes());const i=d.default.str_to_Uint8Array(t.substr(t.length-2));e=d.default.str_to_Uint8Array(t.substring(1,t.length-2));if(!d.default.equalsUint8Array(i,d.default.write_checksum(e))){throw new Error("Decryption error")}else{this.sessionKey=e;this.sessionKeyAlgorithm=c.default.read(c.default.symmetric,t.charCodeAt(0))}return true};PublicKeyEncryptedSessionKey.prototype.postCloneTypeFix=function(){this.publicKeyId=i.default.fromClone(this.publicKeyId);const e=c.default.write(c.default.publicKey,this.publicKeyAlgorithm);const r=s.default.getEncSessionKeyParamTypes(e);for(let e=0;e<this.encrypted.length;e++){this.encrypted[e]=r[e].fromClone(this.encrypted[e])}};n.default=PublicKeyEncryptedSessionKey},{"../crypto":109,"../enums":128,"../type/keyid":169,"../util":173}],154:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("./public_key");var i=_interopRequireDefault(t);var a=e("../enums");var s=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function PublicSubkey(){i.default.call(this);this.tag=s.default.packet.publicSubkey}PublicSubkey.prototype=new i.default;PublicSubkey.prototype.constructor=PublicSubkey;n.default=PublicSubkey},{"../enums":128,"./public_key":152}],155:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("./public_key");var i=_interopRequireDefault(t);var a=e("../type/keyid.js");var s=_interopRequireDefault(a);var f=e("../type/s2k");var c=_interopRequireDefault(f);var l=e("../crypto");var d=_interopRequireDefault(l);var o=e("../enums");var u=_interopRequireDefault(o);var h=e("../util");var p=_interopRequireDefault(h);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function SecretKey(e=new Date){i.default.call(this,e);this.tag=u.default.packet.secretKey;this.keyMaterial=null;this.isEncrypted=null;this.s2k_usage=0;this.s2k=null;this.symmetric=null;this.aead=null}SecretKey.prototype=new i.default;SecretKey.prototype.constructor=SecretKey;function parse_cleartext_params(e,r){const n=u.default.write(u.default.publicKey,r);const t=d.default.getPrivKeyParamTypes(n);const i=d.default.constructParams(t);let a=0;for(let r=0;r<t.length&&a<e.length;r++){a+=i[r].read(e.subarray(a,e.length));if(a>e.length){throw new Error("Error reading param @:"+a)}}return i}function write_cleartext_params(e,r){const n=[];const t=u.default.write(u.default.publicKey,r);const i=d.default.getPubKeyParamTypes(t).length;for(let r=i;r<e.length;r++){n.push(e[r].write())}return p.default.concatUint8Array(n)}SecretKey.prototype.read=function(e){let r=this.readPublicKey(e);this.s2k_usage=e[r++];if(this.version===5){r++}if(this.s2k_usage===255||this.s2k_usage===254||this.s2k_usage===253){this.symmetric=e[r++];this.symmetric=u.default.read(u.default.symmetric,this.symmetric);if(this.s2k_usage===253){this.aead=e[r++];this.aead=u.default.read(u.default.aead,this.aead)}this.s2k=new c.default;r+=this.s2k.read(e.subarray(r,e.length));if(this.s2k.type==="gnu-dummy"){return}}else if(this.s2k_usage){this.symmetric=this.s2k_usage;this.symmetric=u.default.read(u.default.symmetric,this.symmetric)}if(this.s2k_usage){this.iv=e.subarray(r,r+d.default.cipher[this.symmetric].blockSize);r+=this.iv.length}if(this.version===5){r+=4}this.keyMaterial=e.subarray(r);this.isEncrypted=!!this.s2k_usage;if(!this.isEncrypted){const e=this.keyMaterial.subarray(0,-2);if(!p.default.equalsUint8Array(p.default.write_checksum(e),this.keyMaterial.subarray(-2))){throw new Error("Key checksum mismatch")}const r=parse_cleartext_params(e,this.algorithm);this.params=this.params.concat(r)}};SecretKey.prototype.write=function(){const e=[this.writePublicKey()];e.push(new Uint8Array([this.s2k_usage]));const r=[];if(this.s2k_usage===255||this.s2k_usage===254||this.s2k_usage===253){r.push(u.default.write(u.default.symmetric,this.symmetric));if(this.s2k_usage===253){r.push(u.default.write(u.default.aead,this.aead))}r.push(...this.s2k.write())}if(this.s2k_usage&&this.s2k.type!=="gnu-dummy"){r.push(...this.iv)}if(this.version===5){e.push(new Uint8Array([r.length]))}e.push(new Uint8Array(r));if(!this.isDummy()){if(!this.s2k_usage){const e=write_cleartext_params(this.params,this.algorithm);this.keyMaterial=p.default.concatUint8Array([e,p.default.write_checksum(e)])}if(this.version===5){e.push(p.default.writeNumber(this.keyMaterial.length,4))}e.push(this.keyMaterial)}return p.default.concatUint8Array(e)};SecretKey.prototype.isDecrypted=function(){return this.isEncrypted===false};SecretKey.prototype.isDummy=function(){return!!(this.s2k&&this.s2k.type==="gnu-dummy")};SecretKey.prototype.makeDummy=function(){if(this.isDummy()){return}if(!this.isDecrypted()){throw new Error("Key is not decrypted")}this.clearPrivateParams();this.isEncrypted=false;this.s2k=new c.default;this.s2k.algorithm=0;this.s2k.c=0;this.s2k.type="gnu-dummy"};SecretKey.prototype.encrypt=async function(e){if(this.isDummy()){return false}if(!this.isDecrypted()){throw new Error("Key packet is already encrypted")}if(this.isDecrypted()&&!e){this.s2k_usage=0;return false}else if(!e){throw new Error("The key must be decrypted before removing passphrase protection.")}this.s2k=new c.default;this.s2k.salt=await d.default.random.getRandomBytes(8);const r=write_cleartext_params(this.params,this.algorithm);this.symmetric="aes256";const n=await produceEncryptionKey(this.s2k,e,this.symmetric);const t=d.default.cipher[this.symmetric].blockSize;this.iv=await d.default.random.getRandomBytes(t);if(this.version===5){this.s2k_usage=253;this.aead="eax";const e=d.default[this.aead];const t=await e(this.symmetric,n);this.keyMaterial=await t.encrypt(r,this.iv.subarray(0,e.ivLength),new Uint8Array)}else{this.s2k_usage=254;this.keyMaterial=await d.default.cfb.encrypt(this.symmetric,n,p.default.concatUint8Array([r,await d.default.hash.sha1(r)]),this.iv)}return true};async function produceEncryptionKey(e,r,n){return e.produce_key(r,d.default.cipher[n].keySize)}SecretKey.prototype.decrypt=async function(e){if(this.isDummy()){this.isEncrypted=false;return false}if(this.isDecrypted()){throw new Error("Key packet is already decrypted.")}let r;if(this.s2k_usage===254||this.s2k_usage===253){r=await produceEncryptionKey(this.s2k,e,this.symmetric)}else if(this.s2k_usage===255){throw new Error("Encrypted private key is authenticated using an insecure two-byte hash")}else{throw new Error("Private key is encrypted using an insecure S2K function: unsalted MD5")}let n;if(this.s2k_usage===253){const e=d.default[this.aead];try{const t=await e(this.symmetric,r);n=await t.decrypt(this.keyMaterial,this.iv.subarray(0,e.ivLength),new Uint8Array)}catch(e){if(e.message==="Authentication tag mismatch"){throw new Error("Incorrect key passphrase: "+e.message)}throw e}}else{const e=await d.default.cfb.decrypt(this.symmetric,r,this.keyMaterial,this.iv);n=e.subarray(0,-20);const t=await d.default.hash.sha1(n);if(!p.default.equalsUint8Array(t,e.subarray(-20))){throw new Error("Incorrect key passphrase")}}const t=parse_cleartext_params(n,this.algorithm);this.params=this.params.concat(t);this.isEncrypted=false;this.keyMaterial=null;this.s2k_usage=0;return true};SecretKey.prototype.generate=async function(e,r){const n=u.default.write(u.default.publicKey,this.algorithm);this.params=await d.default.generateParams(n,e,r);this.isEncrypted=false};SecretKey.prototype.validate=async function(){if(this.isDummy()){return}if(!this.isDecrypted()){throw new Error("Key is not decrypted")}const e=u.default.write(u.default.publicKey,this.algorithm);const r=await d.default.validateParams(e,this.params);if(!r){throw new Error("Key is invalid")}};SecretKey.prototype.clearPrivateParams=function(){if(this.s2k&&this.s2k.type==="gnu-dummy"){this.isEncrypted=true;return}const e=u.default.write(u.default.publicKey,this.algorithm);const r=d.default.getPubKeyParamTypes(e).length;this.params.slice(r).forEach(e=>{e.data.fill(0)});this.params.length=r;this.isEncrypted=true};SecretKey.prototype.postCloneTypeFix=function(){const e=u.default.write(u.default.publicKey,this.algorithm);const r=[].concat(d.default.getPubKeyParamTypes(e),d.default.getPrivKeyParamTypes(e));for(let e=0;e<this.params.length;e++){const n=this.params[e];this.params[e]=r[e].fromClone(n)}if(this.keyid){this.keyid=s.default.fromClone(this.keyid)}if(this.s2k){this.s2k=c.default.fromClone(this.s2k)}};n.default=SecretKey},{"../crypto":109,"../enums":128,"../type/keyid.js":169,"../type/s2k":172,"../util":173,"./public_key":152}],156:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("./secret_key");var i=_interopRequireDefault(t);var a=e("../enums");var s=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function SecretSubkey(e=new Date){i.default.call(this,e);this.tag=s.default.packet.secretSubkey}SecretSubkey.prototype=new i.default;SecretSubkey.prototype.constructor=SecretSubkey;n.default=SecretSubkey},{"../enums":128,"./secret_key":155}],157:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("web-stream-tools");var i=_interopRequireDefault(t);var a=e("./packet");var s=_interopRequireDefault(a);var f=e("../type/keyid.js");var c=_interopRequireDefault(f);var l=e("../type/mpi.js");var d=_interopRequireDefault(l);var o=e("../crypto");var u=_interopRequireDefault(o);var h=e("../enums");var p=_interopRequireDefault(h);var v=e("../util");var b=_interopRequireDefault(v);var y=e("../config");var g=_interopRequireDefault(y);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Signature(e=new Date){this.tag=p.default.packet.signature;this.version=4;this.signatureType=null;this.hashAlgorithm=null;this.publicKeyAlgorithm=null;this.signatureData=null;this.unhashedSubpackets=[];this.signedHashValue=null;this.created=b.default.normalizeDate(e);this.signatureExpirationTime=null;this.signatureNeverExpires=true;this.exportable=null;this.trustLevel=null;this.trustAmount=null;this.regularExpression=null;this.revocable=null;this.keyExpirationTime=null;this.keyNeverExpires=null;this.preferredSymmetricAlgorithms=null;this.revocationKeyClass=null;this.revocationKeyAlgorithm=null;this.revocationKeyFingerprint=null;this.issuerKeyId=new c.default;this.rawNotations=[];this.notations={};this.preferredHashAlgorithms=null;this.preferredCompressionAlgorithms=null;this.keyServerPreferences=null;this.preferredKeyServer=null;this.isPrimaryUserID=null;this.policyURI=null;this.keyFlags=null;this.signersUserId=null;this.reasonForRevocationFlag=null;this.reasonForRevocationString=null;this.features=null;this.signatureTargetPublicKeyAlgorithm=null;this.signatureTargetHashAlgorithm=null;this.signatureTargetHash=null;this.embeddedSignature=null;this.issuerKeyVersion=null;this.issuerFingerprint=null;this.preferredAeadAlgorithms=null;this.verified=null;this.revoked=null}Signature.prototype.read=function(e){let r=0;this.version=e[r++];if(this.version!==4&&this.version!==5){throw new Error("Version "+this.version+" of the signature is unsupported.")}this.signatureType=e[r++];this.publicKeyAlgorithm=e[r++];this.hashAlgorithm=e[r++];r+=this.read_sub_packets(e.subarray(r,e.length),true);this.signatureData=e.subarray(0,r);r+=this.read_sub_packets(e.subarray(r,e.length),false);this.signedHashValue=e.subarray(r,r+2);r+=2;this.signature=e.subarray(r,e.length)};Signature.prototype.write=function(){const e=[];e.push(this.signatureData);e.push(this.write_unhashed_sub_packets());e.push(this.signedHashValue);e.push(i.default.clone(this.signature));return b.default.concat(e)};Signature.prototype.sign=async function(e,r,n=false,t=false){const a=p.default.write(p.default.signature,this.signatureType);const s=p.default.write(p.default.publicKey,this.publicKeyAlgorithm);const f=p.default.write(p.default.hash,this.hashAlgorithm);if(e.version===5){this.version=5}const c=[new Uint8Array([this.version,a,s,f])];this.issuerKeyVersion=e.version;this.issuerFingerprint=e.getFingerprintBytes();this.issuerKeyId=e.getKeyId();c.push(this.write_hashed_sub_packets());this.signatureData=b.default.concat(c);const l=this.toHash(a,r,n);const d=await this.hash(a,r,l,n);this.signedHashValue=i.default.slice(i.default.clone(d),0,2);const o=e.params;const h=async()=>u.default.signature.sign(s,f,o,l,await i.default.readToEnd(d));if(t){this.signature=i.default.fromAsync(h)}else{this.signature=await h();this.verified=true}return true};Signature.prototype.write_hashed_sub_packets=function(){const e=p.default.signatureSubpacket;const r=[];let n;if(this.created!==null){r.push(write_sub_packet(e.signature_creation_time,b.default.writeDate(this.created)))}if(this.signatureExpirationTime!==null){r.push(write_sub_packet(e.signature_expiration_time,b.default.writeNumber(this.signatureExpirationTime,4)))}if(this.exportable!==null){r.push(write_sub_packet(e.exportable_certification,new Uint8Array([this.exportable?1:0])))}if(this.trustLevel!==null){n=new Uint8Array([this.trustLevel,this.trustAmount]);r.push(write_sub_packet(e.trust_signature,n))}if(this.regularExpression!==null){r.push(write_sub_packet(e.regular_expression,this.regularExpression))}if(this.revocable!==null){r.push(write_sub_packet(e.revocable,new Uint8Array([this.revocable?1:0])))}if(this.keyExpirationTime!==null){r.push(write_sub_packet(e.key_expiration_time,b.default.writeNumber(this.keyExpirationTime,4)))}if(this.preferredSymmetricAlgorithms!==null){n=b.default.str_to_Uint8Array(b.default.Uint8Array_to_str(this.preferredSymmetricAlgorithms));r.push(write_sub_packet(e.preferred_symmetric_algorithms,n))}if(this.revocationKeyClass!==null){n=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]);n=b.default.concat([n,this.revocationKeyFingerprint]);r.push(write_sub_packet(e.revocation_key,n))}this.rawNotations.forEach(([{name:t,value:i,humanReadable:a}])=>{n=[new Uint8Array([a?128:0,0,0,0])];n.push(b.default.writeNumber(t.length,2));n.push(b.default.writeNumber(i.length,2));n.push(b.default.str_to_Uint8Array(t));n.push(i);n=b.default.concat(n);r.push(write_sub_packet(e.notation_data,n))});if(this.preferredHashAlgorithms!==null){n=b.default.str_to_Uint8Array(b.default.Uint8Array_to_str(this.preferredHashAlgorithms));r.push(write_sub_packet(e.preferred_hash_algorithms,n))}if(this.preferredCompressionAlgorithms!==null){n=b.default.str_to_Uint8Array(b.default.Uint8Array_to_str(this.preferredCompressionAlgorithms));r.push(write_sub_packet(e.preferred_compression_algorithms,n))}if(this.keyServerPreferences!==null){n=b.default.str_to_Uint8Array(b.default.Uint8Array_to_str(this.keyServerPreferences));r.push(write_sub_packet(e.key_server_preferences,n))}if(this.preferredKeyServer!==null){r.push(write_sub_packet(e.preferred_key_server,b.default.str_to_Uint8Array(this.preferredKeyServer)))}if(this.isPrimaryUserID!==null){r.push(write_sub_packet(e.primary_user_id,new Uint8Array([this.isPrimaryUserID?1:0])))}if(this.policyURI!==null){r.push(write_sub_packet(e.policy_uri,b.default.str_to_Uint8Array(this.policyURI)))}if(this.keyFlags!==null){n=b.default.str_to_Uint8Array(b.default.Uint8Array_to_str(this.keyFlags));r.push(write_sub_packet(e.key_flags,n))}if(this.signersUserId!==null){r.push(write_sub_packet(e.signers_user_id,b.default.str_to_Uint8Array(this.signersUserId)))}if(this.reasonForRevocationFlag!==null){n=b.default.str_to_Uint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString);r.push(write_sub_packet(e.reason_for_revocation,n))}if(this.features!==null){n=b.default.str_to_Uint8Array(b.default.Uint8Array_to_str(this.features));r.push(write_sub_packet(e.features,n))}if(this.signatureTargetPublicKeyAlgorithm!==null){n=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])];n.push(b.default.str_to_Uint8Array(this.signatureTargetHash));n=b.default.concat(n);r.push(write_sub_packet(e.signature_target,n))}if(this.preferredAeadAlgorithms!==null){n=b.default.str_to_Uint8Array(b.default.Uint8Array_to_str(this.preferredAeadAlgorithms));r.push(write_sub_packet(e.preferred_aead_algorithms,n))}const t=b.default.concat(r);const i=b.default.writeNumber(t.length,2);return b.default.concat([i,t])};Signature.prototype.write_unhashed_sub_packets=function(){const e=p.default.signatureSubpacket;const r=[];let n;if(!this.issuerKeyId.isNull()&&this.issuerKeyVersion!==5){r.push(write_sub_packet(e.issuer,this.issuerKeyId.write()))}if(this.embeddedSignature!==null){r.push(write_sub_packet(e.embedded_signature,this.embeddedSignature.write()))}if(this.issuerFingerprint!==null){n=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint];n=b.default.concat(n);r.push(write_sub_packet(e.issuer_fingerprint,n))}this.unhashedSubpackets.forEach(e=>{r.push(s.default.writeSimpleLength(e.length));r.push(e)});const t=b.default.concat(r);const i=b.default.writeNumber(t.length,2);return b.default.concat([i,t])};function write_sub_packet(e,r){const n=[];n.push(s.default.writeSimpleLength(r.length+1));n.push(new Uint8Array([e]));n.push(r);return b.default.concat(n)}Signature.prototype.read_sub_packet=function(e,r=true){let n=0;const t=(e,r)=>{this[e]=[];for(let n=0;n<r.length;n++){this[e].push(r[n])}};const i=e[n]&128;const a=e[n]&127;if(!r&&![p.default.signatureSubpacket.issuer,p.default.signatureSubpacket.issuer_fingerprint,p.default.signatureSubpacket.embedded_signature].includes(a)){this.unhashedSubpackets.push(e.subarray(n,e.length));return}n++;switch(a){case 2:this.created=b.default.readDate(e.subarray(n,e.length));break;case 3:{const r=b.default.readNumber(e.subarray(n,e.length));this.signatureNeverExpires=r===0;this.signatureExpirationTime=r;break}case 4:this.exportable=e[n++]===1;break;case 5:this.trustLevel=e[n++];this.trustAmount=e[n++];break;case 6:this.regularExpression=e[n];break;case 7:this.revocable=e[n++]===1;break;case 9:{const r=b.default.readNumber(e.subarray(n,e.length));this.keyExpirationTime=r;this.keyNeverExpires=r===0;break}case 11:t("preferredSymmetricAlgorithms",e.subarray(n,e.length));break;case 12:this.revocationKeyClass=e[n++];this.revocationKeyAlgorithm=e[n++];this.revocationKeyFingerprint=e.subarray(n,n+20);break;case 16:this.issuerKeyId.read(e.subarray(n,e.length));break;case 20:{const r=!!(e[n]&128);n+=4;const t=b.default.readNumber(e.subarray(n,n+2));n+=2;const a=b.default.readNumber(e.subarray(n,n+2));n+=2;const s=b.default.Uint8Array_to_str(e.subarray(n,n+t));const f=e.subarray(n+t,n+t+a);this.rawNotations.push({name:s,humanReadable:r,value:f});if(r){this.notations[s]=b.default.Uint8Array_to_str(f)}if(i&&g.default.known_notations.indexOf(s)===-1){throw new Error("Unknown critical notation: "+s)}break}case 21:t("preferredHashAlgorithms",e.subarray(n,e.length));break;case 22:t("preferredCompressionAlgorithms",e.subarray(n,e.length));break;case 23:t("keyServerPreferences",e.subarray(n,e.length));break;case 24:this.preferredKeyServer=b.default.Uint8Array_to_str(e.subarray(n,e.length));break;case 25:this.isPrimaryUserID=e[n++]!==0;break;case 26:this.policyURI=b.default.Uint8Array_to_str(e.subarray(n,e.length));break;case 27:t("keyFlags",e.subarray(n,e.length));break;case 28:this.signersUserId=b.default.Uint8Array_to_str(e.subarray(n,e.length));break;case 29:this.reasonForRevocationFlag=e[n++];this.reasonForRevocationString=b.default.Uint8Array_to_str(e.subarray(n,e.length));break;case 30:t("features",e.subarray(n,e.length));break;case 31:{this.signatureTargetPublicKeyAlgorithm=e[n++];this.signatureTargetHashAlgorithm=e[n++];const r=u.default.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=b.default.Uint8Array_to_str(e.subarray(n,n+r));break}case 32:this.embeddedSignature=new Signature;this.embeddedSignature.read(e.subarray(n,e.length));break;case 33:this.issuerKeyVersion=e[n++];this.issuerFingerprint=e.subarray(n,e.length);if(this.issuerKeyVersion===5){this.issuerKeyId.read(this.issuerFingerprint)}else{this.issuerKeyId.read(this.issuerFingerprint.subarray(-8))}break;case 34:t.call(this,"preferredAeadAlgorithms",e.subarray(n,e.length));break;default:{const e=new Error("Unknown signature subpacket type "+a+" @:"+n);if(i){throw e}else{b.default.print_debug(e)}}}};Signature.prototype.read_sub_packets=function(e,r=true){const n=b.default.readNumber(e.subarray(0,2));let t=2;while(t<2+n){const n=s.default.readSimpleLength(e.subarray(t,e.length));t+=n.offset;this.read_sub_packet(e.subarray(t,t+n.len),r);t+=n.len}return t};Signature.prototype.toSign=function(e,r){const n=p.default.signature;switch(e){case n.binary:if(r.text!==null){return b.default.encode_utf8(r.getText(true))}return r.getBytes(true);case n.text:{const e=r.getBytes(true);return b.default.canonicalizeEOL(e)}case n.standalone:return new Uint8Array(0);case n.cert_generic:case n.cert_persona:case n.cert_casual:case n.cert_positive:case n.cert_revocation:{let e;let t;if(r.userId){t=180;e=r.userId}else if(r.userAttribute){t=209;e=r.userAttribute}else{throw new Error("Either a userId or userAttribute packet needs to be "+"supplied for certification.")}const i=e.write();return b.default.concat([this.toSign(n.key,r),new Uint8Array([t]),b.default.writeNumber(i.length,4),i])}case n.subkey_binding:case n.subkey_revocation:case n.key_binding:return b.default.concat([this.toSign(n.key,r),this.toSign(n.key,{key:r.bind})]);case n.key:if(r.key===undefined){throw new Error("Key packet is required for this signature.")}return r.key.writeForHash(this.version);case n.key_revocation:return this.toSign(n.key,r);case n.timestamp:return new Uint8Array(0);case n.third_party:throw new Error("Not implemented");default:throw new Error("Unknown signature type.")}};Signature.prototype.calculateTrailer=function(e,r){let n=0;return i.default.transform(i.default.clone(this.signatureData),e=>{n+=e.length},()=>{const t=[];if(this.version===5&&(this.signatureType===p.default.signature.binary||this.signatureType===p.default.signature.text)){if(r){t.push(new Uint8Array(6))}else{t.push(e.writeHeader())}}t.push(new Uint8Array([this.version,255]));if(this.version===5){t.push(new Uint8Array(4))}t.push(b.default.writeNumber(n,4));return b.default.concat(t)})};Signature.prototype.toHash=function(e,r,n=false){const t=this.toSign(e,r);return b.default.concat([t,this.signatureData,this.calculateTrailer(r,n)])};Signature.prototype.hash=async function(e,r,n,t=false,a=true){const s=p.default.write(p.default.hash,this.hashAlgorithm);if(!n)n=this.toHash(e,r,t);if(!a&&b.default.isStream(n)){return i.default.fromAsync(async()=>this.hash(e,r,await i.default.readToEnd(n),t))}return u.default.hash.digest(s,n)};Signature.prototype.verify=async function(e,r,n,t=false,a=false){const s=p.default.write(p.default.publicKey,this.publicKeyAlgorithm);const f=p.default.write(p.default.hash,this.hashAlgorithm);if(s!==p.default.write(p.default.publicKey,e.algorithm)){throw new Error("Public key algorithm used to sign signature does not match issuer key algorithm.")}let c;let l;if(this.hashed){l=await this.hashed}else{c=this.toHash(r,n,t);if(!a)c=await i.default.readToEnd(c);l=await this.hash(r,n,c)}l=await i.default.readToEnd(l);if(this.signedHashValue[0]!==l[0]||this.signedHashValue[1]!==l[1]){throw new Error("Message digest did not match")}let o=0;if(s>0&&s<4){o=1}else if(s===p.default.publicKey.dsa||s===p.default.publicKey.ecdsa||s===p.default.publicKey.eddsa){o=2}const h=s===p.default.publicKey.eddsa?"le":"be";const v=[];let b=0;this.signature=await i.default.readToEnd(this.signature);for(let e=0;e<o;e++){v[e]=new d.default;b+=v[e].read(this.signature.subarray(b,this.signature.length),h)}const y=await u.default.signature.verify(s,f,v,e.params,c,l);if(!y){throw new Error("Signature verification failed")}if(g.default.reject_hash_algorithms.has(f)){throw new Error("Insecure hash algorithm: "+p.default.read(p.default.hash,f).toUpperCase())}if(g.default.reject_message_hash_algorithms.has(f)&&[p.default.signature.binary,p.default.signature.text].includes(this.signatureType)){throw new Error("Insecure message hash algorithm: "+p.default.read(p.default.hash,f).toUpperCase())}if(this.revocationKeyClass!==null){throw new Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")}this.verified=true;return true};Signature.prototype.isExpired=function(e=new Date){const r=b.default.normalizeDate(e);if(r!==null){const e=this.getExpirationTime();return!(this.created<=r&&r<=e)}return false};Signature.prototype.getExpirationTime=function(){return!this.signatureNeverExpires?new Date(this.created.getTime()+this.signatureExpirationTime*1e3):Infinity};Signature.prototype.postCloneTypeFix=function(){this.issuerKeyId=c.default.fromClone(this.issuerKeyId)};n.default=Signature},{"../config":94,"../crypto":109,"../enums":128,"../type/keyid.js":169,"../type/mpi.js":170,"../util":173,"./packet":150,"web-stream-tools":90}],158:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("web-stream-tools");var i=_interopRequireDefault(t);var a=e("../config");var s=_interopRequireDefault(a);var f=e("../crypto");var c=_interopRequireDefault(f);var l=e("../enums");var d=_interopRequireDefault(l);var o=e("../util");var u=_interopRequireDefault(o);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const h=1;function SymEncryptedAEADProtected(){this.tag=d.default.packet.symEncryptedAEADProtected;this.version=h;this.cipherAlgo=null;this.aeadAlgorithm="eax";this.aeadAlgo=null;this.chunkSizeByte=null;this.iv=null;this.encrypted=null;this.packets=null}n.default=SymEncryptedAEADProtected;SymEncryptedAEADProtected.prototype.read=async function(e){await i.default.parse(e,async e=>{if(await e.readByte()!==h){throw new Error("Invalid packet version.")}this.cipherAlgo=await e.readByte();this.aeadAlgo=await e.readByte();this.chunkSizeByte=await e.readByte();const r=c.default[d.default.read(d.default.aead,this.aeadAlgo)];this.iv=await e.readBytes(r.ivLength);this.encrypted=e.remainder()})};SymEncryptedAEADProtected.prototype.write=function(){return u.default.concat([new Uint8Array([this.version,this.cipherAlgo,this.aeadAlgo,this.chunkSizeByte]),this.iv,this.encrypted])};SymEncryptedAEADProtected.prototype.decrypt=async function(e,r,n){await this.packets.read(await this.crypt("decrypt",r,i.default.clone(this.encrypted),n),n);return true};SymEncryptedAEADProtected.prototype.encrypt=async function(e,r,n){this.cipherAlgo=d.default.write(d.default.symmetric,e);this.aeadAlgo=d.default.write(d.default.aead,this.aeadAlgorithm);const t=c.default[d.default.read(d.default.aead,this.aeadAlgo)];this.iv=await c.default.random.getRandomBytes(t.ivLength);this.chunkSizeByte=s.default.aead_chunk_size_byte;const i=this.packets.write();this.encrypted=await this.crypt("encrypt",r,i,n)};SymEncryptedAEADProtected.prototype.crypt=async function(e,r,n,t){const a=d.default.read(d.default.symmetric,this.cipherAlgo);const s=c.default[d.default.read(d.default.aead,this.aeadAlgo)];const f=await s(a,r);const l=e==="decrypt"?s.tagLength:0;const o=e==="encrypt"?s.tagLength:0;const h=2**(this.chunkSizeByte+6)+l;const p=new ArrayBuffer(21);const v=new Uint8Array(p,0,13);const b=new Uint8Array(p);const y=new DataView(p);const g=new Uint8Array(p,5,8);v.set([192|this.tag,this.version,this.cipherAlgo,this.aeadAlgo,this.chunkSizeByte],0);let w=0;let m=Promise.resolve();let A=0;let E=0;const S=this.iv;return i.default.transformPair(n,async(r,n)=>{const a=i.default.getReader(r);const c=new TransformStream({},{highWaterMark:t?u.default.getHardwareConcurrency()*2**(this.chunkSizeByte+6):Infinity,size:e=>e.length});i.default.pipe(c.readable,n);const d=i.default.getWriter(c.writable);try{while(true){let r=await a.readBytes(h+l)||new Uint8Array;const n=r.subarray(r.length-l);r=r.subarray(0,r.length-l);let t;let i;if(!w||r.length){a.unshift(n);t=f[e](r,s.getNonce(S,g),v);E+=r.length-l+o}else{y.setInt32(13+4,A);t=f[e](n,s.getNonce(S,g),b);E+=o;i=true}A+=r.length-l;m=m.then(()=>t).then(async e=>{await d.ready;await d.write(e);E-=e.length}).catch(e=>d.abort(e));if(i||E>d.desiredSize){await m}if(!i){y.setInt32(5+4,++w)}else{await d.close();break}}}catch(e){await d.abort(e)}})}},{"../config":94,"../crypto":109,"../enums":128,"../util":173,"web-stream-tools":90}],159:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("web-stream-tools");var i=_interopRequireDefault(t);var a=e("../config");var s=_interopRequireDefault(a);var f=e("../crypto");var c=_interopRequireDefault(f);var l=e("../enums");var d=_interopRequireDefault(l);var o=e("../util");var u=_interopRequireDefault(o);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const h=1;function SymEncryptedIntegrityProtected(){this.tag=d.default.packet.symEncryptedIntegrityProtected;this.version=h;this.encrypted=null;this.modification=false;this.packets=null}SymEncryptedIntegrityProtected.prototype.read=async function(e){await i.default.parse(e,async e=>{if(await e.readByte()!==h){throw new Error("Invalid packet version.")}this.encrypted=e.remainder()})};SymEncryptedIntegrityProtected.prototype.write=function(){return u.default.concat([new Uint8Array([h]),this.encrypted])};SymEncryptedIntegrityProtected.prototype.encrypt=async function(e,r,n){let t=this.packets.write();if(!n)t=await i.default.readToEnd(t);const a=await c.default.getPrefixRandom(e);const s=new Uint8Array([211,20]);const f=u.default.concat([a,t,s]);const l=await c.default.hash.sha1(i.default.passiveClone(f));const d=u.default.concat([f,l]);this.encrypted=await c.default.cfb.encrypt(e,r,d,new Uint8Array(c.default.cipher[e].blockSize));return true};SymEncryptedIntegrityProtected.prototype.decrypt=async function(e,r,n){let t=i.default.clone(this.encrypted);if(!n)t=await i.default.readToEnd(t);const a=await c.default.cfb.decrypt(e,r,t,new Uint8Array(c.default.cipher[e].blockSize));const f=i.default.slice(i.default.passiveClone(a),-20);const l=i.default.slice(a,0,-20);const d=Promise.all([i.default.readToEnd(await c.default.hash.sha1(i.default.passiveClone(l))),i.default.readToEnd(f)]).then(([e,r])=>{if(!u.default.equalsUint8Array(e,r)){throw new Error("Modification detected.")}return new Uint8Array});const o=i.default.slice(l,c.default.cipher[e].blockSize+2);let h=i.default.slice(o,0,-2);h=i.default.concat([h,i.default.fromAsync(()=>d)]);if(!u.default.isStream(t)||!s.default.allow_unauthenticated_stream){h=await i.default.readToEnd(h)}await this.packets.read(h,n);return true};n.default=SymEncryptedIntegrityProtected},{"../config":94,"../crypto":109,"../enums":128,"../util":173,"web-stream-tools":90}],160:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("../type/s2k");var i=_interopRequireDefault(t);var a=e("../config");var s=_interopRequireDefault(a);var f=e("../crypto");var c=_interopRequireDefault(f);var l=e("../enums");var d=_interopRequireDefault(l);var o=e("../util");var u=_interopRequireDefault(o);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function SymEncryptedSessionKey(){this.tag=d.default.packet.symEncryptedSessionKey;this.version=s.default.aead_protect?5:4;this.sessionKey=null;this.sessionKeyEncryptionAlgorithm=null;this.sessionKeyAlgorithm="aes256";this.aeadAlgorithm=d.default.read(d.default.aead,s.default.aead_mode);this.encrypted=null;this.s2k=null;this.iv=null}SymEncryptedSessionKey.prototype.read=function(e){let r=0;this.version=e[r++];const n=d.default.read(d.default.symmetric,e[r++]);if(this.version===5){this.aeadAlgorithm=d.default.read(d.default.aead,e[r++])}this.s2k=new i.default;r+=this.s2k.read(e.subarray(r,e.length));if(this.version===5){const n=c.default[this.aeadAlgorithm];this.iv=e.subarray(r,r+=n.ivLength)}if(this.version===5||r<e.length){this.encrypted=e.subarray(r,e.length);this.sessionKeyEncryptionAlgorithm=n}else{this.sessionKeyAlgorithm=n}};SymEncryptedSessionKey.prototype.write=function(){const e=this.encrypted===null?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm;let r;if(this.version===5){r=u.default.concatUint8Array([new Uint8Array([this.version,d.default.write(d.default.symmetric,e),d.default.write(d.default.aead,this.aeadAlgorithm)]),this.s2k.write(),this.iv,this.encrypted])}else{r=u.default.concatUint8Array([new Uint8Array([this.version,d.default.write(d.default.symmetric,e)]),this.s2k.write()]);if(this.encrypted!==null){r=u.default.concatUint8Array([r,this.encrypted])}}return r};SymEncryptedSessionKey.prototype.decrypt=async function(e){const r=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;const n=c.default.cipher[r].keySize;const t=await this.s2k.produce_key(e,n);if(this.version===5){const e=c.default[this.aeadAlgorithm];const n=new Uint8Array([192|this.tag,this.version,d.default.write(d.default.symmetric,this.sessionKeyEncryptionAlgorithm),d.default.write(d.default.aead,this.aeadAlgorithm)]);const i=await e(r,t);this.sessionKey=await i.decrypt(this.encrypted,this.iv,n)}else if(this.encrypted!==null){const e=await c.default.cfb.decrypt(r,t,this.encrypted,new Uint8Array(c.default.cipher[r].blockSize));this.sessionKeyAlgorithm=d.default.read(d.default.symmetric,e[0]);this.sessionKey=e.subarray(1,e.length)}else{this.sessionKey=t}return true};SymEncryptedSessionKey.prototype.encrypt=async function(e){const r=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=r;this.s2k=new i.default;this.s2k.salt=await c.default.random.getRandomBytes(8);const n=c.default.cipher[r].keySize;const t=await this.s2k.produce_key(e,n);if(this.sessionKey===null){this.sessionKey=await c.default.generateSessionKey(this.sessionKeyAlgorithm)}if(this.version===5){const e=c.default[this.aeadAlgorithm];this.iv=await c.default.random.getRandomBytes(e.ivLength);const n=new Uint8Array([192|this.tag,this.version,d.default.write(d.default.symmetric,this.sessionKeyEncryptionAlgorithm),d.default.write(d.default.aead,this.aeadAlgorithm)]);const i=await e(r,t);this.encrypted=await i.encrypt(this.sessionKey,this.iv,n)}else{const e=new Uint8Array([d.default.write(d.default.symmetric,this.sessionKeyAlgorithm)]);const n=u.default.concatUint8Array([e,this.sessionKey]);this.encrypted=await c.default.cfb.encrypt(r,t,n,new Uint8Array(c.default.cipher[r].blockSize))}return true};SymEncryptedSessionKey.prototype.postCloneTypeFix=function(){this.s2k=i.default.fromClone(this.s2k)};n.default=SymEncryptedSessionKey},{"../config":94,"../crypto":109,"../enums":128,"../type/s2k":172,"../util":173}],161:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("web-stream-tools");var i=_interopRequireDefault(t);var a=e("../config");var s=_interopRequireDefault(a);var f=e("../crypto");var c=_interopRequireDefault(f);var l=e("../enums");var d=_interopRequireDefault(l);var o=e("../util");var u=_interopRequireDefault(o);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function SymmetricallyEncrypted(){this.tag=d.default.packet.symmetricallyEncrypted;this.encrypted=null;this.packets=null;this.ignore_mdc_error=s.default.ignore_mdc_error}SymmetricallyEncrypted.prototype.read=function(e){this.encrypted=e};SymmetricallyEncrypted.prototype.write=function(){return this.encrypted};SymmetricallyEncrypted.prototype.decrypt=async function(e,r){if(!this.ignore_mdc_error){throw new Error("Decryption failed due to missing MDC.")}this.encrypted=await i.default.readToEnd(this.encrypted);const n=await c.default.cfb.decrypt(e,r,this.encrypted.subarray(c.default.cipher[e].blockSize+2),this.encrypted.subarray(2,c.default.cipher[e].blockSize+2));await this.packets.read(n);return true};SymmetricallyEncrypted.prototype.encrypt=async function(e,r){const n=this.packets.write();const t=await c.default.getPrefixRandom(e);const i=await c.default.cfb.encrypt(e,r,t,new Uint8Array(c.default.cipher[e].blockSize));const a=await c.default.cfb.encrypt(e,r,n,i.subarray(2));this.encrypted=u.default.concat([i,a]);return true};n.default=SymmetricallyEncrypted},{"../config":94,"../crypto":109,"../enums":128,"../util":173,"web-stream-tools":90}],162:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("../enums");var i=_interopRequireDefault(t);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Trust(){this.tag=i.default.packet.trust}Trust.prototype.read=function(){};n.default=Trust},{"../enums":128}],163:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("./packet");var i=_interopRequireDefault(t);var a=e("../enums");var s=_interopRequireDefault(a);var f=e("../util");var c=_interopRequireDefault(f);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function UserAttribute(){this.tag=s.default.packet.userAttribute;this.attributes=[]}UserAttribute.prototype.read=function(e){let r=0;while(r<e.length){const n=i.default.readSimpleLength(e.subarray(r,e.length));r+=n.offset;this.attributes.push(c.default.Uint8Array_to_str(e.subarray(r,r+n.len)));r+=n.len}};UserAttribute.prototype.write=function(){const e=[];for(let r=0;r<this.attributes.length;r++){e.push(i.default.writeSimpleLength(this.attributes[r].length));e.push(c.default.str_to_Uint8Array(this.attributes[r]))}return c.default.concatUint8Array(e)};UserAttribute.prototype.equals=function(e){if(!e||!(e instanceof UserAttribute)){return false}return this.attributes.every(function(r,n){return r===e.attributes[n]})};n.default=UserAttribute},{"../enums":128,"../util":173,"./packet":150}],164:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("../enums");var i=_interopRequireDefault(t);var a=e("../util");var s=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Userid(){this.tag=i.default.packet.userid;this.userid="";this.name="";this.email="";this.comment=""}Userid.prototype.read=function(e){this.parse(s.default.decode_utf8(e))};Userid.prototype.parse=function(e){try{Object.assign(this,s.default.parseUserId(e))}catch(e){}this.userid=e};Userid.prototype.write=function(){return s.default.encode_utf8(this.userid)};Userid.prototype.format=function(e){if(s.default.isString(e)){e=s.default.parseUserId(e)}Object.assign(this,e);this.userid=s.default.formatUserId(e)};n.default=Userid},{"../enums":128,"../util":173}],165:[function(e,r,n){(function(r){"use strict";var n=e("./util");var t=_interopRequireDefault(n);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}if(typeof r!=="undefined"){try{if(typeof r.fetch==="undefined"){e("whatwg-fetch")}if(typeof Array.prototype.fill==="undefined"){e("core-js/fn/array/fill")}if(typeof Array.prototype.find==="undefined"){e("core-js/fn/array/find")}if(typeof Array.prototype.includes==="undefined"){e("core-js/fn/array/includes")}if(typeof Array.from==="undefined"){e("core-js/fn/array/from")}e("core-js/fn/promise");if(typeof Uint8Array.from==="undefined"){e("core-js/fn/typed/uint8-array")}if(typeof String.prototype.repeat==="undefined"){e("core-js/fn/string/repeat")}if(typeof Symbol==="undefined"){e("core-js/fn/symbol")}if(typeof Object.assign==="undefined"){e("core-js/fn/object/assign")}}catch(e){}}if(typeof TransformStream==="undefined"){e("@mattiasbuelens/web-streams-polyfill/es6")}if(typeof TextEncoder==="undefined"){const e=t.default.nodeRequire("util")||{};r.TextEncoder=e.TextEncoder;r.TextDecoder=e.TextDecoder}if(typeof TextEncoder==="undefined"){const n=e("text-encoding-utf-8");r.TextEncoder=n.TextEncoder;r.TextDecoder=n.TextDecoder}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./util":173,"@mattiasbuelens/web-streams-polyfill/es6":1,"core-js/fn/array/fill":"core-js/fn/array/fill","core-js/fn/array/find":"core-js/fn/array/find","core-js/fn/array/from":"core-js/fn/array/from","core-js/fn/array/includes":"core-js/fn/array/includes","core-js/fn/object/assign":"core-js/fn/object/assign","core-js/fn/promise":"core-js/fn/promise","core-js/fn/string/repeat":"core-js/fn/string/repeat","core-js/fn/symbol":"core-js/fn/symbol","core-js/fn/typed/uint8-array":"core-js/fn/typed/uint8-array","text-encoding-utf-8":85,"whatwg-fetch":"whatwg-fetch"}],166:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.Signature=Signature;n.readArmored=readArmored;n.read=read;var t=e("./encoding/armor");var i=_interopRequireDefault(t);var a=e("./packet");var s=_interopRequireDefault(a);var f=e("./enums");var c=_interopRequireDefault(f);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Signature(e){if(!(this instanceof Signature)){return new Signature(e)}this.packets=e||new s.default.List}Signature.prototype.armor=function(){return i.default.encode(c.default.armor.signature,this.packets.write())};async function readArmored(e){const r=await i.default.decode(e);return read(r.data)}async function read(e){const r=new s.default.List;await r.read(e);return new Signature(r)}},{"./encoding/armor":126,"./enums":128,"./packet":146}],167:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("../util");var i=_interopRequireDefault(t);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ECDHSymmetricKey(e){if(typeof e==="undefined"){e=new Uint8Array([])}else if(i.default.isString(e)){e=i.default.str_to_Uint8Array(e)}else{e=new Uint8Array(e)}this.data=e}ECDHSymmetricKey.prototype.read=function(e){if(e.length>=1){const r=e[0];if(e.length>=1+r){this.data=e.subarray(1,1+r);return 1+this.data.length}}throw new Error("Invalid symmetric key")};ECDHSymmetricKey.prototype.write=function(){return i.default.concatUint8Array([new Uint8Array([this.data.length]),this.data])};ECDHSymmetricKey.fromClone=function(e){return new ECDHSymmetricKey(e.data)};n.default=ECDHSymmetricKey},{"../util":173}],168:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});function KDFParams(e){if(e){const r=e.hash,n=e.cipher;this.hash=r;this.cipher=n}else{this.hash=null;this.cipher=null}}KDFParams.prototype.read=function(e){if(e.length<4||e[0]!==3||e[1]!==1){throw new Error("Cannot read KDFParams")}this.hash=e[2];this.cipher=e[3];return 4};KDFParams.prototype.write=function(){return new Uint8Array([3,1,this.hash,this.cipher])};KDFParams.fromClone=function(e){const r=e.hash,n=e.cipher;return new KDFParams({hash:r,cipher:n})};n.default=KDFParams},{}],169:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("../util.js");var i=_interopRequireDefault(t);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Keyid(){this.bytes=""}Keyid.prototype.read=function(e){this.bytes=i.default.Uint8Array_to_str(e.subarray(0,8))};Keyid.prototype.write=function(){return i.default.str_to_Uint8Array(this.bytes)};Keyid.prototype.toHex=function(){return i.default.str_to_hex(this.bytes)};Keyid.prototype.equals=function(e,r=false){return r&&(e.isWildcard()||this.isWildcard())||this.bytes===e.bytes};Keyid.prototype.isNull=function(){return this.bytes===""};Keyid.prototype.isWildcard=function(){return/^0+$/.test(this.toHex())};Keyid.mapToHex=function(e){return e.toHex()};Keyid.fromClone=function(e){const r=new Keyid;r.bytes=e.bytes;return r};Keyid.fromId=function(e){const r=new Keyid;r.read(i.default.hex_to_Uint8Array(e));return r};Keyid.wildcard=function(){const e=new Keyid;e.read(new Uint8Array(8));return e};n.default=Keyid},{"../util.js":173}],170:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("bn.js");var i=_interopRequireDefault(t);var a=e("../util");var s=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function MPI(e){if(e instanceof MPI){this.data=e.data}else if(i.default.isBN(e)){this.fromBN(e)}else if(s.default.isUint8Array(e)){this.fromUint8Array(e)}else if(s.default.isString(e)){this.fromString(e)}else{this.data=null}}MPI.prototype.read=function(e,r="be"){if(s.default.isString(e)){e=s.default.str_to_Uint8Array(e)}const n=e[0]<<8|e[1];const t=n+7>>>3;const i=e.subarray(2,2+t);this.fromUint8Array(i,r);return 2+t};MPI.prototype.write=function(e,r){return s.default.Uint8Array_to_MPI(this.toUint8Array(e,r))};MPI.prototype.bitLength=function(){return(this.data.length-1)*8+s.default.nbits(this.data[0])};MPI.prototype.byteLength=function(){return this.data.length};MPI.prototype.toUint8Array=function(e,r){e=e||"be";r=r||this.data.length;const n=new Uint8Array(r);const t=e==="le"?0:r-this.data.length;n.set(this.data,t);if(e==="le"){n.reverse()}return n};MPI.prototype.fromUint8Array=function(e,r="be"){this.data=new Uint8Array(e.length);this.data.set(e);if(r==="le"){this.data.reverse()}};MPI.prototype.toString=function(){return s.default.Uint8Array_to_str(this.toUint8Array())};MPI.prototype.fromString=function(e,r="be"){this.fromUint8Array(s.default.str_to_Uint8Array(e),r)};MPI.prototype.toBN=function(){return new i.default(this.toUint8Array())};MPI.prototype.fromBN=function(e){this.data=e.toArrayLike(Uint8Array)};MPI.fromClone=function(e){return new MPI(e.data)};n.default=MPI},{"../util":173,"bn.js":30}],171:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("../util");var i=_interopRequireDefault(t);var a=e("../enums");var s=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function OID(e){if(e instanceof OID){this.oid=e.oid}else if(i.default.isArray(e)||i.default.isUint8Array(e)){e=new Uint8Array(e);if(e[0]===6){if(e[1]!==e.length-2){throw new Error("Length mismatch in DER encoded oid")}e=e.subarray(2)}this.oid=e}else{this.oid=""}}OID.prototype.read=function(e){if(e.length>=1){const r=e[0];if(e.length>=1+r){this.oid=e.subarray(1,1+r);return 1+this.oid.length}}throw new Error("Invalid oid")};OID.prototype.write=function(){return i.default.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])};OID.prototype.toHex=function(){return i.default.Uint8Array_to_hex(this.oid)};OID.prototype.getName=function(){const e=this.toHex();if(s.default.curve[e]){return s.default.write(s.default.curve,e)}else{throw new Error("Unknown curve object identifier.")}};OID.fromClone=function(e){return new OID(e.oid)};n.default=OID},{"../enums":128,"../util":173}],172:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("../config");var i=_interopRequireDefault(t);var a=e("../crypto");var s=_interopRequireDefault(a);var f=e("../enums.js");var c=_interopRequireDefault(f);var l=e("../util.js");var d=_interopRequireDefault(l);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function S2K(){this.algorithm="sha256";this.type="iterated";this.c=i.default.s2k_iteration_count_byte;this.salt=null}S2K.prototype.get_count=function(){const e=6;return 16+(this.c&15)<<(this.c>>4)+e};S2K.prototype.read=function(e){let r=0;this.type=c.default.read(c.default.s2k,e[r++]);this.algorithm=e[r++];if(this.type!=="gnu"){this.algorithm=c.default.read(c.default.hash,this.algorithm)}switch(this.type){case"simple":break;case"salted":this.salt=e.subarray(r,r+8);r+=8;break;case"iterated":this.salt=e.subarray(r,r+8);r+=8;this.c=e[r++];break;case"gnu":if(d.default.Uint8Array_to_str(e.subarray(r,r+3))==="GNU"){r+=3;const n=1e3+e[r++];if(n===1001){this.type="gnu-dummy"}else{throw new Error("Unknown s2k gnu protection mode.")}}else{throw new Error("Unknown s2k type.")}break;default:throw new Error("Unknown s2k type.")}return r};S2K.prototype.write=function(){if(this.type==="gnu-dummy"){return new Uint8Array([101,0,...d.default.str_to_Uint8Array("GNU"),1])}const e=[new Uint8Array([c.default.write(c.default.s2k,this.type),c.default.write(c.default.hash,this.algorithm)])];switch(this.type){case"simple":break;case"salted":e.push(this.salt);break;case"iterated":e.push(this.salt);e.push(new Uint8Array([this.c]));break;case"gnu":throw new Error("GNU s2k type not supported.");default:throw new Error("Unknown s2k type.")}return d.default.concatUint8Array(e)};S2K.prototype.produce_key=async function(e,r){e=d.default.encode_utf8(e);const n=c.default.write(c.default.hash,this.algorithm);const t=[];let i=0;let a=0;while(i<r){let r;switch(this.type){case"simple":r=d.default.concatUint8Array([new Uint8Array(a),e]);break;case"salted":r=d.default.concatUint8Array([new Uint8Array(a),this.salt,e]);break;case"iterated":{const n=d.default.concatUint8Array([this.salt,e]);let t=n.length;const i=Math.max(this.get_count(),t);r=new Uint8Array(a+i);r.set(n,a);for(let e=a+t;e<i;e+=t,t*=2){r.copyWithin(e,a,e)}break}case"gnu":throw new Error("GNU s2k type not supported.");default:throw new Error("Unknown s2k type.")}const f=await s.default.hash.digest(n,r);t.push(f);i+=f.length;a++}return d.default.concatUint8Array(t).subarray(0,r)};S2K.fromClone=function(e){const r=new S2K;r.algorithm=e.algorithm;r.type=e.type;r.c=e.c;r.salt=e.salt;return r};n.default=S2K},{"../config":94,"../crypto":109,"../enums.js":128,"../util.js":173}],173:[function(e,r,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("email-addresses");var i=_interopRequireDefault(t);var a=e("web-stream-tools");var s=_interopRequireDefault(a);var f=e("./config");var c=_interopRequireDefault(f);var l=e("./util");var d=_interopRequireDefault(l);var o=e("./encoding/base64");var u=_interopRequireDefault(o);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}n.default={isString:function isString(e){return typeof e==="string"||String.prototype.isPrototypeOf(e)},isArray:function isArray(e){return Array.prototype.isPrototypeOf(e)},isUint8Array:s.default.isUint8Array,isStream:s.default.isStream,getTransferables:function getTransferables(e,r){const n=[];d.default.collectTransferables(e,n,r);return n.length?n:undefined},collectTransferables:function collectTransferables(e,r,n){if(!e){return}if(d.default.isUint8Array(e)){if(n&&r.indexOf(e.buffer)===-1&&!(navigator.userAgent.indexOf("Version/11.1")!==-1||(navigator.userAgent.match(/Chrome\/(\d+)/)||[])[1]<56&&navigator.userAgent.indexOf("Edge")===-1)){r.push(e.buffer)}return}if(Object.prototype.isPrototypeOf(e)){Object.entries(e).forEach(([t,i])=>{if(d.default.isStream(i)){if(i.locked){e[t]=null}else{const n=s.default.transformPair(i,async i=>{const a=s.default.getReader(i);var f=new MessageChannel;const c=f.port1,l=f.port2;c.onmessage=async function({data:{action:e}}){if(e==="read"){try{const e=await a.read();c.postMessage(e,d.default.getTransferables(e))}catch(e){c.postMessage({error:e.message})}}else if(e==="cancel"){await n.cancel();c.postMessage()}};e[t]=l;r.push(l)})}return}if(Object.prototype.toString.call(i)==="[object MessagePort]"){throw new Error("Can't transfer the same stream twice.")}d.default.collectTransferables(i,r,n)})}},restoreStreams:function restoreStreams(e){if(Object.prototype.isPrototypeOf(e)&&!Uint8Array.prototype.isPrototypeOf(e)){Object.entries(e).forEach(([r,n])=>{if(Object.prototype.toString.call(n)==="[object MessagePort]"){e[r]=new ReadableStream({pull(e){return new Promise(r=>{n.onmessage=(n=>{var t=n.data;const i=t.done,a=t.value,s=t.error;if(s){e.error(new Error(s))}else if(!i){e.enqueue(a)}else{e.close()}r()});n.postMessage({action:"read"})})},cancel(){return new Promise(e=>{n.onmessage=e;n.postMessage({action:"cancel"})})}},{highWaterMark:0});return}d.default.restoreStreams(n)})}return e},readNumber:function readNumber(e){let r=0;for(let n=0;n<e.length;n++){r+=256**n*e[e.length-1-n]}return r},writeNumber:function writeNumber(e,r){const n=new Uint8Array(r);for(let t=0;t<r;t++){n[t]=e>>8*(r-t-1)&255}return n},readDate:function readDate(e){const r=d.default.readNumber(e);const n=new Date(r*1e3);return n},writeDate:function writeDate(e){const r=Math.floor(e.getTime()/1e3);return d.default.writeNumber(r,4)},normalizeDate:function normalizeDate(e=Date.now()){return e===null||e===Infinity?e:new Date(Math.floor(+e/1e3)*1e3)},str_to_hex:function str_to_hex(e){if(e===null){return""}const r=[];const n=e.length;let t=0;let i;while(t<n){i=e.charCodeAt(t++).toString(16);while(i.length<2){i="0"+i}r.push(""+i)}return r.join("")},hex_to_str:function hex_to_str(e){let r="";for(let n=0;n<e.length;n+=2){r+=String.fromCharCode(parseInt(e.substr(n,2),16))}return r},Uint8Array_to_MPI:function Uint8Array_to_MPI(e){const r=(e.length-1)*8+d.default.nbits(e[0]);const n=Uint8Array.from([(r&65280)>>8,r&255]);return d.default.concatUint8Array([n,e])},b64_to_Uint8Array:function b64_to_Uint8Array(e){return u.default.decode(e.replace(/-/g,"+").replace(/_/g,"/"))},Uint8Array_to_b64:function Uint8Array_to_b64(e,r){let n=u.default.encode(e).replace(/[\r\n]/g,"");if(r){n=n.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")}return n},hex_to_Uint8Array:function hex_to_Uint8Array(e){const r=new Uint8Array(e.length>>1);for(let n=0;n<e.length>>1;n++){r[n]=parseInt(e.substr(n<<1,2),16)}return r},Uint8Array_to_hex:function Uint8Array_to_hex(e){const r=[];const n=e.length;let t=0;let i;while(t<n){i=e[t++].toString(16);while(i.length<2){i="0"+i}r.push(""+i)}return r.join("")},str_to_Uint8Array:function str_to_Uint8Array(e){return s.default.transform(e,e=>{if(!d.default.isString(e)){throw new Error("str_to_Uint8Array: Data must be in the form of a string")}const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++){r[n]=e.charCodeAt(n)}return r})},Uint8Array_to_str:function Uint8Array_to_str(e){e=new Uint8Array(e);const r=[];const n=1<<14;const t=e.length;for(let i=0;i<t;i+=n){r.push(String.fromCharCode.apply(String,e.subarray(i,i+n<t?i+n:t)))}return r.join("")},encode_utf8:function encode_utf8(e){const r=new TextEncoder("utf-8");function process(e,n=false){return r.encode(e,{stream:!n})}return s.default.transform(e,process,()=>process("",true))},decode_utf8:function decode_utf8(e){const r=new TextDecoder("utf-8");function process(e,n=false){return r.decode(e,{stream:!n})}return s.default.transform(e,process,()=>process(new Uint8Array,true))},concat:s.default.concat,concatUint8Array:s.default.concatUint8Array,equalsUint8Array:function equalsUint8Array(e,r){if(!d.default.isUint8Array(e)||!d.default.isUint8Array(r)){throw new Error("Data must be in the form of a Uint8Array")}if(e.length!==r.length){return false}for(let n=0;n<e.length;n++){if(e[n]!==r[n]){return false}}return true},write_checksum:function write_checksum(e){let r=0;for(let n=0;n<e.length;n++){r=r+e[n]&65535}return d.default.writeNumber(r,2)},print_debug:function print_debug(e){if(c.default.debug){console.log(e)}},print_debug_hexarray_dump:function print_debug_hexarray_dump(e,r){if(c.default.debug){e+=": "+d.default.Uint8Array_to_hex(r);console.log(e)}},print_debug_hexstr_dump:function print_debug_hexstr_dump(e,r){if(c.default.debug){e+=d.default.str_to_hex(r);console.log(e)}},print_debug_error:function print_debug_error(e){if(c.default.debug){console.error(e)}},print_entire_stream:function print_entire_stream(e,r,n){s.default.readToEnd(s.default.clone(r),n).then(r=>{console.log(e+": ",r)})},nbits:function nbits(e){let r=1;let n=e>>>16;if(n!==0){e=n;r+=16}n=e>>8;if(n!==0){e=n;r+=8}n=e>>4;if(n!==0){e=n;r+=4}n=e>>2;if(n!==0){e=n;r+=2}n=e>>1;if(n!==0){e=n;r+=1}return r},double:function double(e){const r=new Uint8Array(e.length);const n=e.length-1;for(let t=0;t<n;t++){r[t]=e[t]<<1^e[t+1]>>7}r[n]=e[n]<<1^(e[0]>>7)*135;return r},shiftRight:function shiftRight(e,r){if(r){for(let n=e.length-1;n>=0;n--){e[n]>>=r;if(n>0){e[n]|=e[n-1]<<8-r}}}return e},getWebCrypto:function getWebCrypto(){if(!c.default.use_native){return}return typeof r!=="undefined"&&r.crypto&&r.crypto.subtle},getWebCryptoAll:function getWebCryptoAll(){if(!c.default.use_native){return}if(typeof r!=="undefined"){if(r.crypto){return r.crypto.subtle||r.crypto.webkitSubtle}if(r.msCrypto){return r.msCrypto.subtle}}},detectNode:function detectNode(){return typeof r.process==="object"&&typeof r.process.versions==="object"},nodeRequire:function nodeRequire(r){if(!d.default.detectNode()){return}return e(r)},getNodeCrypto:function getNodeCrypto(){if(!c.default.use_native){return}return d.default.nodeRequire("crypto")},getNodeZlib:function getNodeZlib(){if(!c.default.use_native){return}return d.default.nodeRequire("zlib")},getNodeBuffer:function getNodeBuffer(){return(d.default.nodeRequire("buffer")||{}).Buffer},getNodeStream:function getNodeStream(){return(d.default.nodeRequire("stream")||{}).Readable},getHardwareConcurrency:function getHardwareConcurrency(){if(d.default.detectNode()){const e=d.default.nodeRequire("os");return e.cpus().length}return navigator.hardwareConcurrency||1},isEmailAddress:function isEmailAddress(e){if(!d.default.isString(e)){return false}const r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}|xn--[a-zA-Z\-0-9]+)))$/;return r.test(e)},formatUserId:function formatUserId(e){if(e.name&&!d.default.isString(e.name)||e.email&&!d.default.isEmailAddress(e.email)||e.comment&&!d.default.isString(e.comment)){throw new Error("Invalid user id format")}const r=[];if(e.name){r.push(e.name)}if(e.comment){r.push(`(${e.comment})`)}if(e.email){r.push(`<${e.email}>`)}return r.join(" ")},parseUserId:function parseUserId(e){if(e.length>c.default.max_userid_length){throw new Error("User id string is too long")}try{var r=i.default.parseOneAddress({input:e,atInDisplayName:true});const n=r.name,t=r.address,a=r.comments;return{name:n,email:t,comment:a.replace(/^\(|\)$/g,"")}}catch(e){throw new Error("Invalid user id format")}},canonicalizeEOL:function canonicalizeEOL(e){const r=13;const n=10;let t=false;return s.default.transform(e,e=>{if(t){e=d.default.concatUint8Array([new Uint8Array([r]),e])}if(e[e.length-1]===r){t=true;e=e.subarray(0,-1)}else{t=false}let i;const a=[];for(let t=0;;t=i){i=e.indexOf(n,t)+1;if(i){if(e[i-2]!==r)a.push(i)}else{break}}if(!a.length){return e}const s=new Uint8Array(e.length+a.length);let f=0;for(let t=0;t<a.length;t++){const i=e.subarray(a[t-1]||0,a[t]);s.set(i,f);f+=i.length;s[f-1]=r;s[f]=n;f++}s.set(e.subarray(a[a.length-1]||0),f);return s},()=>t?new Uint8Array([r]):undefined)},nativeEOL:function nativeEOL(e){const r=13;const n=10;let t=false;return s.default.transform(e,e=>{if(t&&e[0]!==n){e=d.default.concatUint8Array([new Uint8Array([r]),e])}else{e=new Uint8Array(e)}if(e[e.length-1]===r){t=true;e=e.subarray(0,-1)}else{t=false}let i;let a=0;for(let t=0;t!==e.length;t=i){i=e.indexOf(r,t)+1;if(!i)i=e.length;const s=i-(e[i]===n?1:0);if(t)e.copyWithin(a,t,s);a+=s-t}return e.subarray(0,a)},()=>t?new Uint8Array([r]):undefined)},removeTrailingSpaces:function removeTrailingSpaces(e){return e.split("\n").map(e=>{let r=e.length-1;for(;r>=0&&(e[r]===" "||e[r]==="\t");r--);return e.substr(0,r+1)}).join("\n")},encodeZBase32:function encodeZBase32(e){if(e.length===0){return""}const r="ybndrfg8ejkmcpqxot1uwisza345h769";const n=5;const t=31;let i=e[0];let a=1;let s=8;let f="";while(s>0||a<e.length){if(s<n){if(a<e.length){i<<=8;i|=e[a++]&255;s+=8}else{const e=n-s;i<<=e;s+=e}}s-=n;f+=r[t&i>>s]}return f},wrapError:function wrapError(e,r){if(!r){return new Error(e)}try{r.message=e+": "+r.message}catch(e){}return r}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./config":94,"./encoding/base64":127,"./util":173,"email-addresses":47,"web-stream-tools":90}],174:[function(e,r,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=function(){function sliceIterator(e,r){var n=[];var t=true;var i=false;var a=undefined;try{for(var s=e[Symbol.iterator](),f;!(t=(f=s.next()).done);t=true){n.push(f.value);if(r&&n.length===r)break}}catch(e){i=true;a=e}finally{try{if(!t&&s["return"])s["return"]()}finally{if(i)throw a}}return n}return function(e,r){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return sliceIterator(e,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var i=e("./util");var a=_interopRequireDefault(i);var s=e("./crypto");var f=_interopRequireDefault(s);var c=e("./key");var l=_interopRequireWildcard(c);function _interopRequireWildcard(e){if(e&&e.__esModule){return e}else{var r={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))r[n]=e[n]}}r.default=e;return r}}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function WKD(){this._fetch=typeof r!=="undefined"?r.fetch:e("node-fetch")}WKD.prototype.lookup=async function(e){const r=this._fetch;if(!e.email){throw new Error("You must provide an email parameter!")}if(!a.default.isEmailAddress(e.email)){throw new Error("Invalid e-mail address.")}var n=/(.*)@(.*)/.exec(e.email),i=t(n,3);const s=i[1],c=i[2];const d=a.default.encodeZBase32(await f.default.hash.sha1(a.default.str_to_Uint8Array(s.toLowerCase())));const o=`https://openpgpkey.${c}/.well-known/openpgpkey/${c}/hu/${d}`;const u=`https://${c}/.well-known/openpgpkey/hu/${d}`;let h;try{h=await r(o);if(h.status!==200){throw new Error("Advanced WKD lookup failed: "+h.statusText)}}catch(e){a.default.print_debug_error(e);h=await r(u);if(h.status!==200){throw new Error("Direct WKD lookup failed: "+h.statusText)}}const p=new Uint8Array(await h.arrayBuffer());if(e.rawBytes){return p}return l.read(p)};n.default=WKD}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./crypto":109,"./key":133,"./util":173,"node-fetch":"node-fetch"}],175:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=e("../util.js");var i=_interopRequireDefault(t);var a=e("../config");var s=_interopRequireDefault(a);var f=e("../crypto");var c=_interopRequireDefault(f);var l=e("../packet");var d=_interopRequireDefault(l);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function AsyncProxy({path:e="openpgp.worker.js",n:r=1,workers:n=[],config:t}={}){const i=e=>r=>{const n=r.data;switch(n.event){case"loaded":this.workers[e].loadedResolve(true);break;case"method-return":if(n.err){const e=new Error(n.err);e.workerStack=n.stack;this.tasks[n.id].reject(e)}else{this.tasks[n.id].resolve(n.data)}delete this.tasks[n.id];this.workers[e].requests--;break;case"request-seed":this.seedRandom(e,n.amount);break;default:throw new Error("Unknown Worker Event.")}};if(n.length){this.workers=n}else{this.workers=[];while(this.workers.length<r){this.workers.push(new Worker(e))}}let a=0;this.workers.forEach(e=>{e.loadedPromise=new Promise(r=>{e.loadedResolve=r});e.requests=0;e.onmessage=i(a++);e.onerror=(r=>{e.loadedResolve(false);console.error("Unhandled error in openpgp worker: "+r.message+" ("+r.filename+":"+r.lineno+")");return false});if(t){e.postMessage({event:"configure",config:t})}});this.tasks={};this.currentID=0}AsyncProxy.prototype.loaded=async function(){const e=await Promise.all(this.workers.map(e=>e.loadedPromise));return e.every(Boolean)};AsyncProxy.prototype.getID=function(){return this.currentID++};AsyncProxy.prototype.seedRandom=async function(e,r){const n=await c.default.random.getRandomBytes(r);this.workers[e].postMessage({event:"seed-random",buf:n},i.default.getTransferables(n,true))};AsyncProxy.prototype.clearKeyCache=async function(){await Promise.all(this.workers.map(e=>new Promise((r,n)=>{const t=this.getID();e.postMessage({id:t,event:"clear-key-cache"});this.tasks[t]={resolve:r,reject:n}})))};AsyncProxy.prototype.terminate=function(){this.workers.forEach(e=>{e.terminate()})};AsyncProxy.prototype.delegate=function(e,r){const n=this.getID();const t=this.workers.map(e=>e.requests);const a=Math.min(...t);let f=0;for(;f<this.workers.length;f++){if(this.workers[f].requests===a){break}}return new Promise((t,a)=>{this.workers[f].postMessage({id:n,event:e,options:d.default.clone.clonePackets(r)},i.default.getTransferables(r,s.default.zero_copy));this.workers[f].requests++;this.tasks[n]={resolve:r=>t(d.default.clone.parseClonedPackets(i.default.restoreStreams(r),e)),reject:a}})};n.default=AsyncProxy},{"../config":94,"../crypto":109,"../packet":146,"../util.js":173}]},{},[130])(130)})},,,,,,,,,,,function(e,r,n){var t=n(41);var i=Object.prototype;var a=i.hasOwnProperty;function hashHas(e){var r=this.__data__;return t?r[e]!==undefined:a.call(r,e)}e.exports=hashHas},,,,function(e,r,n){var t=n(712),i=n(640);var a=i(t);e.exports=a},function(e,r,n){var t=n(765),i=n(495),a=n(869),s=n(190),f=n(936),c=n(496);var l=Object.prototype;var d=l.hasOwnProperty;function arrayLikeKeys(e,r){var n=a(e),l=!n&&i(e),o=!n&&!l&&s(e),u=!n&&!l&&!o&&c(e),h=n||l||o||u,p=h?t(e.length,String):[],v=p.length;for(var b in e){if((r||d.call(e,b))&&!(h&&(b=="length"||o&&(b=="offset"||b=="parent")||u&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||f(b,v)))){p.push(b)}}return p}e.exports=arrayLikeKeys},,,,function(e){function baseSortBy(e,r){var n=e.length;e.sort(r);while(n--){e[n]=e[n].value}return e}e.exports=baseSortBy},function(e,r,n){"use strict";var t=n(967);function resolveJavascriptRegExp(e){if(e===null)return false;if(e.length===0)return false;var r=e,n=/\/([gim]*)$/.exec(e),t="";if(r[0]==="/"){if(n)t=n[1];if(t.length>3)return false;if(r[r.length-t.length-1]!=="/")return false}return true}function constructJavascriptRegExp(e){var r=e,n=/\/([gim]*)$/.exec(e),t="";if(r[0]==="/"){if(n)t=n[1];r=r.slice(1,r.length-t.length-1)}return new RegExp(r,t)}function representJavascriptRegExp(e){var r="/"+e.source+"/";if(e.global)r+="g";if(e.multiline)r+="m";if(e.ignoreCase)r+="i";return r}function isRegExp(e){return Object.prototype.toString.call(e)==="[object RegExp]"}e.exports=new t("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:resolveJavascriptRegExp,construct:constructJavascriptRegExp,predicate:isRegExp,represent:representJavascriptRegExp})},,,,,,,function(e,r,n){var t=n(213),i=n(261),a=n(901),s=n(305),f=n(853),c=n(553);var l=1,d=2;var o="[object Boolean]",u="[object Date]",h="[object Error]",p="[object Map]",v="[object Number]",b="[object RegExp]",y="[object Set]",g="[object String]",w="[object Symbol]";var m="[object ArrayBuffer]",A="[object DataView]";var E=t?t.prototype:undefined,S=E?E.valueOf:undefined;function equalByTag(e,r,n,t,E,k,R){switch(n){case A:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset){return false}e=e.buffer;r=r.buffer;case m:if(e.byteLength!=r.byteLength||!k(new i(e),new i(r))){return false}return true;case o:case u:case v:return a(+e,+r);case h:return e.name==r.name&&e.message==r.message;case b:case g:return e==r+"";case p:var M=f;case y:var C=t&l;M||(M=c);if(e.size!=r.size&&!C){return false}var D=R.get(e);if(D){return D==r}t|=d;R.set(e,r);var _=s(M(e),M(r),t,E,k,R);R["delete"](e);return _;case w:if(S){return S.call(e)==S.call(r)}}return false}e.exports=equalByTag},,,,function(e,r,n){var t=n(829),i=n(974),a=n(84),s=n(71);function property(e){return a(e)?t(s(e)):i(e)}e.exports=property},,,,,function(e){function baseUnary(e){return function(r){return e(r)}}e.exports=baseUnary},,,function(e,r,n){var t=n(882);var i=t.Uint8Array;e.exports=i},,,,,,,,,,,,,,,,,function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:true,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:true,readOnly:{type:"boolean",default:false},examples:{type:"array",items:true},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:true},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:false},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:true,enum:{type:"array",items:true,minItems:1,uniqueItems:true},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:true}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:true}},,,,,,,,,,function(e,r,n){var t=n(758);function get(e,r,n){var i=e==null?undefined:t(e,r);return i===undefined?n:i}e.exports=get},,,,,,function(e,r,n){"use strict";var t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:true});r.prepareFile=r.prepareEnv=r.prepareMask=void 0;const i=n(186);const a=t(n(704));const s=n(36);const f=n(986);async function prepareMask(e){if(!e.mask){return}for(const r of e.mask){i.setSecret(s.replaceEnvVer(r))}i.info(`mask value count: ${e.mask.length}`)}r.prepareMask=prepareMask;async function prepareEnv(e){if(!e.env){return}for(const r in e.env){const n=e.env[r];if(a.default(n)){const e=s.replaceEnvVer(n);i.setSecret(e);i.exportVariable(r,e);i.info(`${r}: *** (mask)`)}else{const e=s.replaceEnvVer(n.value);i.exportVariable(r,e);if(n.secret===false){i.info(`${r}: ${e}`)}else{i.setSecret(e);i.info(`${r}: *** (mask)`)}}}}r.prepareEnv=prepareEnv;async function prepareFile(e,r){if(!r.file){return}for(const n in r.file){const t=r.file[n];const a=s.replaceEnvVer(n);const c=await f.writeFile(e,a,t);if(c){i.info(`wrote "${n}"`)}else{i.error(`could not write "${n}"`)}}}r.prepareFile=prepareFile},,,function(e,r,n){"use strict";var t=/^[a-z_$][a-z0-9_$-]*$/i;var i=n(972);var a=n(458);e.exports={add:addKeyword,get:getKeyword,remove:removeKeyword,validate:validateKeyword};function addKeyword(e,r){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!t.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(r){this.validateKeyword(r,true);var a=r.type;if(Array.isArray(a)){for(var s=0;s<a.length;s++)_addRule(e,a[s],r)}else{_addRule(e,a,r)}var f=r.metaSchema;if(f){if(r.$data&&this._opts.$data){f={anyOf:[f,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}}r.validateSchema=this.compile(f,true)}}n.keywords[e]=n.all[e]=true;function _addRule(e,r,t){var a;for(var s=0;s<n.length;s++){var f=n[s];if(f.type==r){a=f;break}}if(!a){a={type:r,rules:[]};n.push(a)}var c={keyword:e,definition:t,custom:true,code:i,implements:t.implements};a.rules.push(c);n.custom[e]=c}return this}function getKeyword(e){var r=this.RULES.custom[e];return r?r.definition:this.RULES.keywords[e]||false}function removeKeyword(e){var r=this.RULES;delete r.keywords[e];delete r.all[e];delete r.custom[e];for(var n=0;n<r.length;n++){var t=r[n].rules;for(var i=0;i<t.length;i++){if(t[i].keyword==e){t.splice(i,1);break}}}return this}function validateKeyword(e,r){validateKeyword.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(a,true);if(n(e))return true;validateKeyword.errors=n.errors;if(r)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));else return false}},,function(e,r,n){var t=n(213),i=n(495),a=n(869);var s=t?t.isConcatSpreadable:undefined;function isFlattenable(e){return a(e)||i(e)||!!(s&&e&&e[s])}e.exports=isFlattenable},,,,,,function(e,r,n){var t=n(158),i=n(410),a=n(675);var s=1,f=2;function equalArrays(e,r,n,c,l,d){var o=n&s,u=e.length,h=r.length;if(u!=h&&!(o&&h>u)){return false}var p=d.get(e);var v=d.get(r);if(p&&v){return p==r&&v==e}var b=-1,y=true,g=n&f?new t:undefined;d.set(e,r);d.set(r,e);while(++b<u){var w=e[b],m=r[b];if(c){var A=o?c(m,w,b,r,e,d):c(w,m,b,e,r,d)}if(A!==undefined){if(A){continue}y=false;break}if(g){if(!i(r,function(e,r){if(!a(g,r)&&(w===e||l(w,e,n,c,d))){return g.push(r)}})){y=false;break}}else if(!(w===m||l(w,m,n,c,d))){y=false;break}}d["delete"](e);d["delete"](r);return y}e.exports=equalArrays},,,function(e){function isKeyable(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}e.exports=isKeyable},,,,,,,,,,,,function(e){function overArg(e,r){return function(n){return e(r(n))}}e.exports=overArg},,,function(e,r,n){var t=n(608),i=n(843),a=n(717),s=n(21),f=n(910),c=n(955);function Stack(e){var r=this.__data__=new t(e);this.size=r.size}Stack.prototype.clear=i;Stack.prototype["delete"]=a;Stack.prototype.get=s;Stack.prototype.has=f;Stack.prototype.set=c;e.exports=Stack},,,,function(e,r,n){var t=n(173),i=n(524),a=n(427),s=n(869);function createAggregator(e,r){return function(n,f){var c=s(n)?t:i,l=r?r():{};return c(n,e,a(f,2),l)}}e.exports=createAggregator},,,,,,,function(e){function isObject(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}e.exports=isObject},,,,,,,,,,,,function(e,r,n){"use strict";var t=n(967);e.exports=new t("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})},,,,,function(e,r,n){"use strict";var t=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)if(Object.hasOwnProperty.call(e,n))r[n]=e[n];r["default"]=e;return r};Object.defineProperty(r,"__esModule",{value:true});const i=t(n(87));function issueCommand(e,r,n){const t=new Command(e,r,n);process.stdout.write(t.toString()+i.EOL)}r.issueCommand=issueCommand;function issue(e,r=""){issueCommand(e,{},r)}r.issue=issue;const a="::";class Command{constructor(e,r,n){if(!e){e="missing.command"}this.command=e;this.properties=r;this.message=n}toString(){let e=a+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=true;for(const n in this.properties){if(this.properties.hasOwnProperty(n)){const t=this.properties[n];if(t){if(r){r=false}else{e+=","}e+=`${n}=${escapeProperty(t)}`}}}}e+=`${a}${escapeData(this.message)}`;return e}}function toCommandValue(e){if(e===null||e===undefined){return""}else if(typeof e==="string"||e instanceof String){return e}return JSON.stringify(e)}r.toCommandValue=toCommandValue;function escapeData(e){return toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(e){return toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},,,,,function(e){function arrayMap(e,r){var n=-1,t=e==null?0:e.length,i=Array(t);while(++n<t){i[n]=r(e[n],n,e)}return i}e.exports=arrayMap},,,,,,,,,,,,,,,,function(e,r,n){var t=n(980);function mapCacheGet(e){return t(this,e).get(e)}e.exports=mapCacheGet},function(e,r,n){"use strict";var t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:true});r.loadConfigYaml=r.loadConfigWithGPGPassphrase=r.loadConfigFile=r.loadConfig=r.assertConfig=void 0;const i=t(n(941));const a=t(n(611));const s=t(n(774));const f=t(n(917));const c=n(747);const l=n(221);const d=t(n(78));const o=n(976);const u=n(986);const h=["required","type"].reverse();function assertConfig(e){const r=new i.default;const n=r.compile(d.default);n(e);if(n.errors){const e=n.errors;const r=a.default(e,"dataPath");const t=s.default(Object.keys(r),"length");for(const e of t){const n=r[e];const t=s.default(n,e=>-h.indexOf(e.keyword));for(const e of t){throw new o.ConfigActionError(`${e.message} at ${e.dataPath}`)}}}}r.assertConfig=assertConfig;async function loadConfig(e,r){if(r.gpgPassphrase){return loadConfigWithGPGPassphrase(e,r.configFile,r.gpgPassphrase)}else{return loadConfigFile(e,r.configFile)}}r.loadConfig=loadConfig;async function loadConfigFile(e,r){const{readFile:n}=c.promises;const t=u.pathResolve(e,r);const i=await n(t,"utf8");return loadConfigYaml(i)}r.loadConfigFile=loadConfigFile;async function loadConfigWithGPGPassphrase(e,r,n){const{readFile:t}=c.promises;const i=u.pathResolve(e,r);const a=await t(i);const{data:s}=await l.decrypt({message:await l.message.read(a),passwords:[n],format:"utf8"});return loadConfigYaml(s)}r.loadConfigWithGPGPassphrase=loadConfigWithGPGPassphrase;async function loadConfigYaml(e){const r=f.default.safeLoad(e);assertConfig(r);return r}r.loadConfigYaml=loadConfigYaml},,,,,,,function(e,r,n){var t=n(882);var i=t["__core-js_shared__"];e.exports=i},,,,,,function(e,r,n){var t=n(752);function listCacheHas(e){return t(this.__data__,e)>-1}e.exports=listCacheHas},,function(e){function arrayFilter(e,r){var n=-1,t=e==null?0:e.length,i=0,a=[];while(++n<t){var s=e[n];if(r(s,n,e)){a[i++]=s}}return a}e.exports=arrayFilter},,,,,function(e){"use strict";e.exports=function generate_ref(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.errSchemaPath+"/"+r;var c=!e.opts.allErrors;var l="data"+(a||"");var d="valid"+i;var o,u;if(s=="#"||s=="#/"){if(e.isRoot){o=e.async;u="validate"}else{o=e.root.schema.$async===true;u="root.refVal[0]"}}else{var h=e.resolveRef(e.baseId,s,e.isRoot);if(h===undefined){var p=e.MissingRefError.message(e.baseId,s);if(e.opts.missingRefs=="fail"){e.logger.error(p);var v=v||[];v.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+"$ref"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { ref: '"+e.util.escapeQuotes(s)+"' } ";if(e.opts.messages!==false){t+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(s)+"' "}if(e.opts.verbose){t+=" , schema: "+e.util.toQuotedString(s)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "}t+=" } "}else{t+=" {} "}var b=t;t=v.pop();if(!e.compositeRule&&c){if(e.async){t+=" throw new ValidationError(["+b+"]); "}else{t+=" validate.errors = ["+b+"]; return false; "}}else{t+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}if(c){t+=" if (false) { "}}else if(e.opts.missingRefs=="ignore"){e.logger.warn(p);if(c){t+=" if (true) { "}}else{throw new e.MissingRefError(e.baseId,s,p)}}else if(h.inline){var y=e.util.copy(e);y.level++;var g="valid"+y.level;y.schema=h.schema;y.schemaPath="";y.errSchemaPath=s;var w=e.validate(y).replace(/validate\.schema/g,h.code);t+=" "+w+" ";if(c){t+=" if ("+g+") { "}}else{o=h.$async===true||e.async&&h.$async!==false;u=h.code}}if(u){var v=v||[];v.push(t);t="";if(e.opts.passContext){t+=" "+u+".call(this, "}else{t+=" "+u+"( "}t+=" "+l+", (dataPath || '')";if(e.errorPath!='""'){t+=" + "+e.errorPath}var m=a?"data"+(a-1||""):"parentData",A=a?e.dataPathArr[a]:"parentDataProperty";t+=" , "+m+" , "+A+", rootData)  ";var E=t;t=v.pop();if(o){if(!e.async)throw new Error("async schema referenced by sync schema");if(c){t+=" var "+d+"; "}t+=" try { await "+E+"; ";if(c){t+=" "+d+" = true; "}t+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ";if(c){t+=" "+d+" = false; "}t+=" } ";if(c){t+=" if ("+d+") { "}}else{t+=" if (!"+E+") { if (vErrors === null) vErrors = "+u+".errors; else vErrors = vErrors.concat("+u+".errors); errors = vErrors.length; } ";if(c){t+=" else { "}}}return t}},,function(e,r,n){var t=n(41);var i="__lodash_hash_undefined__";var a=Object.prototype;var s=a.hasOwnProperty;function hashGet(e){var r=this.__data__;if(t){var n=r[e];return n===i?undefined:n}return s.call(r,e)?r[e]:undefined}e.exports=hashGet},,,,function(e,r,n){var t=n(752);function listCacheSet(e,r){var n=this.__data__,i=t(n,e);if(i<0){++this.size;n.push([e,r])}else{n[i][1]=r}return this}e.exports=listCacheSet},,,,function(e,r,n){var t=n(497),i=n(926);var a="[object Symbol]";function isSymbol(e){return typeof e=="symbol"||i(e)&&t(e)==a}e.exports=isSymbol},function(e){"use strict";e.exports=function generate__limit(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d;var o="data"+(a||"");var u=e.opts.$data&&s&&s.$data,h;if(u){t+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ";h="schema"+i}else{h=s}var p=r=="maximum",v=p?"exclusiveMaximum":"exclusiveMinimum",b=e.schema[v],y=e.opts.$data&&b&&b.$data,g=p?"<":">",w=p?">":"<",d=undefined;if(!(u||typeof s=="number"||s===undefined)){throw new Error(r+" must be number")}if(!(y||b===undefined||typeof b=="number"||typeof b=="boolean")){throw new Error(v+" must be number or boolean")}if(y){var m=e.util.getData(b.$data,a,e.dataPathArr),A="exclusive"+i,E="exclType"+i,S="exclIsNumber"+i,k="op"+i,R="' + "+k+" + '";t+=" var schemaExcl"+i+" = "+m+"; ";m="schemaExcl"+i;t+=" var "+A+"; var "+E+" = typeof "+m+"; if ("+E+" != 'boolean' && "+E+" != 'undefined' && "+E+" != 'number') { ";var d=v;var M=M||[];M.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+(d||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ";if(e.opts.messages!==false){t+=" , message: '"+v+" should be boolean' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+o+" "}t+=" } "}else{t+=" {} "}var C=t;t=M.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+C+"]); "}else{t+=" validate.errors = ["+C+"]; return false; "}}else{t+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+=" } else if ( ";if(u){t+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "}t+=" "+E+" == 'number' ? ( ("+A+" = "+h+" === undefined || "+m+" "+g+"= "+h+") ? "+o+" "+w+"= "+m+" : "+o+" "+w+" "+h+" ) : ( ("+A+" = "+m+" === true) ? "+o+" "+w+"= "+h+" : "+o+" "+w+" "+h+" ) || "+o+" !== "+o+") { var op"+i+" = "+A+" ? '"+g+"' : '"+g+"='; ";if(s===undefined){d=v;c=e.errSchemaPath+"/"+v;h=m;u=y}}else{var S=typeof b=="number",R=g;if(S&&u){var k="'"+R+"'";t+=" if ( ";if(u){t+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "}t+=" ( "+h+" === undefined || "+b+" "+g+"= "+h+" ? "+o+" "+w+"= "+b+" : "+o+" "+w+" "+h+" ) || "+o+" !== "+o+") { "}else{if(S&&s===undefined){A=true;d=v;c=e.errSchemaPath+"/"+v;h=b;w+="="}else{if(S)h=Math[p?"min":"max"](b,s);if(b===(S?h:true)){A=true;d=v;c=e.errSchemaPath+"/"+v;w+="="}else{A=false;R+="="}}var k="'"+R+"'";t+=" if ( ";if(u){t+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "}t+=" "+o+" "+w+" "+h+" || "+o+" !== "+o+") { "}}d=d||r;var M=M||[];M.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+(d||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+k+", limit: "+h+", exclusive: "+A+" } ";if(e.opts.messages!==false){t+=" , message: 'should be "+R+" ";if(u){t+="' + "+h}else{t+=""+h+"'"}}if(e.opts.verbose){t+=" , schema:  ";if(u){t+="validate.schema"+f}else{t+=""+s}t+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+o+" "}t+=" } "}else{t+=" {} "}var C=t;t=M.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+C+"]); "}else{t+=" validate.errors = ["+C+"]; return false; "}}else{t+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+=" } ";if(l){t+=" else { "}return t}},,,,function(e){"use strict";e.exports=function generate_items(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d="data"+(a||"");var o="valid"+i;var u="errs__"+i;var h=e.util.copy(e);var p="";h.level++;var v="valid"+h.level;var b="i"+i,y=h.dataLevel=e.dataLevel+1,g="data"+y,w=e.baseId;t+="var "+u+" = errors;var "+o+";";if(Array.isArray(s)){var m=e.schema.additionalItems;if(m===false){t+=" "+o+" = "+d+".length <= "+s.length+"; ";var A=c;c=e.errSchemaPath+"/additionalItems";t+="  if (!"+o+") {   ";var E=E||[];E.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+"additionalItems"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+s.length+" } ";if(e.opts.messages!==false){t+=" , message: 'should NOT have more than "+s.length+" items' "}if(e.opts.verbose){t+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}var S=t;t=E.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+S+"]); "}else{t+=" validate.errors = ["+S+"]; return false; "}}else{t+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+=" } ";c=A;if(l){p+="}";t+=" else { "}}var k=s;if(k){var R,M=-1,C=k.length-1;while(M<C){R=k[M+=1];if(e.opts.strictKeywords?typeof R=="object"&&Object.keys(R).length>0:e.util.schemaHasRules(R,e.RULES.all)){t+=" "+v+" = true; if ("+d+".length > "+M+") { ";var D=d+"["+M+"]";h.schema=R;h.schemaPath=f+"["+M+"]";h.errSchemaPath=c+"/"+M;h.errorPath=e.util.getPathExpr(e.errorPath,M,e.opts.jsonPointers,true);h.dataPathArr[y]=M;var _=e.validate(h);h.baseId=w;if(e.util.varOccurences(_,g)<2){t+=" "+e.util.varReplace(_,g,D)+" "}else{t+=" var "+g+" = "+D+"; "+_+" "}t+=" }  ";if(l){t+=" if ("+v+") { ";p+="}"}}}}if(typeof m=="object"&&(e.opts.strictKeywords?typeof m=="object"&&Object.keys(m).length>0:e.util.schemaHasRules(m,e.RULES.all))){h.schema=m;h.schemaPath=e.schemaPath+".additionalItems";h.errSchemaPath=e.errSchemaPath+"/additionalItems";t+=" "+v+" = true; if ("+d+".length > "+s.length+") {  for (var "+b+" = "+s.length+"; "+b+" < "+d+".length; "+b+"++) { ";h.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers,true);var D=d+"["+b+"]";h.dataPathArr[y]=b;var _=e.validate(h);h.baseId=w;if(e.util.varOccurences(_,g)<2){t+=" "+e.util.varReplace(_,g,D)+" "}else{t+=" var "+g+" = "+D+"; "+_+" "}if(l){t+=" if (!"+v+") break; "}t+=" } }  ";if(l){t+=" if ("+v+") { ";p+="}"}}}else if(e.opts.strictKeywords?typeof s=="object"&&Object.keys(s).length>0:e.util.schemaHasRules(s,e.RULES.all)){h.schema=s;h.schemaPath=f;h.errSchemaPath=c;t+="  for (var "+b+" = "+0+"; "+b+" < "+d+".length; "+b+"++) { ";h.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers,true);var D=d+"["+b+"]";h.dataPathArr[y]=b;var _=e.validate(h);h.baseId=w;if(e.util.varOccurences(_,g)<2){t+=" "+e.util.varReplace(_,g,D)+" "}else{t+=" var "+g+" = "+D+"; "+_+" "}if(l){t+=" if (!"+v+") break; "}t+=" }"}if(l){t+=" "+p+" if ("+u+" == errors) {"}return t}},function(e,r,n){var t=n(129),i=n(658);function hasIn(e,r){return e!=null&&i(e,r,t)}e.exports=hasIn},function(e){function arraySome(e,r){var n=-1,t=e==null?0:e.length;while(++n<t){if(r(e[n],n,e)){return true}}return false}e.exports=arraySome},function(e,r,n){var t=n(799),i=n(58),a=n(334),s=n(928);var f=/[\\^$.*+?()[\]{}|]/g;var c=/^\[object .+?Constructor\]$/;var l=Function.prototype,d=Object.prototype;var o=l.toString;var u=d.hasOwnProperty;var h=RegExp("^"+o.call(u).replace(f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){if(!a(e)||i(e)){return false}var r=t(e)?h:c;return r.test(s(e))}e.exports=baseIsNative},function(e){"use strict";var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,n){for(var t=0;t<n.length;t++){e=JSON.parse(JSON.stringify(e));var i=n[t].split("/");var a=e;var s;for(s=1;s<i.length;s++)a=a[i[s]];for(s=0;s<r.length;s++){var f=r[s];var c=a[f];if(c){a[f]={anyOf:[c,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}}}}return e}},,,,function(e,r,n){var t=n(479);var i=function(){try{var e=t(Object,"defineProperty");e({},"",{});return e}catch(e){}}();e.exports=i},function(e,r,n){var t=n(41);function hashClear(){this.__data__=t?t(null):{};this.size=0}e.exports=hashClear},,,function(e){"use strict";e.exports=function generate_required(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d="data"+(a||"");var o="valid"+i;var u=e.opts.$data&&s&&s.$data,h;if(u){t+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ";h="schema"+i}else{h=s}var p="schema"+i;if(!u){if(s.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var v=[];var b=s;if(b){var y,g=-1,w=b.length-1;while(g<w){y=b[g+=1];var m=e.schema.properties[y];if(!(m&&(e.opts.strictKeywords?typeof m=="object"&&Object.keys(m).length>0:e.util.schemaHasRules(m,e.RULES.all)))){v[v.length]=y}}}}else{var v=s}}if(u||v.length){var A=e.errorPath,E=u||v.length>=e.opts.loopRequired,S=e.opts.ownProperties;if(l){t+=" var missing"+i+"; ";if(E){if(!u){t+=" var "+p+" = validate.schema"+f+"; "}var k="i"+i,R="schema"+i+"["+k+"]",M="' + "+R+" + '";if(e.opts._errorDataPathProperty){e.errorPath=e.util.getPathExpr(A,R,e.opts.jsonPointers)}t+=" var "+o+" = true; ";if(u){t+=" if (schema"+i+" === undefined) "+o+" = true; else if (!Array.isArray(schema"+i+")) "+o+" = false; else {"}t+=" for (var "+k+" = 0; "+k+" < "+p+".length; "+k+"++) { "+o+" = "+d+"["+p+"["+k+"]] !== undefined ";if(S){t+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+p+"["+k+"]) "}t+="; if (!"+o+") break; } ";if(u){t+="  }  "}t+="  if (!"+o+") {   ";var C=C||[];C.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+M+"' } ";if(e.opts.messages!==false){t+=" , message: '";if(e.opts._errorDataPathProperty){t+="is a required property"}else{t+="should have required property \\'"+M+"\\'"}t+="' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}var D=t;t=C.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+D+"]); "}else{t+=" validate.errors = ["+D+"]; return false; "}}else{t+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+=" } else { "}else{t+=" if ( ";var _=v;if(_){var j,k=-1,B=_.length-1;while(k<B){j=_[k+=1];if(k){t+=" || "}var q=e.util.getProperty(j),U=d+q;t+=" ( ( "+U+" === undefined ";if(S){t+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(j)+"') "}t+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?j:q)+") ) "}}t+=") {  ";var R="missing"+i,M="' + "+R+" + '";if(e.opts._errorDataPathProperty){e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(A,R,true):A+" + "+R}var C=C||[];C.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+M+"' } ";if(e.opts.messages!==false){t+=" , message: '";if(e.opts._errorDataPathProperty){t+="is a required property"}else{t+="should have required property \\'"+M+"\\'"}t+="' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}var D=t;t=C.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+D+"]); "}else{t+=" validate.errors = ["+D+"]; return false; "}}else{t+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+=" } else { "}}else{if(E){if(!u){t+=" var "+p+" = validate.schema"+f+"; "}var k="i"+i,R="schema"+i+"["+k+"]",M="' + "+R+" + '";if(e.opts._errorDataPathProperty){e.errorPath=e.util.getPathExpr(A,R,e.opts.jsonPointers)}if(u){t+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ";if(e.createErrors!==false){t+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+M+"' } ";if(e.opts.messages!==false){t+=" , message: '";if(e.opts._errorDataPathProperty){t+="is a required property"}else{t+="should have required property \\'"+M+"\\'"}t+="' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "}t+=" for (var "+k+" = 0; "+k+" < "+p+".length; "+k+"++) { if ("+d+"["+p+"["+k+"]] === undefined ";if(S){t+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+p+"["+k+"]) "}t+=") {  var err =   ";if(e.createErrors!==false){t+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+M+"' } ";if(e.opts.messages!==false){t+=" , message: '";if(e.opts._errorDataPathProperty){t+="is a required property"}else{t+="should have required property \\'"+M+"\\'"}t+="' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ";if(u){t+="  }  "}}else{var x=v;if(x){var j,I=-1,K=x.length-1;while(I<K){j=x[I+=1];var q=e.util.getProperty(j),M=e.util.escapeQuotes(j),U=d+q;if(e.opts._errorDataPathProperty){e.errorPath=e.util.getPath(A,j,e.opts.jsonPointers)}t+=" if ( "+U+" === undefined ";if(S){t+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(j)+"') "}t+=") {  var err =   ";if(e.createErrors!==false){t+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+M+"' } ";if(e.opts.messages!==false){t+=" , message: '";if(e.opts._errorDataPathProperty){t+="is a required property"}else{t+="should have required property \\'"+M+"\\'"}t+="' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}}}e.errorPath=A}else if(l){t+=" if (true) {"}return t}},,function(e,r,n){var t=n(885);var i=500;function memoizeCapped(e){var r=t(e,function(e){if(n.size===i){n.clear()}return e});var n=r.cache;return r}e.exports=memoizeCapped},,,,function(e,r,n){"use strict";var t=n(136);function Mark(e,r,n,t,i){this.name=e;this.buffer=r;this.position=n;this.line=t;this.column=i}Mark.prototype.getSnippet=function getSnippet(e,r){var n,i,a,s,f;if(!this.buffer)return null;e=e||4;r=r||75;n="";i=this.position;while(i>0&&"\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1))===-1){i-=1;if(this.position-i>r/2-1){n=" ... ";i+=5;break}}a="";s=this.position;while(s<this.buffer.length&&"\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(s))===-1){s+=1;if(s-this.position>r/2-1){a=" ... ";s-=5;break}}f=this.buffer.slice(i,s);return t.repeat(" ",e)+n+f+a+"\n"+t.repeat(" ",e+this.position-i+n.length)+"^"};Mark.prototype.toString=function toString(e){var r,n="";if(this.name){n+='in "'+this.name+'" '}n+="at line "+(this.line+1)+", column "+(this.column+1);if(!e){r=this.getSnippet();if(r){n+=":\n"+r}}return n};e.exports=Mark},function(e,r,n){var t=n(599),i=n(908),a=n(822),s=n(869),f=n(253);function baseIteratee(e){if(typeof e=="function"){return e}if(e==null){return a}if(typeof e=="object"){return s(e)?i(e[0],e[1]):t(e)}return f(e)}e.exports=baseIteratee},,,,,,,,,,,,,,,,function(e){"use strict";e.exports=function generate_allOf(e,r,n){var t=" ";var i=e.schema[r];var a=e.schemaPath+e.util.getProperty(r);var s=e.errSchemaPath+"/"+r;var f=!e.opts.allErrors;var c=e.util.copy(e);var l="";c.level++;var d="valid"+c.level;var o=c.baseId,u=true;var h=i;if(h){var p,v=-1,b=h.length-1;while(v<b){p=h[v+=1];if(e.opts.strictKeywords?typeof p=="object"&&Object.keys(p).length>0:e.util.schemaHasRules(p,e.RULES.all)){u=false;c.schema=p;c.schemaPath=a+"["+v+"]";c.errSchemaPath=s+"/"+v;t+="  "+e.validate(c)+" ";c.baseId=o;if(f){t+=" if ("+d+") { ";l+="}"}}}}if(f){if(u){t+=" if (true) { "}else{t+=" "+l.slice(0,-1)+" "}}return t}},,,function(e,r,n){var t=n(946),i=n(416),a=n(822);var s=!i?a:function(e,r){return i(e,"toString",{configurable:true,enumerable:false,value:t(r),writable:true})};e.exports=s},,,,,,function(e,r,n){var t=n(594),i=n(645);function getMatchData(e){var r=i(e),n=r.length;while(n--){var a=r[n],s=e[a];r[n]=[a,s,t(s)]}return r}e.exports=getMatchData},,,,,,function(e,r,n){"use strict";var t=n(278);e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:t.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:t.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},,,,,,,,,,,,function(e,r,n){var t=n(41);var i="__lodash_hash_undefined__";function hashSet(e,r){var n=this.__data__;this.size+=this.has(e)?0:1;n[e]=t&&r===undefined?i:r;return this}e.exports=hashSet},,,,,function(e,r,n){var t=n(213),i=n(356),a=n(869),s=n(403);var f=1/0;var c=t?t.prototype:undefined,l=c?c.toString:undefined;function baseToString(e){if(typeof e=="string"){return e}if(a(e)){return i(e,baseToString)+""}if(s(e)){return l?l.call(e):""}var r=e+"";return r=="0"&&1/e==-f?"-0":r}e.exports=baseToString},,,,function(e,r,n){var t=n(411),i=n(542);function getNative(e,r){var n=i(e,r);return t(n)?n:undefined}e.exports=getNative},,,function(e,r,n){var t=n(901),i=n(17),a=n(936),s=n(334);function isIterateeCall(e,r,n){if(!s(n)){return false}var f=typeof r;if(f=="number"?i(n)&&a(r,n.length):f=="string"&&r in n){return t(n[r],e)}return false}e.exports=isIterateeCall},,,,,,,,function(e,r,n){"use strict";var t=n(967);e.exports=new t("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})},,,,function(e,r,n){var t=n(987),i=n(926);function baseIsEqual(e,r,n,a,s){if(e===r){return true}if(e==null||r==null||!i(e)&&!i(r)){return e!==e&&r!==r}return t(e,r,n,a,baseIsEqual,s)}e.exports=baseIsEqual},function(e,r,n){var t=n(177),i=n(926);var a=Object.prototype;var s=a.hasOwnProperty;var f=a.propertyIsEnumerable;var c=t(function(){return arguments}())?t:function(e){return i(e)&&s.call(e,"callee")&&!f.call(e,"callee")};e.exports=c},function(e,r,n){var t=n(528),i=n(258),a=n(643);var s=a&&a.isTypedArray;var f=s?i(s):t;e.exports=f},function(e,r,n){var t=n(213),i=n(923),a=n(200);var s="[object Null]",f="[object Undefined]";var c=t?t.toStringTag:undefined;function baseGetTag(e){if(e==null){return e===undefined?f:s}return c&&c in Object(e)?i(e):a(e)}e.exports=baseGetTag},,,,,,,,,,,,function(e){function matchesStrictComparable(e,r){return function(n){if(n==null){return false}return n[e]===r&&(r!==undefined||e in Object(n))}}e.exports=matchesStrictComparable},,,,,function(e,r,n){"use strict";var t=n(136);var i=n(199);var a=n(967);function compileList(e,r,n){var t=[];e.include.forEach(function(e){n=compileList(e,r,n)});e[r].forEach(function(e){n.forEach(function(r,n){if(r.tag===e.tag&&r.kind===e.kind){t.push(n)}});n.push(e)});return n.filter(function(e,r){return t.indexOf(r)===-1})}function compileMap(){var e={scalar:{},sequence:{},mapping:{},fallback:{}},r,n;function collectType(r){e[r.kind][r.tag]=e["fallback"][r.tag]=r}for(r=0,n=arguments.length;r<n;r+=1){arguments[r].forEach(collectType)}return e}function Schema(e){this.include=e.include||[];this.implicit=e.implicit||[];this.explicit=e.explicit||[];this.implicit.forEach(function(e){if(e.loadKind&&e.loadKind!=="scalar"){throw new i("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}});this.compiledImplicit=compileList(this,"implicit",[]);this.compiledExplicit=compileList(this,"explicit",[]);this.compiledTypeMap=compileMap(this.compiledImplicit,this.compiledExplicit)}Schema.DEFAULT=null;Schema.create=function createSchema(){var e,r;switch(arguments.length){case 1:e=Schema.DEFAULT;r=arguments[0];break;case 2:e=arguments[0];r=arguments[1];break;default:throw new i("Wrong number of arguments for Schema.create function")}e=t.toArray(e);r=t.toArray(r);if(!e.every(function(e){return e instanceof Schema})){throw new i("Specified list of super schemas (or a single Schema object) contains a non-Schema object.")}if(!r.every(function(e){return e instanceof a})){throw new i("Specified list of YAML types (or a single Type object) contains a non-Type object.")}return new Schema({include:e,explicit:r})};e.exports=Schema},,,,,,,,,,function(e,r,n){var t=n(236);function baseAggregator(e,r,n,i){t(e,function(e,t,a){r(i,e,n(e),a)});return i}e.exports=baseAggregator},,,,function(e,r,n){var t=n(497),i=n(530),a=n(926);var s="[object Arguments]",f="[object Array]",c="[object Boolean]",l="[object Date]",d="[object Error]",o="[object Function]",u="[object Map]",h="[object Number]",p="[object Object]",v="[object RegExp]",b="[object Set]",y="[object String]",g="[object WeakMap]";var w="[object ArrayBuffer]",m="[object DataView]",A="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",k="[object Int16Array]",R="[object Int32Array]",M="[object Uint8Array]",C="[object Uint8ClampedArray]",D="[object Uint16Array]",_="[object Uint32Array]";var j={};j[A]=j[E]=j[S]=j[k]=j[R]=j[M]=j[C]=j[D]=j[_]=true;j[s]=j[f]=j[w]=j[c]=j[m]=j[l]=j[d]=j[o]=j[u]=j[h]=j[p]=j[v]=j[b]=j[y]=j[g]=false;function baseIsTypedArray(e){return a(e)&&i(e.length)&&!!j[t(e)]}e.exports=baseIsTypedArray},,function(e){var r=9007199254740991;function isLength(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=r}e.exports=isLength},,,function(e){"use strict";var r=e.exports=function(e,r,n){if(typeof r=="function"){n=r;r={}}n=r.cb||n;var t=typeof n=="function"?n:n.pre||function(){};var i=n.post||function(){};_traverse(r,t,i,e,"",e)};r.keywords={additionalItems:true,items:true,contains:true,additionalProperties:true,propertyNames:true,not:true};r.arrayKeywords={items:true,allOf:true,anyOf:true,oneOf:true};r.propsKeywords={definitions:true,properties:true,patternProperties:true,dependencies:true};r.skipKeywords={default:true,enum:true,const:true,required:true,maximum:true,minimum:true,exclusiveMaximum:true,exclusiveMinimum:true,multipleOf:true,maxLength:true,minLength:true,pattern:true,format:true,maxItems:true,minItems:true,uniqueItems:true,maxProperties:true,minProperties:true};function _traverse(e,n,t,i,a,s,f,c,l,d){if(i&&typeof i=="object"&&!Array.isArray(i)){n(i,a,s,f,c,l,d);for(var o in i){var u=i[o];if(Array.isArray(u)){if(o in r.arrayKeywords){for(var h=0;h<u.length;h++)_traverse(e,n,t,u[h],a+"/"+o+"/"+h,s,a,o,i,h)}}else if(o in r.propsKeywords){if(u&&typeof u=="object"){for(var p in u)_traverse(e,n,t,u[p],a+"/"+o+"/"+escapeJsonPtr(p),s,a,o,i,p)}}else if(o in r.keywords||e.allKeys&&!(o in r.skipKeywords)){_traverse(e,n,t,u,a+"/"+o,s,a,o,i)}}t(i,a,s,f,c,l,d)}}function escapeJsonPtr(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}},,,,,,,,,function(e){function getValue(e,r){return e==null?undefined:e[r]}e.exports=getValue},,,,,,,,,function(e,r,n){"use strict";var t;try{var i=require;t=i("buffer").Buffer}catch(e){}var a=n(967);var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function resolveYamlBinary(e){if(e===null)return false;var r,n,t=0,i=e.length,a=s;for(n=0;n<i;n++){r=a.indexOf(e.charAt(n));if(r>64)continue;if(r<0)return false;t+=6}return t%8===0}function constructYamlBinary(e){var r,n,i=e.replace(/[\r\n=]/g,""),a=i.length,f=s,c=0,l=[];for(r=0;r<a;r++){if(r%4===0&&r){l.push(c>>16&255);l.push(c>>8&255);l.push(c&255)}c=c<<6|f.indexOf(i.charAt(r))}n=a%4*6;if(n===0){l.push(c>>16&255);l.push(c>>8&255);l.push(c&255)}else if(n===18){l.push(c>>10&255);l.push(c>>2&255)}else if(n===12){l.push(c>>4&255)}if(t){return t.from?t.from(l):new t(l)}return l}function representYamlBinary(e){var r="",n=0,t,i,a=e.length,f=s;for(t=0;t<a;t++){if(t%3===0&&t){r+=f[n>>18&63];r+=f[n>>12&63];r+=f[n>>6&63];r+=f[n&63]}n=(n<<8)+e[t]}i=a%3;if(i===0){r+=f[n>>18&63];r+=f[n>>12&63];r+=f[n>>6&63];r+=f[n&63]}else if(i===2){r+=f[n>>10&63];r+=f[n>>4&63];r+=f[n<<2&63];r+=f[64]}else if(i===1){r+=f[n>>2&63];r+=f[n<<4&63];r+=f[64];r+=f[64]}return r}function isBinary(e){return t&&t.isBuffer(e)}e.exports=new a("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary})},,function(e){function setToArray(e){var r=-1,n=Array(e.size);e.forEach(function(e){n[++r]=e});return n}e.exports=setToArray},,,,,,,,function(e,r,n){"use strict";var t=n(810),i=n(578).toHash;e.exports=function rules(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}];var r=["type","$comment"];var n=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"];var a=["number","integer","string","array","object","boolean","null"];e.all=i(r);e.types=i(a);e.forEach(function(n){n.rules=n.rules.map(function(n){var i;if(typeof n=="object"){var a=Object.keys(n)[0];i=n[a];n=a;i.forEach(function(n){r.push(n);e.all[n]=true})}r.push(n);var s=e.all[n]={keyword:n,code:t[n],implements:i};return s});e.all.$comment={keyword:"$comment",code:t.$comment};if(n.type)e.types[n.type]=n});e.keywords=i(r.concat(n));e.custom={};return e}},,,function(e,r,n){"use strict";var t=n(136);var i=n(967);var a=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?"+"|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?"+"|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*"+"|[-+]?\\.(?:inf|Inf|INF)"+"|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(e){if(e===null)return false;if(!a.test(e)||e[e.length-1]==="_"){return false}return true}function constructYamlFloat(e){var r,n,t,i;r=e.replace(/_/g,"").toLowerCase();n=r[0]==="-"?-1:1;i=[];if("+-".indexOf(r[0])>=0){r=r.slice(1)}if(r===".inf"){return n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY}else if(r===".nan"){return NaN}else if(r.indexOf(":")>=0){r.split(":").forEach(function(e){i.unshift(parseFloat(e,10))});r=0;t=1;i.forEach(function(e){r+=e*t;t*=60});return n*r}return n*parseFloat(r,10)}var s=/^[-+]?[0-9]+e/;function representYamlFloat(e,r){var n;if(isNaN(e)){switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}}else if(Number.POSITIVE_INFINITY===e){switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}}else if(Number.NEGATIVE_INFINITY===e){switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}}else if(t.isNegativeZero(e)){return"-0.0"}n=e.toString(10);return s.test(n)?n.replace("e",".e"):n}function isFloat(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||t.isNegativeZero(e))}e.exports=new i("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"})},,,,,,,function(e,r,n){"use strict";var t=n(514);e.exports=new t({include:[n(37)],implicit:[n(185),n(100),n(963),n(564)]})},,,,,,,function(e,r,n){"use strict";e.exports={copy:copy,checkDataType:checkDataType,checkDataTypes:checkDataTypes,coerceToTypes:coerceToTypes,toHash:toHash,getProperty:getProperty,escapeQuotes:escapeQuotes,equal:n(206),ucs2length:n(580),varOccurences:varOccurences,varReplace:varReplace,schemaHasRules:schemaHasRules,schemaHasRulesExcept:schemaHasRulesExcept,schemaUnknownRules:schemaUnknownRules,toQuotedString:toQuotedString,getPathExpr:getPathExpr,getPath:getPath,getData:getData,unescapeFragment:unescapeFragment,unescapeJsonPointer:unescapeJsonPointer,escapeFragment:escapeFragment,escapeJsonPointer:escapeJsonPointer};function copy(e,r){r=r||{};for(var n in e)r[n]=e[n];return r}function checkDataType(e,r,n,t){var i=t?" !== ":" === ",a=t?" || ":" && ",s=t?"!":"",f=t?"":"!";switch(e){case"null":return r+i+"null";case"array":return s+"Array.isArray("+r+")";case"object":return"("+s+r+a+"typeof "+r+i+'"object"'+a+f+"Array.isArray("+r+"))";case"integer":return"(typeof "+r+i+'"number"'+a+f+"("+r+" % 1)"+a+r+i+r+(n?a+s+"isFinite("+r+")":"")+")";case"number":return"(typeof "+r+i+'"'+e+'"'+(n?a+s+"isFinite("+r+")":"")+")";default:return"typeof "+r+i+'"'+e+'"'}}function checkDataTypes(e,r,n){switch(e.length){case 1:return checkDataType(e[0],r,n,true);default:var t="";var i=toHash(e);if(i.array&&i.object){t=i.null?"(":"(!"+r+" || ";t+="typeof "+r+' !== "object")';delete i.null;delete i.array;delete i.object}if(i.number)delete i.integer;for(var a in i)t+=(t?" && ":"")+checkDataType(a,r,n,true);return t}}var t=toHash(["string","number","integer","boolean","null"]);function coerceToTypes(e,r){if(Array.isArray(r)){var n=[];for(var i=0;i<r.length;i++){var a=r[i];if(t[a])n[n.length]=a;else if(e==="array"&&a==="array")n[n.length]=a}if(n.length)return n}else if(t[r]){return[r]}else if(e==="array"&&r==="array"){return["array"]}}function toHash(e){var r={};for(var n=0;n<e.length;n++)r[e[n]]=true;return r}var i=/^[a-z$_][a-z$_0-9]*$/i;var a=/'|\\/g;function getProperty(e){return typeof e=="number"?"["+e+"]":i.test(e)?"."+e:"['"+escapeQuotes(e)+"']"}function escapeQuotes(e){return e.replace(a,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function varOccurences(e,r){r+="[^0-9]";var n=e.match(new RegExp(r,"g"));return n?n.length:0}function varReplace(e,r,n){r+="([^0-9])";n=n.replace(/\$/g,"$$$$");return e.replace(new RegExp(r,"g"),n+"$1")}function schemaHasRules(e,r){if(typeof e=="boolean")return!e;for(var n in e)if(r[n])return true}function schemaHasRulesExcept(e,r,n){if(typeof e=="boolean")return!e&&n!="not";for(var t in e)if(t!=n&&r[t])return true}function schemaUnknownRules(e,r){if(typeof e=="boolean")return;for(var n in e)if(!r[n])return n}function toQuotedString(e){return"'"+escapeQuotes(e)+"'"}function getPathExpr(e,r,n,t){var i=n?"'/' + "+r+(t?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):t?"'[' + "+r+" + ']'":"'[\\'' + "+r+" + '\\']'";return joinPaths(e,i)}function getPath(e,r,n){var t=n?toQuotedString("/"+escapeJsonPointer(r)):toQuotedString(getProperty(r));return joinPaths(e,t)}var s=/^\/(?:[^~]|~0|~1)*$/;var f=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function getData(e,r,n){var t,i,a,c;if(e==="")return"rootData";if(e[0]=="/"){if(!s.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e;a="rootData"}else{c=e.match(f);if(!c)throw new Error("Invalid JSON-pointer: "+e);t=+c[1];i=c[2];if(i=="#"){if(t>=r)throw new Error("Cannot access property/index "+t+" levels up, current level is "+r);return n[r-t]}if(t>r)throw new Error("Cannot access data "+t+" levels up, current level is "+r);a="data"+(r-t||"");if(!i)return a}var l=a;var d=i.split("/");for(var o=0;o<d.length;o++){var u=d[o];if(u){a+=getProperty(unescapeJsonPointer(u));l+=" && "+a}}return l}function joinPaths(e,r){if(e=='""')return r;return(e+" + "+r).replace(/([^\\])' \+ '/g,"$1")}function unescapeFragment(e){return unescapeJsonPointer(decodeURIComponent(e))}function escapeFragment(e){return encodeURIComponent(escapeJsonPointer(e))}function escapeJsonPointer(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function unescapeJsonPointer(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},,function(e){"use strict";e.exports=function ucs2length(e){var r=0,n=e.length,t=0,i;while(t<n){r++;i=e.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){i=e.charCodeAt(t);if((i&64512)==56320)t++}}return r}},,function(e,r,n){var t=n(980);function mapCacheSet(e,r){var n=t(this,e),i=n.size;n.set(e,r);this.size+=n.size==i?0:1;return this}e.exports=mapCacheSet},,,function(e){"use strict";e.exports=function generate_validate(e,r,n){var t="";var i=e.schema.$async===true,a=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),s=e.self._getId(e.schema);if(e.opts.strictKeywords){var f=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(f){var c="unknown keyword: "+f;if(e.opts.strictKeywords==="log")e.logger.warn(c);else throw new Error(c)}}if(e.isTop){t+=" var validate = ";if(i){e.async=true;t+="async "}t+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ";if(s&&(e.opts.sourceCode||e.opts.processCode)){t+=" "+("/*# sourceURL="+s+" */")+" "}}if(typeof e.schema=="boolean"||!(a||e.schema.$ref)){var r="false schema";var l=e.level;var d=e.dataLevel;var o=e.schema[r];var u=e.schemaPath+e.util.getProperty(r);var h=e.errSchemaPath+"/"+r;var p=!e.opts.allErrors;var v;var b="data"+(d||"");var y="valid"+l;if(e.schema===false){if(e.isTop){p=true}else{t+=" var "+y+" = false; "}var g=g||[];g.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+(v||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: {} ";if(e.opts.messages!==false){t+=" , message: 'boolean schema is false' "}if(e.opts.verbose){t+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+b+" "}t+=" } "}else{t+=" {} "}var w=t;t=g.pop();if(!e.compositeRule&&p){if(e.async){t+=" throw new ValidationError(["+w+"]); "}else{t+=" validate.errors = ["+w+"]; return false; "}}else{t+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}}else{if(e.isTop){if(i){t+=" return data; "}else{t+=" validate.errors = null; return true; "}}else{t+=" var "+y+" = true; "}}if(e.isTop){t+=" }; return validate; "}return t}if(e.isTop){var m=e.isTop,l=e.level=0,d=e.dataLevel=0,b="data";e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema));e.baseId=e.baseId||e.rootId;delete e.isTop;e.dataPathArr=[undefined];if(e.schema.default!==undefined&&e.opts.useDefaults&&e.opts.strictDefaults){var A="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(A);else throw new Error(A)}t+=" var vErrors = null; ";t+=" var errors = 0;     ";t+=" if (rootData === undefined) rootData = data; "}else{var l=e.level,d=e.dataLevel,b="data"+(d||"");if(s)e.baseId=e.resolve.url(e.baseId,s);if(i&&!e.async)throw new Error("async schema in sync schema");t+=" var errs_"+l+" = errors;"}var y="valid"+l,p=!e.opts.allErrors,E="",S="";var v;var k=e.schema.type,R=Array.isArray(k);if(k&&e.opts.nullable&&e.schema.nullable===true){if(R){if(k.indexOf("null")==-1)k=k.concat("null")}else if(k!="null"){k=[k,"null"];R=true}}if(R&&k.length==1){k=k[0];R=false}if(e.schema.$ref&&a){if(e.opts.extendRefs=="fail"){throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)')}else if(e.opts.extendRefs!==true){a=false;e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"')}}if(e.schema.$comment&&e.opts.$comment){t+=" "+e.RULES.all.$comment.code(e,"$comment")}if(k){if(e.opts.coerceTypes){var M=e.util.coerceToTypes(e.opts.coerceTypes,k)}var C=e.RULES.types[k];if(M||R||C===true||C&&!$shouldUseGroup(C)){var u=e.schemaPath+".type",h=e.errSchemaPath+"/type";var u=e.schemaPath+".type",h=e.errSchemaPath+"/type",D=R?"checkDataTypes":"checkDataType";t+=" if ("+e.util[D](k,b,e.opts.strictNumbers,true)+") { ";if(M){var _="dataType"+l,j="coerced"+l;t+=" var "+_+" = typeof "+b+"; var "+j+" = undefined; ";if(e.opts.coerceTypes=="array"){t+=" if ("+_+" == 'object' && Array.isArray("+b+") && "+b+".length == 1) { "+b+" = "+b+"[0]; "+_+" = typeof "+b+"; if ("+e.util.checkDataType(e.schema.type,b,e.opts.strictNumbers)+") "+j+" = "+b+"; } "}t+=" if ("+j+" !== undefined) ; ";var B=M;if(B){var q,U=-1,x=B.length-1;while(U<x){q=B[U+=1];if(q=="string"){t+=" else if ("+_+" == 'number' || "+_+" == 'boolean') "+j+" = '' + "+b+"; else if ("+b+" === null) "+j+" = ''; "}else if(q=="number"||q=="integer"){t+=" else if ("+_+" == 'boolean' || "+b+" === null || ("+_+" == 'string' && "+b+" && "+b+" == +"+b+" ";if(q=="integer"){t+=" && !("+b+" % 1)"}t+=")) "+j+" = +"+b+"; "}else if(q=="boolean"){t+=" else if ("+b+" === 'false' || "+b+" === 0 || "+b+" === null) "+j+" = false; else if ("+b+" === 'true' || "+b+" === 1) "+j+" = true; "}else if(q=="null"){t+=" else if ("+b+" === '' || "+b+" === 0 || "+b+" === false) "+j+" = null; "}else if(e.opts.coerceTypes=="array"&&q=="array"){t+=" else if ("+_+" == 'string' || "+_+" == 'number' || "+_+" == 'boolean' || "+b+" == null) "+j+" = ["+b+"]; "}}}t+=" else {   ";var g=g||[];g.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+(v||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '";if(R){t+=""+k.join(",")}else{t+=""+k}t+="' } ";if(e.opts.messages!==false){t+=" , message: 'should be ";if(R){t+=""+k.join(",")}else{t+=""+k}t+="' "}if(e.opts.verbose){t+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+b+" "}t+=" } "}else{t+=" {} "}var w=t;t=g.pop();if(!e.compositeRule&&p){if(e.async){t+=" throw new ValidationError(["+w+"]); "}else{t+=" validate.errors = ["+w+"]; return false; "}}else{t+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+=" } if ("+j+" !== undefined) {  ";var I=d?"data"+(d-1||""):"parentData",K=d?e.dataPathArr[d]:"parentDataProperty";t+=" "+b+" = "+j+"; ";if(!d){t+="if ("+I+" !== undefined)"}t+=" "+I+"["+K+"] = "+j+"; } "}else{var g=g||[];g.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+(v||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '";if(R){t+=""+k.join(",")}else{t+=""+k}t+="' } ";if(e.opts.messages!==false){t+=" , message: 'should be ";if(R){t+=""+k.join(",")}else{t+=""+k}t+="' "}if(e.opts.verbose){t+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+b+" "}t+=" } "}else{t+=" {} "}var w=t;t=g.pop();if(!e.compositeRule&&p){if(e.async){t+=" throw new ValidationError(["+w+"]); "}else{t+=" validate.errors = ["+w+"]; return false; "}}else{t+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}}t+=" } "}}if(e.schema.$ref&&!a){t+=" "+e.RULES.all.$ref.code(e,"$ref")+" ";if(p){t+=" } if (errors === ";if(m){t+="0"}else{t+="errs_"+l}t+=") { ";S+="}"}}else{var O=e.RULES;if(O){var C,F=-1,P=O.length-1;while(F<P){C=O[F+=1];if($shouldUseGroup(C)){if(C.type){t+=" if ("+e.util.checkDataType(C.type,b,e.opts.strictNumbers)+") { "}if(e.opts.useDefaults){if(C.type=="object"&&e.schema.properties){var o=e.schema.properties,T=Object.keys(o);var N=T;if(N){var z,L=-1,W=N.length-1;while(L<W){z=N[L+=1];var H=o[z];if(H.default!==undefined){var G=b+e.util.getProperty(z);if(e.compositeRule){if(e.opts.strictDefaults){var A="default is ignored for: "+G;if(e.opts.strictDefaults==="log")e.logger.warn(A);else throw new Error(A)}}else{t+=" if ("+G+" === undefined ";if(e.opts.useDefaults=="empty"){t+=" || "+G+" === null || "+G+" === '' "}t+=" ) "+G+" = ";if(e.opts.useDefaults=="shared"){t+=" "+e.useDefault(H.default)+" "}else{t+=" "+JSON.stringify(H.default)+" "}t+="; "}}}}}else if(C.type=="array"&&Array.isArray(e.schema.items)){var J=e.schema.items;if(J){var H,U=-1,Y=J.length-1;while(U<Y){H=J[U+=1];if(H.default!==undefined){var G=b+"["+U+"]";if(e.compositeRule){if(e.opts.strictDefaults){var A="default is ignored for: "+G;if(e.opts.strictDefaults==="log")e.logger.warn(A);else throw new Error(A)}}else{t+=" if ("+G+" === undefined ";if(e.opts.useDefaults=="empty"){t+=" || "+G+" === null || "+G+" === '' "}t+=" ) "+G+" = ";if(e.opts.useDefaults=="shared"){t+=" "+e.useDefault(H.default)+" "}else{t+=" "+JSON.stringify(H.default)+" "}t+="; "}}}}}}var Q=C.rules;if(Q){var Z,X=-1,V=Q.length-1;while(X<V){Z=Q[X+=1];if($shouldUseRule(Z)){var $=Z.code(e,Z.keyword,C.type);if($){t+=" "+$+" ";if(p){E+="}"}}}}}if(p){t+=" "+E+" ";E=""}if(C.type){t+=" } ";if(k&&k===C.type&&!M){t+=" else { ";var u=e.schemaPath+".type",h=e.errSchemaPath+"/type";var g=g||[];g.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+(v||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '";if(R){t+=""+k.join(",")}else{t+=""+k}t+="' } ";if(e.opts.messages!==false){t+=" , message: 'should be ";if(R){t+=""+k.join(",")}else{t+=""+k}t+="' "}if(e.opts.verbose){t+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+b+" "}t+=" } "}else{t+=" {} "}var w=t;t=g.pop();if(!e.compositeRule&&p){if(e.async){t+=" throw new ValidationError(["+w+"]); "}else{t+=" validate.errors = ["+w+"]; return false; "}}else{t+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+=" } "}}if(p){t+=" if (errors === ";if(m){t+="0"}else{t+="errs_"+l}t+=") { ";S+="}"}}}}}if(p){t+=" "+S+" "}if(m){if(i){t+=" if (errors === 0) return data;           ";t+=" else throw new ValidationError(vErrors); "}else{t+=" validate.errors = vErrors; ";t+=" return errors === 0;       "}t+=" }; return validate;"}else{t+=" var "+y+" = errors === errs_"+l+";"}function $shouldUseGroup(e){var r=e.rules;for(var n=0;n<r.length;n++)if($shouldUseRule(r[n]))return true}function $shouldUseRule(r){return e.schema[r.keyword]!==undefined||r.implements&&$ruleImplementsSomeKeyword(r)}function $ruleImplementsSomeKeyword(r){var n=r.implements;for(var t=0;t<n.length;t++)if(e.schema[n[t]]!==undefined)return true}return t}},,,function(e,r,n){var t=n(709);var i=t();e.exports=i},,,function(e){"use strict";e.exports=function generate_dependencies(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d="data"+(a||"");var o="errs__"+i;var u=e.util.copy(e);var h="";u.level++;var p="valid"+u.level;var v={},b={},y=e.opts.ownProperties;for(A in s){if(A=="__proto__")continue;var g=s[A];var w=Array.isArray(g)?b:v;w[A]=g}t+="var "+o+" = errors;";var m=e.errorPath;t+="var missing"+i+";";for(var A in b){w=b[A];if(w.length){t+=" if ( "+d+e.util.getProperty(A)+" !== undefined ";if(y){t+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(A)+"') "}if(l){t+=" && ( ";var E=w;if(E){var S,k=-1,R=E.length-1;while(k<R){S=E[k+=1];if(k){t+=" || "}var M=e.util.getProperty(S),C=d+M;t+=" ( ( "+C+" === undefined ";if(y){t+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(S)+"') "}t+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?S:M)+") ) "}}t+=")) {  ";var D="missing"+i,_="' + "+D+" + '";if(e.opts._errorDataPathProperty){e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(m,D,true):m+" + "+D}var j=j||[];j.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+"dependencies"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(A)+"', missingProperty: '"+_+"', depsCount: "+w.length+", deps: '"+e.util.escapeQuotes(w.length==1?w[0]:w.join(", "))+"' } ";if(e.opts.messages!==false){t+=" , message: 'should have ";if(w.length==1){t+="property "+e.util.escapeQuotes(w[0])}else{t+="properties "+e.util.escapeQuotes(w.join(", "))}t+=" when property "+e.util.escapeQuotes(A)+" is present' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}var B=t;t=j.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+B+"]); "}else{t+=" validate.errors = ["+B+"]; return false; "}}else{t+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}}else{t+=" ) { ";var q=w;if(q){var S,U=-1,x=q.length-1;while(U<x){S=q[U+=1];var M=e.util.getProperty(S),_=e.util.escapeQuotes(S),C=d+M;if(e.opts._errorDataPathProperty){e.errorPath=e.util.getPath(m,S,e.opts.jsonPointers)}t+=" if ( "+C+" === undefined ";if(y){t+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(S)+"') "}t+=") {  var err =   ";if(e.createErrors!==false){t+=" { keyword: '"+"dependencies"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(A)+"', missingProperty: '"+_+"', depsCount: "+w.length+", deps: '"+e.util.escapeQuotes(w.length==1?w[0]:w.join(", "))+"' } ";if(e.opts.messages!==false){t+=" , message: 'should have ";if(w.length==1){t+="property "+e.util.escapeQuotes(w[0])}else{t+="properties "+e.util.escapeQuotes(w.join(", "))}t+=" when property "+e.util.escapeQuotes(A)+" is present' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}}t+=" }   ";if(l){h+="}";t+=" else { "}}}e.errorPath=m;var I=u.baseId;for(var A in v){var g=v[A];if(e.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0:e.util.schemaHasRules(g,e.RULES.all)){t+=" "+p+" = true; if ( "+d+e.util.getProperty(A)+" !== undefined ";if(y){t+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(A)+"') "}t+=") { ";u.schema=g;u.schemaPath=f+e.util.getProperty(A);u.errSchemaPath=c+"/"+e.util.escapeFragment(A);t+="  "+e.validate(u)+" ";u.baseId=I;t+=" }  ";if(l){t+=" if ("+p+") { ";h+="}"}}}if(l){t+="   "+h+" if ("+o+" == errors) {"}return t}},,,function(e,r,n){var t=n(334);function isStrictComparable(e){return e===e&&!t(e)}e.exports=isStrictComparable},,,,,function(e,r,n){var t=n(124),i=n(452),a=n(509);function baseMatches(e){var r=i(e);if(r.length==1&&r[0][2]){return a(r[0][0],r[0][1])}return function(n){return n===e||t(n,e,r)}}e.exports=baseMatches},,,,,,function(e,r,n){"use strict";var t=n(578);e.exports=SchemaObject;function SchemaObject(e){t.copy(e,this)}},,,function(e,r,n){var t=n(792),i=n(716),a=n(789),s=n(386),f=n(399);function ListCache(e){var r=-1,n=e==null?0:e.length;this.clear();while(++r<n){var t=e[r];this.set(t[0],t[1])}}ListCache.prototype.clear=t;ListCache.prototype["delete"]=i;ListCache.prototype.get=a;ListCache.prototype.has=s;ListCache.prototype.set=f;e.exports=ListCache},function(e,r,n){var t=n(980);function mapCacheHas(e){return t(this,e).has(e)}e.exports=mapCacheHas},function(e,r,n){var t=n(902),i=n(608),a=n(881);function mapCacheClear(){this.size=0;this.__data__={hash:new t,map:new(a||i),string:new t}}e.exports=mapCacheClear},function(e,r,n){var t=n(868),i=n(327);var a=Object.prototype;var s=a.hasOwnProperty;var f=i(function(e,r,n){if(s.call(e,n)){e[n].push(r)}else{t(e,n,[r])}});e.exports=f},,,,,,,,,,,function(e){e.exports=require("path")},,,,,function(e,r,n){"use strict";var t=n(578);var i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/;var a=[0,31,28,31,30,31,30,31,31,30,31,30,31];var s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;var f=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i;var c=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;var l=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;var d=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i;var o=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i;var u=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;var h=/^(?:\/(?:[^~/]|~0|~1)*)*$/;var p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;var v=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;e.exports=formats;function formats(e){e=e=="full"?"full":"fast";return t.copy(formats[e])}formats.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":d,url:o,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:f,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:u,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":v};formats.full={date:date,time:time,"date-time":date_time,uri:uri,"uri-reference":l,"uri-template":d,url:o,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:f,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:u,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":v};function isLeapYear(e){return e%4===0&&(e%100!==0||e%400===0)}function date(e){var r=e.match(i);if(!r)return false;var n=+r[1];var t=+r[2];var s=+r[3];return t>=1&&t<=12&&s>=1&&s<=(t==2&&isLeapYear(n)?29:a[t])}function time(e,r){var n=e.match(s);if(!n)return false;var t=n[1];var i=n[2];var a=n[3];var f=n[5];return(t<=23&&i<=59&&a<=59||t==23&&i==59&&a==60)&&(!r||f)}var b=/t|\s/i;function date_time(e){var r=e.split(b);return r.length==2&&date(r[0])&&time(r[1],true)}var y=/\/|:/;function uri(e){return y.test(e)&&c.test(e)}var g=/[^\\]\\Z/;function regex(e){if(g.test(e))return false;try{new RegExp(e);return true}catch(e){return false}}},,,,,,,function(e){function stubArray(){return[]}e.exports=stubArray},,,,,,function(e,r,n){var t=n(17);function createBaseEach(e,r){return function(n,i){if(n==null){return n}if(!t(n)){return e(n,i)}var a=n.length,s=r?a:-1,f=Object(n);while(r?s--:++s<a){if(i(f[s],s,f)===false){break}}return n}}e.exports=createBaseEach},,,function(e,r,n){e=n.nmd(e);var t=n(85);var i=true&&r&&!r.nodeType&&r;var a=i&&"object"=="object"&&e&&!e.nodeType&&e;var s=a&&a.exports===i;var f=s&&t.process;var c=function(){try{var e=a&&a.require&&a.require("util").types;if(e){return e}return f&&f.binding&&f.binding("util")}catch(e){}}();e.exports=c},,function(e,r,n){var t=n(237),i=n(164),a=n(17);function keys(e){return a(e)?t(e):i(e)}e.exports=keys},,function(e){function apply(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}e.exports=apply},,,,,function(e,r,n){var t=n(857),i=n(881),a=n(671),s=n(793),f=n(915),c=n(497),l=n(928);var d="[object Map]",o="[object Object]",u="[object Promise]",h="[object Set]",p="[object WeakMap]";var v="[object DataView]";var b=l(t),y=l(i),g=l(a),w=l(s),m=l(f);var A=c;if(t&&A(new t(new ArrayBuffer(1)))!=v||i&&A(new i)!=d||a&&A(a.resolve())!=u||s&&A(new s)!=h||f&&A(new f)!=p){A=function(e){var r=c(e),n=r==o?e.constructor:undefined,t=n?l(n):"";if(t){switch(t){case b:return v;case y:return d;case g:return u;case w:return h;case m:return p}}return r}}e.exports=A},,,,,function(e,r,n){var t=n(980);function mapCacheDelete(e){var r=t(this,e)["delete"](e);this.size-=r?1:0;return r}e.exports=mapCacheDelete},function(e,r,n){var t=n(688),i=n(495),a=n(869),s=n(936),f=n(530),c=n(71);function hasPath(e,r,n){r=t(r,e);var l=-1,d=r.length,o=false;while(++l<d){var u=c(r[l]);if(!(o=e!=null&&n(e,u))){break}e=e[u]}if(o||++l!=d){return o}d=e==null?0:e.length;return!!d&&f(d)&&s(u,d)&&(a(e)||i(e))}e.exports=hasPath},,,function(e){"use strict";e.exports=function generate_const(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d="data"+(a||"");var o="valid"+i;var u=e.opts.$data&&s&&s.$data,h;if(u){t+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ";h="schema"+i}else{h=s}if(!u){t+=" var schema"+i+" = validate.schema"+f+";"}t+="var "+o+" = equal("+d+", schema"+i+"); if (!"+o+") {   ";var p=p||[];p.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+"const"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValue: schema"+i+" } ";if(e.opts.messages!==false){t+=" , message: 'should be equal to constant' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}var v=t;t=p.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+v+"]); "}else{t+=" validate.errors = ["+v+"]; return false; "}}else{t+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+=" }";if(l){t+=" else { "}return t}},,,,,,,function(e,r,n){"use strict";var t=n(967);var i=Object.prototype.hasOwnProperty;var a=Object.prototype.toString;function resolveYamlOmap(e){if(e===null)return true;var r=[],n,t,s,f,c,l=e;for(n=0,t=l.length;n<t;n+=1){s=l[n];c=false;if(a.call(s)!=="[object Object]")return false;for(f in s){if(i.call(s,f)){if(!c)c=true;else return false}}if(!c)return false;if(r.indexOf(f)===-1)r.push(f);else return false}return true}function constructYamlOmap(e){return e!==null?e:[]}e.exports=new t("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap})},,,function(e,r,n){var t=n(479),i=n(882);var a=t(i,"Promise");e.exports=a},function(e,r,n){"use strict";var t=n(967);e.exports=new t("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})},,,function(e){function cacheHas(e,r){return e.has(r)}e.exports=cacheHas},,,,function(e){"use strict";var r=e.exports=function Cache(){this._cache={}};r.prototype.put=function Cache_put(e,r){this._cache[e]=r};r.prototype.get=function Cache_get(e){return this._cache[e]};r.prototype.del=function Cache_del(e){delete this._cache[e]};r.prototype.clear=function Cache_clear(){this._cache={}}},,,,function(e){"use strict";e.exports=function generate__limitItems(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d;var o="data"+(a||"");var u=e.opts.$data&&s&&s.$data,h;if(u){t+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ";h="schema"+i}else{h=s}if(!(u||typeof s=="number")){throw new Error(r+" must be number")}var p=r=="maxItems"?">":"<";t+="if ( ";if(u){t+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "}t+=" "+o+".length "+p+" "+h+") { ";var d=r;var v=v||[];v.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+h+" } ";if(e.opts.messages!==false){t+=" , message: 'should NOT have ";if(r=="maxItems"){t+="more"}else{t+="fewer"}t+=" than ";if(u){t+="' + "+h+" + '"}else{t+=""+s}t+=" items' "}if(e.opts.verbose){t+=" , schema:  ";if(u){t+="validate.schema"+f}else{t+=""+s}t+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+o+" "}t+=" } "}else{t+=" {} "}var b=t;t=v.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+b+"]); "}else{t+=" validate.errors = ["+b+"]; return false; "}}else{t+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+="} ";if(l){t+=" else { "}return t}},,,,,function(e,r,n){var t=n(869),i=n(84),a=n(871),s=n(931);function castPath(e,r){if(t(e)){return e}return i(e,r)?[e]:a(s(e))}e.exports=castPath},,,,,,,,,,,,,,,,function(e,r,n){var t=n(497),i=n(869),a=n(926);var s="[object String]";function isString(e){return typeof e=="string"||!i(e)&&a(e)&&t(e)==s}e.exports=isString},,,,,function(e){function createBaseFor(e){return function(r,n,t){var i=-1,a=Object(r),s=t(r),f=s.length;while(f--){var c=s[e?f:++i];if(n(a[c],c,a)===false){break}}return r}}e.exports=createBaseFor},,,function(e,r,n){var t=n(588),i=n(645);function baseForOwn(e,r){return e&&t(e,r,i)}e.exports=baseForOwn},,function(e,r,n){"use strict";var t=n(967);var i=new RegExp("^([0-9][0-9][0-9][0-9])"+"-([0-9][0-9])"+"-([0-9][0-9])$");var a=new RegExp("^([0-9][0-9][0-9][0-9])"+"-([0-9][0-9]?)"+"-([0-9][0-9]?)"+"(?:[Tt]|[ \\t]+)"+"([0-9][0-9]?)"+":([0-9][0-9])"+":([0-9][0-9])"+"(?:\\.([0-9]*))?"+"(?:[ \\t]*(Z|([-+])([0-9][0-9]?)"+"(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(e){if(e===null)return false;if(i.exec(e)!==null)return true;if(a.exec(e)!==null)return true;return false}function constructYamlTimestamp(e){var r,n,t,s,f,c,l,d=0,o=null,u,h,p;r=i.exec(e);if(r===null)r=a.exec(e);if(r===null)throw new Error("Date resolve error");n=+r[1];t=+r[2]-1;s=+r[3];if(!r[4]){return new Date(Date.UTC(n,t,s))}f=+r[4];c=+r[5];l=+r[6];if(r[7]){d=r[7].slice(0,3);while(d.length<3){d+="0"}d=+d}if(r[9]){u=+r[10];h=+(r[11]||0);o=(u*60+h)*6e4;if(r[9]==="-")o=-o}p=new Date(Date.UTC(n,t,s,f,c,l,d));if(o)p.setTime(p.getTime()-o);return p}function representYamlTimestamp(e){return e.toISOString()}e.exports=new t("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp})},,function(e,r,n){var t=n(752);var i=Array.prototype;var a=i.splice;function listCacheDelete(e){var r=this.__data__,n=t(r,e);if(n<0){return false}var i=r.length-1;if(n==i){r.pop()}else{a.call(r,n,1)}--this.size;return true}e.exports=listCacheDelete},function(e){function stackDelete(e){var r=this.__data__,n=r["delete"](e);this.size=r.size;return n}e.exports=stackDelete},,,,,,,,,function(e,r,n){"use strict";var t=n(896);e.exports={Validation:errorSubclass(ValidationError),MissingRef:errorSubclass(MissingRefError)};function ValidationError(e){this.message="validation failed";this.errors=e;this.ajv=this.validation=true}MissingRefError.message=function(e,r){return"can't resolve reference "+r+" from id "+e};function MissingRefError(e,r,n){this.message=n||MissingRefError.message(e,r);this.missingRef=t.url(e,r);this.missingSchema=t.normalizeId(t.fullPath(this.missingRef))}function errorSubclass(e){e.prototype=Object.create(Error.prototype);e.prototype.constructor=e;return e}},,,,,,,,,,,,,function(e){var r=800,n=16;var t=Date.now;function shortOut(e){var i=0,a=0;return function(){var s=t(),f=n-(s-a);a=s;if(f>0){if(++i>=r){return arguments[0]}}else{i=0}return e.apply(undefined,arguments)}}e.exports=shortOut},,,,,function(e){function stubFalse(){return false}e.exports=stubFalse},,,function(e){e.exports=require("fs")},,,function(e){"use strict";e.exports=function generate_not(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d="data"+(a||"");var o="errs__"+i;var u=e.util.copy(e);u.level++;var h="valid"+u.level;if(e.opts.strictKeywords?typeof s=="object"&&Object.keys(s).length>0:e.util.schemaHasRules(s,e.RULES.all)){u.schema=s;u.schemaPath=f;u.errSchemaPath=c;t+=" var "+o+" = errors;  ";var p=e.compositeRule;e.compositeRule=u.compositeRule=true;u.createErrors=false;var v;if(u.opts.allErrors){v=u.opts.allErrors;u.opts.allErrors=false}t+=" "+e.validate(u)+" ";u.createErrors=true;if(v)u.opts.allErrors=v;e.compositeRule=u.compositeRule=p;t+=" if ("+h+") {   ";var b=b||[];b.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+"not"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ";if(e.opts.messages!==false){t+=" , message: 'should NOT be valid' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}var y=t;t=b.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+y+"]); "}else{t+=" validate.errors = ["+y+"]; return false; "}}else{t+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+=" } else {  errors = "+o+"; if (vErrors !== null) { if ("+o+") vErrors.length = "+o+"; else vErrors = null; } ";if(e.opts.allErrors){t+=" } "}}else{t+="  var err =   ";if(e.createErrors!==false){t+=" { keyword: '"+"not"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ";if(e.opts.messages!==false){t+=" , message: 'should NOT be valid' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(l){t+=" if (false) { "}}return t}},,function(e,r,n){var t=n(901);function assocIndexOf(e,r){var n=e.length;while(n--){if(t(e[n][0],r)){return n}}return-1}e.exports=assocIndexOf},,,,,,function(e,r,n){var t=n(688),i=n(71);function baseGet(e,r){r=t(r,e);var n=0,a=r.length;while(e!=null&&n<a){e=e[i(r[n++])]}return n&&n==a?e:undefined}e.exports=baseGet},,,,,,,function(e){function baseTimes(e,r){var n=-1,t=Array(e);while(++n<e){t[n]=r(n)}return t}e.exports=baseTimes},,,,,,,function(e){"use strict";e.exports=function generate_multipleOf(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d="data"+(a||"");var o=e.opts.$data&&s&&s.$data,u;if(o){t+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ";u="schema"+i}else{u=s}if(!(o||typeof s=="number")){throw new Error(r+" must be number")}t+="var division"+i+";if (";if(o){t+=" "+u+" !== undefined && ( typeof "+u+" != 'number' || "}t+=" (division"+i+" = "+d+" / "+u+", ";if(e.opts.multipleOfPrecision){t+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+e.opts.multipleOfPrecision+" "}else{t+=" division"+i+" !== parseInt(division"+i+") "}t+=" ) ";if(o){t+="  )  "}t+=" ) {   ";var h=h||[];h.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+"multipleOf"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+u+" } ";if(e.opts.messages!==false){t+=" , message: 'should be multiple of ";if(o){t+="' + "+u}else{t+=""+u+"'"}}if(e.opts.verbose){t+=" , schema:  ";if(o){t+="validate.schema"+f}else{t+=""+s}t+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}var p=t;t=h.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+p+"]); "}else{t+=" validate.errors = ["+p+"]; return false; "}}else{t+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+="} ";if(l){t+=" else { "}return t}},,function(e,r,n){var t=n(922),i=n(850),a=n(979),s=n(482);var f=a(function(e,r){if(e==null){return[]}var n=r.length;if(n>1&&s(e,r[0],r[1])){r=[]}else if(n>2&&s(r[0],r[1],r[2])){r=[r[0]]}return i(e,t(r,1),[])});e.exports=f},,,,function(e,r,n){var t=n(320);var i=t(Object.keys,Object);e.exports=i},,,,,,,,,,,function(e,r,n){var t=n(752);function listCacheGet(e){var r=this.__data__,n=t(r,e);return n<0?undefined:r[n][1]}e.exports=listCacheGet},,,function(e){function listCacheClear(){this.__data__=[];this.size=0}e.exports=listCacheClear},function(e,r,n){var t=n(479),i=n(882);var a=t(i,"Set");e.exports=a},,,,,,function(e,r,n){var t=n(497),i=n(334);var a="[object AsyncFunction]",s="[object Function]",f="[object GeneratorFunction]",c="[object Proxy]";function isFunction(e){if(!i(e)){return false}var r=t(e);return r==s||r==f||r==a||r==c}e.exports=isFunction},,,function(e,r,n){var t=n(388),i=n(634);var a=Object.prototype;var s=a.propertyIsEnumerable;var f=Object.getOwnPropertySymbols;var c=!f?i:function(e){if(e==null){return[]}e=Object(e);return t(f(e),function(r){return s.call(e,r)})};e.exports=c},,function(e){function setCacheHas(e){return this.__data__.has(e)}e.exports=setCacheHas},,,,,,function(e,r,n){"use strict";e.exports={$ref:n(393),allOf:n(443),anyOf:n(93),$comment:n(134),const:n(661),contains:n(964),dependencies:n(591),enum:n(163),format:n(847),if:n(862),items:n(408),maximum:n(404),minimum:n(404),maxItems:n(683),minItems:n(683),maxLength:n(114),minLength:n(114),maxProperties:n(142),minProperties:n(142),multipleOf:n(772),not:n(750),oneOf:n(106),pattern:n(912),properties:n(924),propertyNames:n(195),required:n(420),uniqueItems:n(995),validate:n(585)}},,,,,,,,,function(e,r,n){var t=n(201);function compareMultiple(e,r,n){var i=-1,a=e.criteria,s=r.criteria,f=a.length,c=n.length;while(++i<f){var l=t(a[i],s[i]);if(l){if(i>=c){return l}var d=n[i];return l*(d=="desc"?-1:1)}}return e.index-r.index}e.exports=compareMultiple},,,function(e){function identity(e){return e}e.exports=identity},,,,,,,function(e){function baseProperty(e){return function(r){return r==null?undefined:r[e]}}e.exports=baseProperty},,,,,,,,,,,,,,function(e,r,n){var t=n(608);function stackClear(){this.__data__=new t;this.size=0}e.exports=stackClear},,,,function(e){"use strict";e.exports=function generate_format(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d="data"+(a||"");if(e.opts.format===false){if(l){t+=" if (true) { "}return t}var o=e.opts.$data&&s&&s.$data,u;if(o){t+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ";u="schema"+i}else{u=s}var h=e.opts.unknownFormats,p=Array.isArray(h);if(o){var v="format"+i,b="isObject"+i,y="formatType"+i;t+=" var "+v+" = formats["+u+"]; var "+b+" = typeof "+v+" == 'object' && !("+v+" instanceof RegExp) && "+v+".validate; var "+y+" = "+b+" && "+v+".type || 'string'; if ("+b+") { ";if(e.async){t+=" var async"+i+" = "+v+".async; "}t+=" "+v+" = "+v+".validate; } if (  ";if(o){t+=" ("+u+" !== undefined && typeof "+u+" != 'string') || "}t+=" (";if(h!="ignore"){t+=" ("+u+" && !"+v+" ";if(p){t+=" && self._opts.unknownFormats.indexOf("+u+") == -1 "}t+=") || "}t+=" ("+v+" && "+y+" == '"+n+"' && !(typeof "+v+" == 'function' ? ";if(e.async){t+=" (async"+i+" ? await "+v+"("+d+") : "+v+"("+d+")) "}else{t+=" "+v+"("+d+") "}t+=" : "+v+".test("+d+"))))) {"}else{var v=e.formats[s];if(!v){if(h=="ignore"){e.logger.warn('unknown format "'+s+'" ignored in schema at path "'+e.errSchemaPath+'"');if(l){t+=" if (true) { "}return t}else if(p&&h.indexOf(s)>=0){if(l){t+=" if (true) { "}return t}else{throw new Error('unknown format "'+s+'" is used in schema at path "'+e.errSchemaPath+'"')}}var b=typeof v=="object"&&!(v instanceof RegExp)&&v.validate;var y=b&&v.type||"string";if(b){var g=v.async===true;v=v.validate}if(y!=n){if(l){t+=" if (true) { "}return t}if(g){if(!e.async)throw new Error("async format in sync schema");var w="formats"+e.util.getProperty(s)+".validate";t+=" if (!(await "+w+"("+d+"))) { "}else{t+=" if (! ";var w="formats"+e.util.getProperty(s);if(b)w+=".validate";if(typeof v=="function"){t+=" "+w+"("+d+") "}else{t+=" "+w+".test("+d+") "}t+=") { "}}var m=m||[];m.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+"format"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ";if(o){t+=""+u}else{t+=""+e.util.toQuotedString(s)}t+="  } ";if(e.opts.messages!==false){t+=" , message: 'should match format \"";if(o){t+="' + "+u+" + '"}else{t+=""+e.util.escapeQuotes(s)}t+="\"' "}if(e.opts.verbose){t+=" , schema:  ";if(o){t+="validate.schema"+f}else{t+=""+e.util.toQuotedString(s)}t+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}var A=t;t=m.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+A+"]); "}else{t+=" validate.errors = ["+A+"]; return false; "}}else{t+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+=" } ";if(l){t+=" else { "}return t}},,,function(e,r,n){var t=n(356),i=n(758),a=n(427),s=n(192),f=n(241),c=n(258),l=n(819),d=n(822),o=n(869);function baseOrderBy(e,r,n){if(r.length){r=t(r,function(e){if(o(e)){return function(r){return i(r,e.length===1?e[0]:e)}}return e})}else{r=[d]}var u=-1;r=t(r,c(a));var h=s(e,function(e,n,i){var a=t(r,function(r){return r(e)});return{criteria:a,index:++u,value:e}});return f(h,function(e,r){return l(e,r,n)})}e.exports=baseOrderBy},,,function(e){function mapToArray(e){var r=-1,n=Array(e.size);e.forEach(function(e,t){n[++r]=[t,e]});return n}e.exports=mapToArray},,,,function(e,r,n){var t=n(479),i=n(882);var a=t(i,"DataView");e.exports=a},,,,,function(e){"use strict";e.exports=function generate_if(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d="data"+(a||"");var o="valid"+i;var u="errs__"+i;var h=e.util.copy(e);h.level++;var p="valid"+h.level;var v=e.schema["then"],b=e.schema["else"],y=v!==undefined&&(e.opts.strictKeywords?typeof v=="object"&&Object.keys(v).length>0:e.util.schemaHasRules(v,e.RULES.all)),g=b!==undefined&&(e.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0:e.util.schemaHasRules(b,e.RULES.all)),w=h.baseId;if(y||g){var m;h.createErrors=false;h.schema=s;h.schemaPath=f;h.errSchemaPath=c;t+=" var "+u+" = errors; var "+o+" = true;  ";var A=e.compositeRule;e.compositeRule=h.compositeRule=true;t+="  "+e.validate(h)+" ";h.baseId=w;h.createErrors=true;t+="  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; }  ";e.compositeRule=h.compositeRule=A;if(y){t+=" if ("+p+") {  ";h.schema=e.schema["then"];h.schemaPath=e.schemaPath+".then";h.errSchemaPath=e.errSchemaPath+"/then";t+="  "+e.validate(h)+" ";h.baseId=w;t+=" "+o+" = "+p+"; ";if(y&&g){m="ifClause"+i;t+=" var "+m+" = 'then'; "}else{m="'then'"}t+=" } ";if(g){t+=" else { "}}else{t+=" if (!"+p+") { "}if(g){h.schema=e.schema["else"];h.schemaPath=e.schemaPath+".else";h.errSchemaPath=e.errSchemaPath+"/else";t+="  "+e.validate(h)+" ";h.baseId=w;t+=" "+o+" = "+p+"; ";if(y&&g){m="ifClause"+i;t+=" var "+m+" = 'else'; "}else{m="'else'"}t+=" } "}t+=" if (!"+o+") {   var err =   ";if(e.createErrors!==false){t+=" { keyword: '"+"if"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { failingKeyword: "+m+" } ";if(e.opts.messages!==false){t+=" , message: 'should match \"' + "+m+" + '\" schema' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(vErrors); "}else{t+=" validate.errors = vErrors; return false; "}}t+=" }   ";if(l){t+=" else { "}}else{if(l){t+=" if (true) { "}}return t}},,,,,,function(e,r,n){var t=n(416);function baseAssignValue(e,r,n){if(r=="__proto__"&&t){t(e,r,{configurable:true,enumerable:true,value:n,writable:true})}else{e[r]=n}}e.exports=baseAssignValue},function(e){var r=Array.isArray;e.exports=r},,function(e,r,n){var t=n(422);var i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var a=/\\(\\)?/g;var s=t(function(e){var r=[];if(e.charCodeAt(0)===46){r.push("")}e.replace(i,function(e,n,t,i){r.push(t?i.replace(a,"$1"):n||e)});return r});e.exports=s},,,function(e,r,n){"use strict";var t=n(514);e.exports=t.DEFAULT=new t({include:[n(949)],explicit:[n(914),n(242),n(4)]})},function(e,r,n){"use strict";var t=n(896),i=n(578),a=n(726),s=n(969);var f=n(585);var c=i.ucs2length;var l=n(206);var d=a.Validation;e.exports=compile;function compile(e,r,n,o){var u=this,h=this._opts,p=[undefined],v={},b=[],y={},g=[],w={},m=[];r=r||{schema:e,refVal:p,refs:v};var A=checkCompiling.call(this,e,r,o);var E=this._compilations[A.index];if(A.compiling)return E.callValidate=callValidate;var S=this._formats;var k=this.RULES;try{var R=localCompile(e,r,n,o);E.validate=R;var M=E.callValidate;if(M){M.schema=R.schema;M.errors=null;M.refs=R.refs;M.refVal=R.refVal;M.root=R.root;M.$async=R.$async;if(h.sourceCode)M.source=R.source}return R}finally{endCompiling.call(this,e,r,o)}function callValidate(){var e=E.validate;var r=e.apply(this,arguments);callValidate.errors=e.errors;return r}function localCompile(e,n,s,o){var y=!n||n&&n.schema==e;if(n.schema!=r.schema)return compile.call(u,e,n,s,o);var w=e.$async===true;var A=f({isTop:true,schema:e,isRoot:y,baseId:o,root:n,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:a.MissingRef,RULES:k,validate:f,util:i,resolve:t,resolveRef:resolveRef,usePattern:usePattern,useDefault:useDefault,useCustomRule:useCustomRule,opts:h,formats:S,logger:u.logger,self:u});A=vars(p,refValCode)+vars(b,patternCode)+vars(g,defaultCode)+vars(m,customRuleCode)+A;if(h.processCode)A=h.processCode(A,e);var E;try{var R=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",A);E=R(u,k,S,r,p,g,m,l,c,d);p[0]=E}catch(e){u.logger.error("Error compiling schema, function code:",A);throw e}E.schema=e;E.errors=null;E.refs=v;E.refVal=p;E.root=y?E:n;if(w)E.$async=true;if(h.sourceCode===true){E.source={code:A,patterns:b,defaults:g}}return E}function resolveRef(e,i,a){i=t.url(e,i);var s=v[i];var f,c;if(s!==undefined){f=p[s];c="refVal["+s+"]";return resolvedRef(f,c)}if(!a&&r.refs){var l=r.refs[i];if(l!==undefined){f=r.refVal[l];c=addLocalRef(i,f);return resolvedRef(f,c)}}c=addLocalRef(i);var d=t.call(u,localCompile,r,i);if(d===undefined){var o=n&&n[i];if(o){d=t.inlineRef(o,h.inlineRefs)?o:compile.call(u,o,r,n,e)}}if(d===undefined){removeLocalRef(i)}else{replaceLocalRef(i,d);return resolvedRef(d,c)}}function addLocalRef(e,r){var n=p.length;p[n]=r;v[e]=n;return"refVal"+n}function removeLocalRef(e){delete v[e]}function replaceLocalRef(e,r){var n=v[e];p[n]=r}function resolvedRef(e,r){return typeof e=="object"||typeof e=="boolean"?{code:r,schema:e,inline:true}:{code:r,$async:e&&!!e.$async}}function usePattern(e){var r=y[e];if(r===undefined){r=y[e]=b.length;b[r]=e}return"pattern"+r}function useDefault(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(e===null)return"null";var r=s(e);var n=w[r];if(n===undefined){n=w[r]=g.length;g[n]=e}return"default"+n}}function useCustomRule(e,r,n,t){if(u._opts.validateSchema!==false){var i=e.definition.dependencies;if(i&&!i.every(function(e){return Object.prototype.hasOwnProperty.call(n,e)}))throw new Error("parent schema must have all required keywords: "+i.join(","));var a=e.definition.validateSchema;if(a){var s=a(r);if(!s){var f="keyword schema is invalid: "+u.errorsText(a.errors);if(u._opts.validateSchema=="log")u.logger.error(f);else throw new Error(f)}}}var c=e.definition.compile,l=e.definition.inline,d=e.definition.macro;var o;if(c){o=c.call(u,r,n,t)}else if(d){o=d.call(u,r,n,t);if(h.validateSchema!==false)u.validateSchema(o,true)}else if(l){o=l.call(u,t,e.keyword,r,n)}else{o=e.definition.validate;if(!o)return}if(o===undefined)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var p=m.length;m[p]=o;return{code:"customRule"+p,validate:o}}}function checkCompiling(e,r,n){var t=compIndex.call(this,e,r,n);if(t>=0)return{index:t,compiling:true};t=this._compilations.length;this._compilations[t]={schema:e,root:r,baseId:n};return{index:t,compiling:false}}function endCompiling(e,r,n){var t=compIndex.call(this,e,r,n);if(t>=0)this._compilations.splice(t,1)}function compIndex(e,r,n){for(var t=0;t<this._compilations.length;t++){var i=this._compilations[t];if(i.schema==e&&i.root==r&&i.baseId==n)return t}return-1}function patternCode(e,r){return"var pattern"+e+" = new RegExp("+i.toQuotedString(r[e])+");"}function defaultCode(e){return"var default"+e+" = defaults["+e+"];"}function refValCode(e,r){return r[e]===undefined?"":"var refVal"+e+" = refVal["+e+"];"}function customRuleCode(e){return"var customRule"+e+" = customRules["+e+"];"}function vars(e,r){if(!e.length)return"";var n="";for(var t=0;t<e.length;t++)n+=r(t,e);return n}},,,,,,function(e,r,n){var t=n(479),i=n(882);var a=t(i,"Map");e.exports=a},function(e,r,n){var t=n(85);var i=typeof self=="object"&&self&&self.Object===Object&&self;var a=t||i||Function("return this")();e.exports=a},,,function(e,r,n){var t=n(938);var i="Expected a function";function memoize(e,r){if(typeof e!="function"||r!=null&&typeof r!="function"){throw new TypeError(i)}var n=function(){var t=arguments,i=r?r.apply(this,t):t[0],a=n.cache;if(a.has(i)){return a.get(i)}var s=e.apply(this,t);n.cache=a.set(i,s)||a;return s};n.cache=new(memoize.Cache||t);return n}memoize.Cache=t;e.exports=memoize},,,,,function(e,r,n){"use strict";var t=n(726).MissingRef;e.exports=compileAsync;function compileAsync(e,r,n){var i=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");if(typeof r=="function"){n=r;r=undefined}var a=loadMetaSchemaOf(e).then(function(){var n=i._addSchema(e,undefined,r);return n.validate||_compileAsync(n)});if(n){a.then(function(e){n(null,e)},n)}return a;function loadMetaSchemaOf(e){var r=e.$schema;return r&&!i.getSchema(r)?compileAsync.call(i,{$ref:r},true):Promise.resolve()}function _compileAsync(e){try{return i._compile(e)}catch(e){if(e instanceof t)return loadMissingSchema(e);throw e}function loadMissingSchema(n){var t=n.missingSchema;if(added(t))throw new Error("Schema "+t+" is loaded but "+n.missingRef+" cannot be resolved");var a=i._loadingSchemas[t];if(!a){a=i._loadingSchemas[t]=i._opts.loadSchema(t);a.then(removePromise,removePromise)}return a.then(function(e){if(!added(t)){return loadMetaSchemaOf(e).then(function(){if(!added(t))i.addSchema(e,t,undefined,r)})}}).then(function(){return _compileAsync(e)});function removePromise(){delete i._loadingSchemas[t]}function added(e){return i._refs[e]||i._schemas[e]}}}}},,,,,function(e){var r="__lodash_hash_undefined__";function setCacheAdd(e){this.__data__.set(e,r);return this}e.exports=setCacheAdd},function(e,r,n){"use strict";var t=n(20),i=n(206),a=n(578),s=n(605),f=n(533);e.exports=resolve;resolve.normalizeId=normalizeId;resolve.fullPath=getFullPath;resolve.url=resolveUrl;resolve.ids=resolveIds;resolve.inlineRef=inlineRef;resolve.schema=resolveSchema;function resolve(e,r,n){var t=this._refs[n];if(typeof t=="string"){if(this._refs[t])t=this._refs[t];else return resolve.call(this,e,r,t)}t=t||this._schemas[n];if(t instanceof s){return inlineRef(t.schema,this._opts.inlineRefs)?t.schema:t.validate||this._compile(t)}var i=resolveSchema.call(this,r,n);var a,f,c;if(i){a=i.schema;r=i.root;c=i.baseId}if(a instanceof s){f=a.validate||e.call(this,a.schema,r,undefined,c)}else if(a!==undefined){f=inlineRef(a,this._opts.inlineRefs)?a:e.call(this,a,r,undefined,c)}return f}function resolveSchema(e,r){var n=t.parse(r),i=_getFullPath(n),a=getFullPath(this._getId(e.schema));if(Object.keys(e.schema).length===0||i!==a){var f=normalizeId(i);var c=this._refs[f];if(typeof c=="string"){return resolveRecursive.call(this,e,c,n)}else if(c instanceof s){if(!c.validate)this._compile(c);e=c}else{c=this._schemas[f];if(c instanceof s){if(!c.validate)this._compile(c);if(f==normalizeId(r))return{schema:c,root:e,baseId:a};e=c}else{return}}if(!e.schema)return;a=getFullPath(this._getId(e.schema))}return getJsonPointer.call(this,n,a,e.schema,e)}function resolveRecursive(e,r,n){var t=resolveSchema.call(this,e,r);if(t){var i=t.schema;var a=t.baseId;e=t.root;var s=this._getId(i);if(s)a=resolveUrl(a,s);return getJsonPointer.call(this,n,a,i,e)}}var c=a.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function getJsonPointer(e,r,n,t){e.fragment=e.fragment||"";if(e.fragment.slice(0,1)!="/")return;var i=e.fragment.split("/");for(var s=1;s<i.length;s++){var f=i[s];if(f){f=a.unescapeFragment(f);n=n[f];if(n===undefined)break;var l;if(!c[f]){l=this._getId(n);if(l)r=resolveUrl(r,l);if(n.$ref){var d=resolveUrl(r,n.$ref);var o=resolveSchema.call(this,t,d);if(o){n=o.schema;t=o.root;r=o.baseId}}}}}if(n!==undefined&&n!==t.schema)return{schema:n,root:t,baseId:r}}var l=a.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function inlineRef(e,r){if(r===false)return false;if(r===undefined||r===true)return checkNoRef(e);else if(r)return countKeys(e)<=r}function checkNoRef(e){var r;if(Array.isArray(e)){for(var n=0;n<e.length;n++){r=e[n];if(typeof r=="object"&&!checkNoRef(r))return false}}else{for(var t in e){if(t=="$ref")return false;r=e[t];if(typeof r=="object"&&!checkNoRef(r))return false}}return true}function countKeys(e){var r=0,n;if(Array.isArray(e)){for(var t=0;t<e.length;t++){n=e[t];if(typeof n=="object")r+=countKeys(n);if(r==Infinity)return Infinity}}else{for(var i in e){if(i=="$ref")return Infinity;if(l[i]){r++}else{n=e[i];if(typeof n=="object")r+=countKeys(n)+1;if(r==Infinity)return Infinity}}}return r}function getFullPath(e,r){if(r!==false)e=normalizeId(e);var n=t.parse(e);return _getFullPath(n)}function _getFullPath(e){return t.serialize(e).split("#")[0]+"#"}var d=/#\/?$/;function normalizeId(e){return e?e.replace(d,""):""}function resolveUrl(e,r){r=normalizeId(r);return t.resolve(e,r)}function resolveIds(e){var r=normalizeId(this._getId(e));var n={"":r};var s={"":getFullPath(r,false)};var c={};var l=this;f(e,{allKeys:true},function(e,r,f,d,o,u,h){if(r==="")return;var p=l._getId(e);var v=n[d];var b=s[d]+"/"+o;if(h!==undefined)b+="/"+(typeof h=="number"?h:a.escapeFragment(h));if(typeof p=="string"){p=v=normalizeId(v?t.resolve(v,p):p);var y=l._refs[p];if(typeof y=="string")y=l._refs[y];if(y&&y.schema){if(!i(e,y.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=normalizeId(b)){if(p[0]=="#"){if(c[p]&&!i(e,c[p]))throw new Error('id "'+p+'" resolves to more than one schema');c[p]=e}else{l._refs[p]=b}}}n[r]=v;s[r]=b});return c}},,,,,function(e){function eq(e,r){return e===r||e!==e&&r!==r}e.exports=eq},function(e,r,n){var t=n(417),i=n(920),a=n(395),s=n(232),f=n(470);function Hash(e){var r=-1,n=e==null?0:e.length;this.clear();while(++r<n){var t=e[r];this.set(t[0],t[1])}}Hash.prototype.clear=t;Hash.prototype["delete"]=i;Hash.prototype.get=a;Hash.prototype.has=s;Hash.prototype.set=f;e.exports=Hash},,,,,,function(e,r,n){var t=n(494),i=n(288),a=n(409),s=n(84),f=n(594),c=n(509),l=n(71);var d=1,o=2;function baseMatchesProperty(e,r){if(s(e)&&f(r)){return c(l(e),r)}return function(n){var s=i(n,e);return s===undefined&&s===r?a(n,e):t(r,s,d|o)}}e.exports=baseMatchesProperty},,function(e){function stackHas(e){return this.__data__.has(e)}e.exports=stackHas},,function(e){"use strict";e.exports=function generate_pattern(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d="data"+(a||"");var o=e.opts.$data&&s&&s.$data,u;if(o){t+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ";u="schema"+i}else{u=s}var h=o?"(new RegExp("+u+"))":e.usePattern(s);t+="if ( ";if(o){t+=" ("+u+" !== undefined && typeof "+u+" != 'string') || "}t+=" !"+h+".test("+d+") ) {   ";var p=p||[];p.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+"pattern"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ";if(o){t+=""+u}else{t+=""+e.util.toQuotedString(s)}t+="  } ";if(e.opts.messages!==false){t+=" , message: 'should match pattern \"";if(o){t+="' + "+u+" + '"}else{t+=""+e.util.escapeQuotes(s)}t+="\"' "}if(e.opts.verbose){t+=" , schema:  ";if(o){t+="validate.schema"+f}else{t+=""+e.util.toQuotedString(s)}t+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}var v=t;t=p.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+v+"]); "}else{t+=" validate.errors = ["+v+"]; return false; "}}else{t+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+="} ";if(l){t+=" else { "}return t}},,function(e,r,n){"use strict";var t=n(967);function resolveJavascriptUndefined(){return true}function constructJavascriptUndefined(){return undefined}function representJavascriptUndefined(){return""}function isUndefined(e){return typeof e==="undefined"}e.exports=new t("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:resolveJavascriptUndefined,construct:constructJavascriptUndefined,predicate:isUndefined,represent:representJavascriptUndefined})},function(e,r,n){var t=n(479),i=n(882);var a=t(i,"WeakMap");e.exports=a},function(e,r,n){"use strict";var t=n(187);var i=n(34);function deprecated(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}e.exports.Type=n(967);e.exports.Schema=n(514);e.exports.FAILSAFE_SCHEMA=n(37);e.exports.JSON_SCHEMA=n(571);e.exports.CORE_SCHEMA=n(183);e.exports.DEFAULT_SAFE_SCHEMA=n(949);e.exports.DEFAULT_FULL_SCHEMA=n(874);e.exports.load=t.load;e.exports.loadAll=t.loadAll;e.exports.safeLoad=t.safeLoad;e.exports.safeLoadAll=t.safeLoadAll;e.exports.dump=i.dump;e.exports.safeDump=i.safeDump;e.exports.YAMLException=n(199);e.exports.MINIMAL_SCHEMA=n(37);e.exports.SAFE_SCHEMA=n(949);e.exports.DEFAULT_SCHEMA=n(874);e.exports.scan=deprecated("scan");e.exports.parse=deprecated("parse");e.exports.compose=deprecated("compose");e.exports.addConstructor=deprecated("addConstructor")},function(e,r,n){"use strict";var t=n(916);e.exports=t},,,function(e){function hashDelete(e){var r=this.has(e)&&delete this.__data__[e];this.size-=r?1:0;return r}e.exports=hashDelete},,function(e,r,n){var t=n(82),i=n(299);function baseFlatten(e,r,n,a,s){var f=-1,c=e.length;n||(n=i);s||(s=[]);while(++f<c){var l=e[f];if(r>0&&n(l)){if(r>1){baseFlatten(l,r-1,n,a,s)}else{t(s,l)}}else if(!a){s[s.length]=l}}return s}e.exports=baseFlatten},function(e,r,n){var t=n(213);var i=Object.prototype;var a=i.hasOwnProperty;var s=i.toString;var f=t?t.toStringTag:undefined;function getRawTag(e){var r=a.call(e,f),n=e[f];try{e[f]=undefined;var t=true}catch(e){}var i=s.call(e);if(t){if(r){e[f]=n}else{delete e[f]}}return i}e.exports=getRawTag},function(e){"use strict";e.exports=function generate_properties(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d="data"+(a||"");var o="errs__"+i;var u=e.util.copy(e);var h="";u.level++;var p="valid"+u.level;var v="key"+i,b="idx"+i,y=u.dataLevel=e.dataLevel+1,g="data"+y,w="dataProperties"+i;var m=Object.keys(s||{}).filter(notProto),A=e.schema.patternProperties||{},E=Object.keys(A).filter(notProto),S=e.schema.additionalProperties,k=m.length||E.length,R=S===false,M=typeof S=="object"&&Object.keys(S).length,C=e.opts.removeAdditional,D=R||M||C,_=e.opts.ownProperties,j=e.baseId;var B=e.schema.required;if(B&&!(e.opts.$data&&B.$data)&&B.length<e.opts.loopRequired){var q=e.util.toHash(B)}function notProto(e){return e!=="__proto__"}t+="var "+o+" = errors;var "+p+" = true;";if(_){t+=" var "+w+" = undefined;"}if(D){if(_){t+=" "+w+" = "+w+" || Object.keys("+d+"); for (var "+b+"=0; "+b+"<"+w+".length; "+b+"++) { var "+v+" = "+w+"["+b+"]; "}else{t+=" for (var "+v+" in "+d+") { "}if(k){t+=" var isAdditional"+i+" = !(false ";if(m.length){if(m.length>8){t+=" || validate.schema"+f+".hasOwnProperty("+v+") "}else{var U=m;if(U){var x,I=-1,K=U.length-1;while(I<K){x=U[I+=1];t+=" || "+v+" == "+e.util.toQuotedString(x)+" "}}}}if(E.length){var O=E;if(O){var F,P=-1,T=O.length-1;while(P<T){F=O[P+=1];t+=" || "+e.usePattern(F)+".test("+v+") "}}}t+=" ); if (isAdditional"+i+") { "}if(C=="all"){t+=" delete "+d+"["+v+"]; "}else{var N=e.errorPath;var z="' + "+v+" + '";if(e.opts._errorDataPathProperty){e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)}if(R){if(C){t+=" delete "+d+"["+v+"]; "}else{t+=" "+p+" = false; ";var L=c;c=e.errSchemaPath+"/additionalProperties";var W=W||[];W.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+"additionalProperties"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+z+"' } ";if(e.opts.messages!==false){t+=" , message: '";if(e.opts._errorDataPathProperty){t+="is an invalid additional property"}else{t+="should NOT have additional properties"}t+="' "}if(e.opts.verbose){t+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}var H=t;t=W.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+H+"]); "}else{t+=" validate.errors = ["+H+"]; return false; "}}else{t+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}c=L;if(l){t+=" break; "}}}else if(M){if(C=="failing"){t+=" var "+o+" = errors;  ";var G=e.compositeRule;e.compositeRule=u.compositeRule=true;u.schema=S;u.schemaPath=e.schemaPath+".additionalProperties";u.errSchemaPath=e.errSchemaPath+"/additionalProperties";u.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var J=d+"["+v+"]";u.dataPathArr[y]=v;var Y=e.validate(u);u.baseId=j;if(e.util.varOccurences(Y,g)<2){t+=" "+e.util.varReplace(Y,g,J)+" "}else{t+=" var "+g+" = "+J+"; "+Y+" "}t+=" if (!"+p+") { errors = "+o+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+v+"]; }  ";e.compositeRule=u.compositeRule=G}else{u.schema=S;u.schemaPath=e.schemaPath+".additionalProperties";u.errSchemaPath=e.errSchemaPath+"/additionalProperties";u.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var J=d+"["+v+"]";u.dataPathArr[y]=v;var Y=e.validate(u);u.baseId=j;if(e.util.varOccurences(Y,g)<2){t+=" "+e.util.varReplace(Y,g,J)+" "}else{t+=" var "+g+" = "+J+"; "+Y+" "}if(l){t+=" if (!"+p+") break; "}}}e.errorPath=N}if(k){t+=" } "}t+=" }  ";if(l){t+=" if ("+p+") { ";h+="}"}}var Q=e.opts.useDefaults&&!e.compositeRule;if(m.length){var Z=m;if(Z){var x,X=-1,V=Z.length-1;while(X<V){x=Z[X+=1];var $=s[x];if(e.opts.strictKeywords?typeof $=="object"&&Object.keys($).length>0:e.util.schemaHasRules($,e.RULES.all)){var ee=e.util.getProperty(x),J=d+ee,re=Q&&$.default!==undefined;u.schema=$;u.schemaPath=f+ee;u.errSchemaPath=c+"/"+e.util.escapeFragment(x);u.errorPath=e.util.getPath(e.errorPath,x,e.opts.jsonPointers);u.dataPathArr[y]=e.util.toQuotedString(x);var Y=e.validate(u);u.baseId=j;if(e.util.varOccurences(Y,g)<2){Y=e.util.varReplace(Y,g,J);var ne=J}else{var ne=g;t+=" var "+g+" = "+J+"; "}if(re){t+=" "+Y+" "}else{if(q&&q[x]){t+=" if ( "+ne+" === undefined ";if(_){t+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(x)+"') "}t+=") { "+p+" = false; ";var N=e.errorPath,L=c,te=e.util.escapeQuotes(x);if(e.opts._errorDataPathProperty){e.errorPath=e.util.getPath(N,x,e.opts.jsonPointers)}c=e.errSchemaPath+"/required";var W=W||[];W.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+te+"' } ";if(e.opts.messages!==false){t+=" , message: '";if(e.opts._errorDataPathProperty){t+="is a required property"}else{t+="should have required property \\'"+te+"\\'"}t+="' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}var H=t;t=W.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+H+"]); "}else{t+=" validate.errors = ["+H+"]; return false; "}}else{t+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}c=L;e.errorPath=N;t+=" } else { "}else{if(l){t+=" if ( "+ne+" === undefined ";if(_){t+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(x)+"') "}t+=") { "+p+" = true; } else { "}else{t+=" if ("+ne+" !== undefined ";if(_){t+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(x)+"') "}t+=" ) { "}}t+=" "+Y+" } "}}if(l){t+=" if ("+p+") { ";h+="}"}}}}if(E.length){var ie=E;if(ie){var F,ae=-1,se=ie.length-1;while(ae<se){F=ie[ae+=1];var $=A[F];if(e.opts.strictKeywords?typeof $=="object"&&Object.keys($).length>0:e.util.schemaHasRules($,e.RULES.all)){u.schema=$;u.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(F);u.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(F);if(_){t+=" "+w+" = "+w+" || Object.keys("+d+"); for (var "+b+"=0; "+b+"<"+w+".length; "+b+"++) { var "+v+" = "+w+"["+b+"]; "}else{t+=" for (var "+v+" in "+d+") { "}t+=" if ("+e.usePattern(F)+".test("+v+")) { ";u.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var J=d+"["+v+"]";u.dataPathArr[y]=v;var Y=e.validate(u);u.baseId=j;if(e.util.varOccurences(Y,g)<2){t+=" "+e.util.varReplace(Y,g,J)+" "}else{t+=" var "+g+" = "+J+"; "+Y+" "}if(l){t+=" if (!"+p+") break; "}t+=" } ";if(l){t+=" else "+p+" = true; "}t+=" }  ";if(l){t+=" if ("+p+") { ";h+="}"}}}}}if(l){t+=" "+h+" if ("+o+" == errors) {"}return t}},,function(e){function isObjectLike(e){return e!=null&&typeof e=="object"}e.exports=isObjectLike},,function(e){var r=Function.prototype;var n=r.toString;function toSource(e){if(e!=null){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}e.exports=toSource},,,function(e,r,n){var t=n(475);function toString(e){return e==null?"":t(e)}e.exports=toString},,,,,function(e){var r=9007199254740991;var n=/^(?:0|[1-9]\d*)$/;function isIndex(e,t){var i=typeof e;t=t==null?r:t;return!!t&&(i=="number"||i!="symbol"&&n.test(e))&&(e>-1&&e%1==0&&e<t)}e.exports=isIndex},,function(e,r,n){var t=n(610),i=n(657),a=n(372),s=n(609),f=n(582);function MapCache(e){var r=-1,n=e==null?0:e.length;this.clear();while(++r<n){var t=e[r];this.set(t[0],t[1])}}MapCache.prototype.clear=t;MapCache.prototype["delete"]=i;MapCache.prototype.get=a;MapCache.prototype.has=s;MapCache.prototype.set=f;e.exports=MapCache},,,function(e,r,n){"use strict";var t=n(875),i=n(896),a=n(679),s=n(605),f=n(969),c=n(627),l=n(561),d=n(412),o=n(578);e.exports=Ajv;Ajv.prototype.validate=validate;Ajv.prototype.compile=compile;Ajv.prototype.addSchema=addSchema;Ajv.prototype.addMetaSchema=addMetaSchema;Ajv.prototype.validateSchema=validateSchema;Ajv.prototype.getSchema=getSchema;Ajv.prototype.removeSchema=removeSchema;Ajv.prototype.addFormat=addFormat;Ajv.prototype.errorsText=errorsText;Ajv.prototype._addSchema=_addSchema;Ajv.prototype._compile=_compile;Ajv.prototype.compileAsync=n(890);var u=n(297);Ajv.prototype.addKeyword=u.add;Ajv.prototype.getKeyword=u.get;Ajv.prototype.removeKeyword=u.remove;Ajv.prototype.validateKeyword=u.validate;var h=n(726);Ajv.ValidationError=h.Validation;Ajv.MissingRefError=h.MissingRef;Ajv.$dataMetaSchema=d;var p="http://json-schema.org/draft-07/schema";var v=["removeAdditional","useDefaults","coerceTypes","strictDefaults"];var b=["/properties"];function Ajv(e){if(!(this instanceof Ajv))return new Ajv(e);e=this._opts=o.copy(e)||{};setLogger(this);this._schemas={};this._refs={};this._fragments={};this._formats=c(e.format);this._cache=e.cache||new a;this._loadingSchemas={};this._compilations=[];this.RULES=l();this._getId=chooseGetId(e);e.loopRequired=e.loopRequired||Infinity;if(e.errorDataPath=="property")e._errorDataPathProperty=true;if(e.serialize===undefined)e.serialize=f;this._metaOpts=getMetaSchemaOptions(this);if(e.formats)addInitialFormats(this);if(e.keywords)addInitialKeywords(this);addDefaultMetaSchema(this);if(typeof e.meta=="object")this.addMetaSchema(e.meta);if(e.nullable)this.addKeyword("nullable",{metaSchema:{type:"boolean"}});addInitialSchemas(this)}function validate(e,r){var n;if(typeof e=="string"){n=this.getSchema(e);if(!n)throw new Error('no schema with key or ref "'+e+'"')}else{var t=this._addSchema(e);n=t.validate||this._compile(t)}var i=n(r);if(n.$async!==true)this.errors=n.errors;return i}function compile(e,r){var n=this._addSchema(e,undefined,r);return n.validate||this._compile(n)}function addSchema(e,r,n,t){if(Array.isArray(e)){for(var a=0;a<e.length;a++)this.addSchema(e[a],undefined,n,t);return this}var s=this._getId(e);if(s!==undefined&&typeof s!="string")throw new Error("schema id must be string");r=i.normalizeId(r||s);checkUnique(this,r);this._schemas[r]=this._addSchema(e,n,t,true);return this}function addMetaSchema(e,r,n){this.addSchema(e,r,n,true);return this}function validateSchema(e,r){var n=e.$schema;if(n!==undefined&&typeof n!="string")throw new Error("$schema must be a string");n=n||this._opts.defaultMeta||defaultMeta(this);if(!n){this.logger.warn("meta-schema not available");this.errors=null;return true}var t=this.validate(n,e);if(!t&&r){var i="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(i);else throw new Error(i)}return t}function defaultMeta(e){var r=e._opts.meta;e._opts.defaultMeta=typeof r=="object"?e._getId(r)||r:e.getSchema(p)?p:undefined;return e._opts.defaultMeta}function getSchema(e){var r=_getSchemaObj(this,e);switch(typeof r){case"object":return r.validate||this._compile(r);case"string":return this.getSchema(r);case"undefined":return _getSchemaFragment(this,e)}}function _getSchemaFragment(e,r){var n=i.schema.call(e,{schema:{}},r);if(n){var a=n.schema,f=n.root,c=n.baseId;var l=t.call(e,a,f,undefined,c);e._fragments[r]=new s({ref:r,fragment:true,schema:a,root:f,baseId:c,validate:l});return l}}function _getSchemaObj(e,r){r=i.normalizeId(r);return e._schemas[r]||e._refs[r]||e._fragments[r]}function removeSchema(e){if(e instanceof RegExp){_removeAllSchemas(this,this._schemas,e);_removeAllSchemas(this,this._refs,e);return this}switch(typeof e){case"undefined":_removeAllSchemas(this,this._schemas);_removeAllSchemas(this,this._refs);this._cache.clear();return this;case"string":var r=_getSchemaObj(this,e);if(r)this._cache.del(r.cacheKey);delete this._schemas[e];delete this._refs[e];return this;case"object":var n=this._opts.serialize;var t=n?n(e):e;this._cache.del(t);var a=this._getId(e);if(a){a=i.normalizeId(a);delete this._schemas[a];delete this._refs[a]}}return this}function _removeAllSchemas(e,r,n){for(var t in r){var i=r[t];if(!i.meta&&(!n||n.test(t))){e._cache.del(i.cacheKey);delete r[t]}}}function _addSchema(e,r,n,t){if(typeof e!="object"&&typeof e!="boolean")throw new Error("schema should be object or boolean");var a=this._opts.serialize;var f=a?a(e):e;var c=this._cache.get(f);if(c)return c;t=t||this._opts.addUsedSchema!==false;var l=i.normalizeId(this._getId(e));if(l&&t)checkUnique(this,l);var d=this._opts.validateSchema!==false&&!r;var o;if(d&&!(o=l&&l==i.normalizeId(e.$schema)))this.validateSchema(e,true);var u=i.ids.call(this,e);var h=new s({id:l,schema:e,localRefs:u,cacheKey:f,meta:n});if(l[0]!="#"&&t)this._refs[l]=h;this._cache.put(f,h);if(d&&o)this.validateSchema(e,true);return h}function _compile(e,r){if(e.compiling){e.validate=callValidate;callValidate.schema=e.schema;callValidate.errors=null;callValidate.root=r?r:callValidate;if(e.schema.$async===true)callValidate.$async=true;return callValidate}e.compiling=true;var n;if(e.meta){n=this._opts;this._opts=this._metaOpts}var i;try{i=t.call(this,e.schema,r,e.localRefs)}catch(r){delete e.validate;throw r}finally{e.compiling=false;if(e.meta)this._opts=n}e.validate=i;e.refs=i.refs;e.refVal=i.refVal;e.root=i.root;return i;function callValidate(){var r=e.validate;var n=r.apply(this,arguments);callValidate.errors=r.errors;return n}}function chooseGetId(e){switch(e.schemaId){case"auto":return _get$IdOrId;case"id":return _getId;default:return _get$Id}}function _getId(e){if(e.$id)this.logger.warn("schema $id ignored",e.$id);return e.id}function _get$Id(e){if(e.id)this.logger.warn("schema id ignored",e.id);return e.$id}function _get$IdOrId(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function errorsText(e,r){e=e||this.errors;if(!e)return"No errors";r=r||{};var n=r.separator===undefined?", ":r.separator;var t=r.dataVar===undefined?"data":r.dataVar;var i="";for(var a=0;a<e.length;a++){var s=e[a];if(s)i+=t+s.dataPath+" "+s.message+n}return i.slice(0,-n.length)}function addFormat(e,r){if(typeof r=="string")r=new RegExp(r);this._formats[e]=r;return this}function addDefaultMetaSchema(e){var r;if(e._opts.$data){r=n(15);e.addMetaSchema(r,r.$id,true)}if(e._opts.meta===false)return;var t=n(278);if(e._opts.$data)t=d(t,b);e.addMetaSchema(t,p,true);e._refs["http://json-schema.org/schema"]=p}function addInitialSchemas(e){var r=e._opts.schemas;if(!r)return;if(Array.isArray(r))e.addSchema(r);else for(var n in r)e.addSchema(r[n],n)}function addInitialFormats(e){for(var r in e._opts.formats){var n=e._opts.formats[r];e.addFormat(r,n)}}function addInitialKeywords(e){for(var r in e._opts.keywords){var n=e._opts.keywords[r];e.addKeyword(r,n)}}function checkUnique(e,r){if(e._schemas[r]||e._refs[r])throw new Error('schema with key or id "'+r+'" already exists')}function getMetaSchemaOptions(e){var r=o.copy(e._opts);for(var n=0;n<v.length;n++)delete r[v[n]];return r}function setLogger(e){var r=e._opts.logger;if(r===false){e.logger={log:noop,warn:noop,error:noop}}else{if(r===undefined)r=console;if(!(typeof r=="object"&&r.log&&r.warn&&r.error))throw new Error("logger must implement log, warn and error methods");e.logger=r}}function noop(){}},,,,,function(e){function constant(e){return function(){return e}}e.exports=constant},,,function(e,r,n){"use strict";var t=n(514);e.exports=new t({include:[n(183)],implicit:[n(714),n(148)],explicit:[n(551),n(668),n(39),n(128)]})},,function(e,r,n){var t=n(82),i=n(869);function baseGetAllKeys(e,r,n){var a=r(e);return i(e)?a:t(a,n(e))}e.exports=baseGetAllKeys},,,,function(e,r,n){var t=n(608),i=n(881),a=n(938);var s=200;function stackSet(e,r){var n=this.__data__;if(n instanceof t){var f=n.__data__;if(!i||f.length<s-1){f.push([e,r]);this.size=++n.size;return this}n=this.__data__=new a(f)}n.set(e,r);this.size=n.size;return this}e.exports=stackSet},,,,,,,,function(e,r,n){"use strict";var t=n(136);var i=n(967);function isHexCode(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function isOctCode(e){return 48<=e&&e<=55}function isDecCode(e){return 48<=e&&e<=57}function resolveYamlInteger(e){if(e===null)return false;var r=e.length,n=0,t=false,i;if(!r)return false;i=e[n];if(i==="-"||i==="+"){i=e[++n]}if(i==="0"){if(n+1===r)return true;i=e[++n];if(i==="b"){n++;for(;n<r;n++){i=e[n];if(i==="_")continue;if(i!=="0"&&i!=="1")return false;t=true}return t&&i!=="_"}if(i==="x"){n++;for(;n<r;n++){i=e[n];if(i==="_")continue;if(!isHexCode(e.charCodeAt(n)))return false;t=true}return t&&i!=="_"}for(;n<r;n++){i=e[n];if(i==="_")continue;if(!isOctCode(e.charCodeAt(n)))return false;t=true}return t&&i!=="_"}if(i==="_")return false;for(;n<r;n++){i=e[n];if(i==="_")continue;if(i===":")break;if(!isDecCode(e.charCodeAt(n))){return false}t=true}if(!t||i==="_")return false;if(i!==":")return true;return/^(:[0-5]?[0-9])+$/.test(e.slice(n))}function constructYamlInteger(e){var r=e,n=1,t,i,a=[];if(r.indexOf("_")!==-1){r=r.replace(/_/g,"")}t=r[0];if(t==="-"||t==="+"){if(t==="-")n=-1;r=r.slice(1);t=r[0]}if(r==="0")return 0;if(t==="0"){if(r[1]==="b")return n*parseInt(r.slice(2),2);if(r[1]==="x")return n*parseInt(r,16);return n*parseInt(r,8)}if(r.indexOf(":")!==-1){r.split(":").forEach(function(e){a.unshift(parseInt(e,10))});r=0;i=1;a.forEach(function(e){r+=e*i;i*=60});return n*r}return n*parseInt(r,10)}function isInteger(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1===0&&!t.isNegativeZero(e))}e.exports=new i("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(e){"use strict";e.exports=function generate_contains(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d="data"+(a||"");var o="valid"+i;var u="errs__"+i;var h=e.util.copy(e);var p="";h.level++;var v="valid"+h.level;var b="i"+i,y=h.dataLevel=e.dataLevel+1,g="data"+y,w=e.baseId,m=e.opts.strictKeywords?typeof s=="object"&&Object.keys(s).length>0:e.util.schemaHasRules(s,e.RULES.all);t+="var "+u+" = errors;var "+o+";";if(m){var A=e.compositeRule;e.compositeRule=h.compositeRule=true;h.schema=s;h.schemaPath=f;h.errSchemaPath=c;t+=" var "+v+" = false; for (var "+b+" = 0; "+b+" < "+d+".length; "+b+"++) { ";h.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers,true);var E=d+"["+b+"]";h.dataPathArr[y]=b;var S=e.validate(h);h.baseId=w;if(e.util.varOccurences(S,g)<2){t+=" "+e.util.varReplace(S,g,E)+" "}else{t+=" var "+g+" = "+E+"; "+S+" "}t+=" if ("+v+") break; }  ";e.compositeRule=h.compositeRule=A;t+=" "+p+" if (!"+v+") {"}else{t+=" if ("+d+".length == 0) {"}var k=k||[];k.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+"contains"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ";if(e.opts.messages!==false){t+=" , message: 'should contain a valid item' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}var R=t;t=k.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+R+"]); "}else{t+=" validate.errors = ["+R+"]; return false; "}}else{t+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+=" } else { ";if(m){t+="  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; } "}if(e.opts.allErrors){t+=" } "}return t}},,,function(e,r,n){"use strict";var t=n(199);var i=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"];var a=["scalar","sequence","mapping"];function compileStyleAliases(e){var r={};if(e!==null){Object.keys(e).forEach(function(n){e[n].forEach(function(e){r[String(e)]=n})})}return r}function Type(e,r){r=r||{};Object.keys(r).forEach(function(r){if(i.indexOf(r)===-1){throw new t('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}});this.tag=e;this.kind=r["kind"]||null;this.resolve=r["resolve"]||function(){return true};this.construct=r["construct"]||function(e){return e};this.instanceOf=r["instanceOf"]||null;this.predicate=r["predicate"]||null;this.represent=r["represent"]||null;this.defaultStyle=r["defaultStyle"]||null;this.styleAliases=compileStyleAliases(r["styleAliases"]||null);if(a.indexOf(this.kind)===-1){throw new t('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}}e.exports=Type},,function(e){"use strict";e.exports=function(e,r){if(!r)r={};if(typeof r==="function")r={cmp:r};var n=typeof r.cycles==="boolean"?r.cycles:false;var t=r.cmp&&function(e){return function(r){return function(n,t){var i={key:n,value:r[n]};var a={key:t,value:r[t]};return e(i,a)}}}(r.cmp);var i=[];return function stringify(e){if(e&&e.toJSON&&typeof e.toJSON==="function"){e=e.toJSON()}if(e===undefined)return;if(typeof e=="number")return isFinite(e)?""+e:"null";if(typeof e!=="object")return JSON.stringify(e);var r,a;if(Array.isArray(e)){a="[";for(r=0;r<e.length;r++){if(r)a+=",";a+=stringify(e[r])||"null"}return a+"]"}if(e===null)return"null";if(i.indexOf(e)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=i.push(e)-1;var f=Object.keys(e).sort(t&&t(e));a="";for(r=0;r<f.length;r++){var c=f[r];var l=stringify(e[c]);if(!l)continue;if(a)a+=",";a+=JSON.stringify(c)+":"+l}i.splice(s,1);return"{"+a+"}"}(e)}},,,function(e){"use strict";e.exports=function generate_custom(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d;var o="data"+(a||"");var u="valid"+i;var h="errs__"+i;var p=e.opts.$data&&s&&s.$data,v;if(p){t+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ";v="schema"+i}else{v=s}var b=this,y="definition"+i,g=b.definition,w="";var m,A,E,S,k;if(p&&g.$data){k="keywordValidate"+i;var R=g.validateSchema;t+=" var "+y+" = RULES.custom['"+r+"'].definition; var "+k+" = "+y+".validate;"}else{S=e.useCustomRule(b,s,e.schema,e);if(!S)return;v="validate.schema"+f;k=S.code;m=g.compile;A=g.inline;E=g.macro}var M=k+".errors",C="i"+i,D="ruleErr"+i,_=g.async;if(_&&!e.async)throw new Error("async keyword in sync schema");if(!(A||E)){t+=""+M+" = null;"}t+="var "+h+" = errors;var "+u+";";if(p&&g.$data){w+="}";t+=" if ("+v+" === undefined) { "+u+" = true; } else { ";if(R){w+="}";t+=" "+u+" = "+y+".validateSchema("+v+"); if ("+u+") { "}}if(A){if(g.statements){t+=" "+S.validate+" "}else{t+=" "+u+" = "+S.validate+"; "}}else if(E){var j=e.util.copy(e);var w="";j.level++;var B="valid"+j.level;j.schema=S.validate;j.schemaPath="";var q=e.compositeRule;e.compositeRule=j.compositeRule=true;var U=e.validate(j).replace(/validate\.schema/g,k);e.compositeRule=j.compositeRule=q;t+=" "+U}else{var x=x||[];x.push(t);t="";t+="  "+k+".call( ";if(e.opts.passContext){t+="this"}else{t+="self"}if(m||g.schema===false){t+=" , "+o+" "}else{t+=" , "+v+" , "+o+" , validate.schema"+e.schemaPath+" "}t+=" , (dataPath || '')";if(e.errorPath!='""'){t+=" + "+e.errorPath}var I=a?"data"+(a-1||""):"parentData",K=a?e.dataPathArr[a]:"parentDataProperty";t+=" , "+I+" , "+K+" , rootData )  ";var O=t;t=x.pop();if(g.errors===false){t+=" "+u+" = ";if(_){t+="await "}t+=""+O+"; "}else{if(_){M="customErrors"+i;t+=" var "+M+" = null; try { "+u+" = await "+O+"; } catch (e) { "+u+" = false; if (e instanceof ValidationError) "+M+" = e.errors; else throw e; } "}else{t+=" "+M+" = null; "+u+" = "+O+"; "}}}if(g.modifying){t+=" if ("+I+") "+o+" = "+I+"["+K+"];"}t+=""+w;if(g.valid){if(l){t+=" if (true) { "}}else{t+=" if ( ";if(g.valid===undefined){t+=" !";if(E){t+=""+B}else{t+=""+u}}else{t+=" "+!g.valid+" "}t+=") { ";d=b.keyword;var x=x||[];x.push(t);t="";var x=x||[];x.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+b.keyword+"' } ";if(e.opts.messages!==false){t+=" , message: 'should pass \""+b.keyword+"\" keyword validation' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+o+" "}t+=" } "}else{t+=" {} "}var F=t;t=x.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+F+"]); "}else{t+=" validate.errors = ["+F+"]; return false; "}}else{t+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}var P=t;t=x.pop();if(A){if(g.errors){if(g.errors!="full"){t+="  for (var "+C+"="+h+"; "+C+"<errors; "+C+"++) { var "+D+" = vErrors["+C+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+c+'"; } ';if(e.opts.verbose){t+=" "+D+".schema = "+v+"; "+D+".data = "+o+"; "}t+=" } "}}else{if(g.errors===false){t+=" "+P+" "}else{t+=" if ("+h+" == errors) { "+P+" } else {  for (var "+C+"="+h+"; "+C+"<errors; "+C+"++) { var "+D+" = vErrors["+C+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+c+'"; } ';if(e.opts.verbose){t+=" "+D+".schema = "+v+"; "+D+".data = "+o+"; "}t+=" } } "}}}else if(E){t+="   var err =   ";if(e.createErrors!==false){t+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+b.keyword+"' } ";if(e.opts.messages!==false){t+=" , message: 'should pass \""+b.keyword+"\" keyword validation' "}if(e.opts.verbose){t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+o+" "}t+=" } "}else{t+=" {} "}t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(vErrors); "}else{t+=" validate.errors = vErrors; return false; "}}}else{if(g.errors===false){t+=" "+P+" "}else{t+=" if (Array.isArray("+M+")) { if (vErrors === null) vErrors = "+M+"; else vErrors = vErrors.concat("+M+"); errors = vErrors.length;  for (var "+C+"="+h+"; "+C+"<errors; "+C+"++) { var "+D+" = vErrors["+C+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+";  "+D+'.schemaPath = "'+c+'";  ';if(e.opts.verbose){t+=" "+D+".schema = "+v+"; "+D+".data = "+o+"; "}t+=" } } else { "+P+" } "}}t+=" } ";if(l){t+=" else { "}}return t}},,function(e,r,n){var t=n(758);function basePropertyDeep(e){return function(r){return t(r,e)}}e.exports=basePropertyDeep},,function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ConfigActionError=r.ActionError=void 0;class ActionError extends Error{constructor(e){super(e);Object.setPrototypeOf(this,new.target.prototype)}}r.ActionError=ActionError;class ConfigActionError extends ActionError{constructor(e){super(e);Object.setPrototypeOf(this,new.target.prototype)}}r.ConfigActionError=ConfigActionError},,,function(e,r,n){var t=n(822),i=n(153),a=n(94);function baseRest(e,r){return a(i(e,r,t),e+"")}e.exports=baseRest},function(e,r,n){var t=n(308);function getMapData(e,r){var n=e.__data__;return t(r)?n[typeof r=="string"?"string":"hash"]:n.map}e.exports=getMapData},,,,,,function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.writeFile=r.makeDir=r.pathResolve=void 0;const t=n(747);const i=n(622);function pathResolve(e,r){return i.resolve(e,r)}r.pathResolve=pathResolve;async function makeDir(e,r){const{mkdir:n,stat:i}=t.promises;if(r=="."){return true}const a=pathResolve(e,r);try{const e=await i(a);if(!e.isDirectory()){throw new Error(`not a directory: ${r}`)}}catch(e){if(e.code!="ENOENT"){throw e}await n(a,{recursive:true})}return true}r.makeDir=makeDir;async function writeFile(e,r,n){const{writeFile:a}=t.promises;const s=pathResolve(e,r);const f=i.dirname(r);await makeDir(e,f);await a(s,n);return true}r.writeFile=writeFile},function(e,r,n){var t=n(323),i=n(305),a=n(249),s=n(101),f=n(652),c=n(869),l=n(190),d=n(496);var o=1;var u="[object Arguments]",h="[object Array]",p="[object Object]";var v=Object.prototype;var b=v.hasOwnProperty;function baseIsEqualDeep(e,r,n,v,y,g){var w=c(e),m=c(r),A=w?h:f(e),E=m?h:f(r);A=A==u?p:A;E=E==u?p:E;var S=A==p,k=E==p,R=A==E;if(R&&l(e)){if(!l(r)){return false}w=true;S=false}if(R&&!S){g||(g=new t);return w||d(e)?i(e,r,n,v,y,g):a(e,r,A,n,v,y,g)}if(!(n&o)){var M=S&&b.call(e,"__wrapped__"),C=k&&b.call(r,"__wrapped__");if(M||C){var D=M?e.value():e,_=C?r.value():r;g||(g=new t);return y(D,_,n,v,g)}}if(!R){return false}g||(g=new t);return s(e,r,n,v,y,g)}e.exports=baseIsEqualDeep},,,,,,,,function(e){"use strict";e.exports=function generate_uniqueItems(e,r,n){var t=" ";var i=e.level;var a=e.dataLevel;var s=e.schema[r];var f=e.schemaPath+e.util.getProperty(r);var c=e.errSchemaPath+"/"+r;var l=!e.opts.allErrors;var d="data"+(a||"");var o="valid"+i;var u=e.opts.$data&&s&&s.$data,h;if(u){t+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ";h="schema"+i}else{h=s}if((s||u)&&e.opts.uniqueItems!==false){if(u){t+=" var "+o+"; if ("+h+" === false || "+h+" === undefined) "+o+" = true; else if (typeof "+h+" != 'boolean') "+o+" = false; else { "}t+=" var i = "+d+".length , "+o+" = true , j; if (i > 1) { ";var p=e.schema.items&&e.schema.items.type,v=Array.isArray(p);if(!p||p=="object"||p=="array"||v&&(p.indexOf("object")>=0||p.indexOf("array")>=0)){t+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+o+" = false; break outer; } } } "}else{t+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var b="checkDataType"+(v?"s":"");t+=" if ("+e.util[b](p,"item",e.opts.strictNumbers,true)+") continue; ";if(v){t+=" if (typeof item == 'string') item = '\"' + item; "}t+=" if (typeof itemIndices[item] == 'number') { "+o+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}t+=" } ";if(u){t+="  }  "}t+=" if (!"+o+") {   ";var y=y||[];y.push(t);t="";if(e.createErrors!==false){t+=" { keyword: '"+"uniqueItems"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ";if(e.opts.messages!==false){t+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "}if(e.opts.verbose){t+=" , schema:  ";if(u){t+="validate.schema"+f}else{t+=""+s}t+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}t+=" } "}else{t+=" {} "}var g=t;t=y.pop();if(!e.compositeRule&&l){if(e.async){t+=" throw new ValidationError(["+g+"]); "}else{t+=" validate.errors = ["+g+"]; return false; "}}else{t+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+=" } ";if(l){t+=" else { "}}else{if(l){t+=" if (true) { "}}return t}}],function(e){"use strict";!function(){e.nmd=function(e){e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});return e}}()});
//# sourceMappingURL=index.js.map